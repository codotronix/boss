"use strict";(self.webpackChunkboss=self.webpackChunkboss||[]).push([[690],{903:function(e,n,r){r.r(n);var i=r(166),t=r.n(i),a=r(250),o=r(413),l=r(885),s=r(434),c="Dock_root__3Ro3G",u="Dock_inner__hNqIr",d="Dock_scrollable_holder__syAwl",f=r(733),p="DockIcon_root__yRpG+",m="DockIcon_ico__-A3EI",h=r(982),v=r(572),_=r(829),I="app_display_type_window",g={appsviewer:{appId:"appsviewer",name:"Apps",iconClass:"fa-solid fa-cubes-stacked",docked:!0,displayType:I,allowedInstances:1,keywords:["apps","all apps"]},folders:{appId:"folders",name:"Folders",iconClass:"fa-regular fa-folder-open",docked:!0,displayType:I,keywords:["finder","files","folders","explorer"]},settings:{appId:"settings",name:"Settings",iconClass:"fa-solid fa-gear",docked:!0,allowedInstances:1},welcomeapp:{appId:"welcomeapp",name:"Welcome",iconClass:"fa-solid fa-face-smile",displayType:I},bcalc:{appId:"bcalc",name:"B-Calc",iconClass:"fa-solid fa-calculator",displayType:I,keywords:["bcalc","calc","calculator","math"]},terminal:{appId:"terminal",name:"Terminal",iconClass:"fa-solid fa-terminal",docked:!0,displayType:I,keywords:["terminal","cmd","command line","command-line","dos","emulator","shell"]},timer:{appId:"timer",name:"Timer",iconClass:"fa-solid fa-stopwatch-20",displayType:I},bin:{appId:"bin",name:"Bin",iconClass:"fa-solid fa-trash",docked:!0,displayType:I},bnotes:{appId:"bnotes",name:"B-Notes",iconClass:"fa-solid fa-file-lines",displayType:I},bchat:{appId:"bchat",name:"B-Chat",iconClass:"fa-solid fa-comments",displayType:I},calendars:{appId:"calendars",name:"Calendar",iconClass:"fa-regular fa-calendar-days",displayType:I}},x={DEFAULT:"default_window",MAXIMIZED:"maxized_window",MINIMIZED:"minimized_window"},w=1,Z=(0,_.oM)({name:"runtime",initialState:{1:{appId:"RUNTIME",runtimeId:1,crucial:!0}},reducers:{runApp:function(e,n){var r=n.payload,i=r.appId,t=r.args,a=Object.values(e).filter((function(e){return e.appId===i})).length,l=g[i],s=l.allowedInstances;if(0===a||!s||s>a){var c=++w,u={appId:i,runtimeId:c,args:t,zIndex:M(e)+1};return l.displayType===I&&(u.winSize=x.DEFAULT),(0,o.Z)((0,o.Z)({},e),{},(0,v.Z)({},c,u))}if(1===s){for(var d=null,f=0,p=Object.values(e);f<p.length;f++){var m=p[f];if(m.appId===i){d=m;break}}d&&d.winSize===x.MINIMIZED&&(d.winSize=x.MAXIMIZED)}return e},terminateApp:function(e,n){var r=n.payload;if(e[r]&&!e[r].crucial){var i=(0,o.Z)({},e);return delete i[r],i}return e},mizeApp:function(e,n){console.log("mizeApp",n);var r=n.payload,i=r.runtimeId,t=r.winSize,a=e[i],l=g[a.appId];if(l.displayType===I){if(Object.values(x).includes(t)){var s=(0,o.Z)((0,o.Z)({},a),{},{winSize:t});return(0,o.Z)((0,o.Z)({},e),{},(0,v.Z)({},i,s))}}else console.log("The display type of this app is ",l.displayType);return e},raiseWindow:function(e,n){var r=n.payload;r in e&&(e[r].zIndex=M(e)+1)}}}),y=Z.actions,j=y.runApp,N=y.terminateApp,D=y.mizeApp,b=y.raiseWindow,F=Z.reducer;function M(e){return Math.max.apply(Math,(0,h.Z)(Object.values(e).map((function(e){return e.zIndex||0}))))}var S=function(){var e=(0,s.I0)(),n=(0,s.v9)((function(e){return e.procs}));return{run:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),t=1;t<r;t++)i[t-1]=arguments[t];return e(j({appId:n,args:i}))},terminate:function(n){return e(N(n))},mize:function(n,r){return e(D({runtimeId:n,winSize:r}))},raiseWindow:function(n){return e(b(n))},getMaxZIndex:function(){return M(n)}}},C=r(184),A=function(e){var n=e.appId,r=e.name,i=e.iconClass,t=S();return(0,C.jsx)("div",{className:p,onClick:function(){return t.run(n)},title:r,children:(0,C.jsx)("i",{className:(0,f.Z)(i,m)})})},E="MinimizedAppsViewer_root__tchYL",T="MinimizedAppsViewer_minimizeCount__J9StM",k="MinimizedAppsList_root__c1PLn",z="MinimizedAppsList_inner__eFQML",L="MinimizedAppsList_appName__1yts9",W="MinimizedAppsList_closeIco__FRP7q",O=function(e){var n=e.visible,r=e.setVisible,i=e.minimizedApps,t=S();return(0,C.jsx)("div",{className:(0,f.Z)(k,!n&&"hidden"),children:(0,C.jsxs)("ul",{className:z,children:[(!i||0===i.length)&&(0,C.jsx)("li",{className:"p-10",children:"No minimized apps"}),i&&i.map((function(e){return(0,C.jsxs)("li",{children:[(0,C.jsx)("span",{className:L,onClick:function(){return n=e.runtimeId,r(!1),t.mize(n,x.MAXIMIZED),void t.raiseWindow(n);var n},children:g[e.appId].name}),(0,C.jsx)("i",{className:(0,f.Z)("fa-solid fa-xmark",W),title:"Close App",onClick:function(){return n=e.runtimeId,void t.terminate(n);var n}})]},e.runtimeId)}))]})})},R=function(e){var n=(0,i.useState)(!1),r=(0,l.Z)(n,2),t=r[0],a=r[1],o=(0,s.v9)((function(e){return e.procs})),c=Object.values(o).filter((function(e){return e.winSize===x.MINIMIZED}));return(0,C.jsxs)("div",{className:E,children:[(0,C.jsx)(O,{visible:t,setVisible:a,minimizedApps:c}),(0,C.jsxs)("div",{className:p,children:[c.length>0&&(0,C.jsx)("span",{className:T,children:c.length}),(0,C.jsx)("i",{className:(0,f.Z)("fa-solid fa-bars",m),onClick:function(){return a(!t)}})]})]})},X=function(e){var n=(0,i.useState)(1),r=(0,l.Z)(n,2),t=r[0],a=r[1],f=(0,s.v9)((function(e){return e.apps})),p=Object.values(f).filter((function(e){return e.docked})),m=S();return(0,C.jsx)("div",{className:c,style:{zIndex:t},onClick:function(){a(m.getMaxZIndex()+1)},children:(0,C.jsxs)("div",{className:u,children:[(0,C.jsx)("div",{className:d,children:p&&p.map((function(e){return(0,C.jsx)(A,(0,o.Z)({},e),e.appId)}))}),(0,C.jsx)(R,{})]})})},B="WelcomeApp_root__e1Te1",V={root:"WinFrame_root__7I0Xk",bar:"WinFrame_bar__kl8w-",namebar:"WinFrame_namebar__bhez0",btns:"WinFrame_btns__-rDlS",dragIco:"WinFrame_dragIco__Dr0BW",menubar:"WinFrame_menubar__F+ov1",menu:"WinFrame_menu__XVTtb",menuName:"WinFrame_menuName__wE-S3",subMenu:"WinFrame_subMenu__lhnTZ",visible:"WinFrame_visible__D0Kcn",body:"WinFrame_body__RPv4g",loadingComp:"WinFrame_loadingComp__ZRBu7",repositionHandle:"WinFrame_repositionHandle__HI2Yn"};var H=function(e){var n=(0,i.useState)({leftDiff:0,topDiff:0}),r=(0,l.Z)(n,2),t=r[0],a=r[1],o=(0,i.useRef)(null);return{posDiff:t,onDragStart:function(n,r,i){if(o.current={left:n,top:r},e){var t=n-parseInt(e.style.left);i.dataTransfer.setDragImage(e,t,0)}},onDrag:function(e,n){if(0!==e||0!==n){if(o.current){var r=e-o.current.left,i=n-o.current.top;a({leftDiff:r,topDiff:i})}o.current={left:e,top:n}}},onDragEnd:function(e,n){o.current=null}}},P=function(e){var n=e.menu,r=e.handleMenuCommand,t=(0,i.useState)(""),a=(0,l.Z)(t,2),o=a[0],s=a[1];return(0,C.jsx)("div",{className:(0,f.Z)(V.bar,V.menubar),children:n&&Object.keys(n).map((function(e){return(0,C.jsxs)("div",{className:(0,f.Z)(V.menu,o===e&&V.visible),children:[(0,C.jsx)("span",{className:V.menuName,onClick:function(){var n;s(o===(n=e)?"":n)},children:e}),(0,C.jsx)("ul",{className:V.subMenu,children:Object.values(n[e]).map((function(e){return(0,C.jsx)("li",{onClick:function(){return r(e.command)},children:e.name},e.command)}))})]},e)}))})},U="new_window",Y="close_window",G={File:{1:{name:"New Window",command:U},100:{name:"Close Window",command:Y}}},J=function(e){var n=e.appName;return(0,C.jsxs)("div",{className:V.loadingComp,children:[n||"The App"," is Loading ..."]})},Q=function(e){var n=e.appProps,r=e.AppComponent,t=n.runtimeInfo,a=g[t.appId].name,s=S(),c=(0,i.useRef)(x.DEFAULT===x.MAXIMIZED?function(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}()}:{top:10+Math.floor(200*Math.random()),left:10+Math.floor(100*Math.random()),width:Math.max(300,Math.floor(.7*window.innerWidth)),height:350}),u=(0,i.useState)(c.current),d=(0,l.Z)(u,2),p=d[0],m=d[1],h=(0,i.useRef)(),v=(0,i.useState)(G),_=(0,l.Z)(v,2),I=_[0],w=_[1],Z=(0,i.useState)(""),y=(0,l.Z)(Z,2),j=y[0],N=y[1],D=H(h.current),b=D.posDiff,F=D.onDragStart,M=D.onDrag,A=D.onDragEnd,E=H(),T=E.posDiff,k=E.onDragStart,z=E.onDrag,L=E.onDragEnd;(0,i.useEffect)((function(){var e=(0,o.Z)({},c.current);t.winSize===x.MAXIMIZED&&(e={top:0,left:0,width:window.innerWidth,height:window.innerHeight}),t.winSize===x.MINIMIZED&&(e=(0,o.Z)((0,o.Z)({},e),{},{top:window.innerHeight-100,left:200,transform:"scale(0)"})),m(e)}),[t.winSize]),(0,i.useEffect)((function(){m((function(e){return(0,o.Z)((0,o.Z)({},e),{},{left:e.left+b.leftDiff,top:e.top+b.topDiff})}))}),[b]),(0,i.useEffect)((function(){m((function(e){return(0,o.Z)((0,o.Z)({},e),{},{width:e.width+T.leftDiff,height:e.height+T.topDiff})}))}),[T]);var W=function(){return s.raiseWindow(t.runtimeId)},O=(0,i.useCallback)((function(e){e.hideMenu?w(null):e.replace?w(e.menu):(console.log("called..."),e.menu&&w((function(n){var r=(0,o.Z)({},n);for(var i in e.menu)r[i]=i in r?(0,o.Z)((0,o.Z)({},r[i]),e.menu[i]):e.menu[i];return console.log(r),r})))}),[]);return(0,C.jsxs)("div",{className:(0,f.Z)(V.root,t.winSize===x.MINIMIZED&&V.minimized,t.winSize===x.DEFAULT&&V.defaultSized),style:(0,o.Z)((0,o.Z)({},p),{},{zIndex:t.zIndex}),onClick:W,ref:h,children:[(0,C.jsxs)("div",{className:(0,f.Z)(V.bar,V.namebar),draggable:"true",onDrag:function(e){return M(e.pageX,e.pageY)},onDragStart:function(e){return function(e,n,r){F(e,n,r),W()}(e.pageX,e.pageY,e)},onDragEnd:function(e){return A(e.pageX,e.pageY)},children:[(0,C.jsx)("div",{children:a||"Application"}),(0,C.jsxs)("div",{className:V.btns,children:[t.winSize!==x.MAXIMIZED&&(0,C.jsx)("i",{className:"fa-regular fa-square",onClick:function(){return s.mize(t.runtimeId,x.MAXIMIZED)}}),(t.winSize===x.MAXIMIZED||t.winSize===x.MINIMIZED)&&(0,C.jsx)("i",{className:"fa-solid fa-down-left-and-up-right-to-center",onClick:function(){return s.mize(t.runtimeId,x.DEFAULT)}}),(0,C.jsx)("i",{className:"fa-solid fa-window-minimize",onClick:function(){return s.mize(t.runtimeId,x.MINIMIZED)}}),(0,C.jsx)("i",{className:"fa-solid fa-xmark",onClick:function(){s.terminate(t.runtimeId)}})]})]}),(0,C.jsx)(P,{menu:I,handleMenuCommand:function(e){switch(e){case U:window.setTimeout((function(){s.run(t.appId)}),0);break;case Y:s.terminate(t.runtimeId);break;default:N(e)}setTimeout((function(){N("")}),0)}}),(0,C.jsx)("div",{style:{height:p.height-50},className:V.body,children:(0,C.jsx)(i.Suspense,{fallback:(0,C.jsx)(J,{appName:a}),children:(0,C.jsx)(r,(0,o.Z)((0,o.Z)({},n),{},{configMenu:O,menuCommand:j}))})}),(0,C.jsx)("i",{className:(0,f.Z)("fa-solid fa-arrow-up-right-dots",V.repositionHandle),draggable:"true",onDrag:function(e){return z(e.pageX,e.pageY)},onDragStart:function(e){return k(e.pageX,e.pageY)},onDragEnd:function(e){return L(e.pageX,e.pageY)}})]})};var q=function(e){return function(n){return(0,C.jsx)(Q,{appProps:n,AppComponent:e})}},K=q((function(e){return(0,C.jsxs)("div",{className:B,children:[(0,C.jsx)("i",{className:"fa-solid fa-face-smile"}),(0,C.jsx)("h2",{children:"Welcome to B.O.S.S"}),(0,C.jsxs)("div",{children:[(0,C.jsx)("u",{children:"B"}),"asic ",(0,C.jsx)("u",{children:"OS"})," ",(0,C.jsx)("u",{children:"S"}),"imulation"]})]})})),$=q(t().lazy((function(){return r.e(463).then(r.t.bind(r,55,23))}))),ee="AppsViewerApp_root__sHx-3",ne="AppsViewerApp_inner__DgUUp",re="AppsViewerApp_app__NuVJU",ie="AppsViewerApp_figSlot__YDIVw",te="AppsViewerApp_appIco__cX9XG",ae="AppsViewerApp_appName__t4ByG",oe=q((function(e){var n=e.configMenu,r=e.runtimeInfo,t=(0,i.useState)(Object.values(g).filter((function(e){return e.appId!==r.appId}))),a=(0,l.Z)(t,1)[0],o=S();(0,i.useEffect)((function(){n({hideMenu:!0})}),[n]);return(0,C.jsx)("div",{className:ee,children:(0,C.jsx)("div",{className:ne,children:a.map((function(e){return(0,C.jsxs)("div",{className:(0,f.Z)(re,"flex-c"),onDoubleClick:function(){return n=e.appId,void window.setTimeout((function(){o.run(n)}),0);var n},children:[(0,C.jsx)("div",{className:(0,f.Z)(ie,"flex-c"),children:e.iconClass&&(0,C.jsx)("i",{className:(0,f.Z)(e.iconClass,te)})}),(0,C.jsx)("span",{className:(0,f.Z)(ae,"flex-c"),children:e.name})]},e.appId)}))})})})),le=q((function(e){return(0,C.jsx)("div",{children:"The Timer App - Work in Progress"})})),se=q((function(e){var n=e.configMenu;return(0,i.useEffect)((function(){n({hideMenu:!0})}),[n]),(0,C.jsx)("div",{children:"Settings App - Under Development"})})),ce="TerminalApp_root__hnkgI",ue="TerminalApp_historyTxt__NdHdn",de="TerminalApp_inputArea__6htWV",fe=r(762),pe=r(261),me={FILE:"FILE",FOLDER:"FOLDER"};var he={get:function(e){return JSON.parse(localStorage.getItem(e)||null)},set:function(e,n){return localStorage.setItem(e,JSON.stringify(n))},clear:function(e){return localStorage.setItem(e,"")}},ve=function(e){return/^[a-zA-Z0-9-._ ]{1,}$/.test(e)};var _e="BOSS/FILE-TREE",Ie=he.get(_e)||{"/":{id:"/",name:"/",fileType:me.FOLDER,parentId:null,children:["documents","file0"]},documents:{id:"documents",name:"Documents",fileType:me.FOLDER,parentId:"/",children:[]},file0:{id:"file0",name:"Hello Boss",fileType:me.FILE,parentId:"/",content:"Hello Boss.\nThis is a text file"}};he.set(_e,Ie);var ge=(0,_.oM)({name:"fileSystem",initialState:Ie,reducers:{create:function(e,n){var r=n.payload,i=function(e,n,r,i,t){if(!n.trim()||!ve(n))return e;if(!(r in e)||e[r].fileType!==me.FOLDER)return e;if(e[r].children.map((function(n){return e[n].name})).includes(n))return e;var a=function(e,n,r,i){return{id:(0,pe.Z)(),name:e,parentId:n,fileType:r,owner:i,date_creation:Date.now(),date_modification:Date.now(),children:r===me.FOLDER?[]:null}}(n,r,i,t),l=(0,o.Z)((0,o.Z)({},e),{},(0,v.Z)({},a.id,a));r&&(l[r]=(0,o.Z)((0,o.Z)({},l[r]),{},{children:[].concat((0,h.Z)(l[r].children),[a.id])}));return l}(e,r.name,r.parentId,r.fileType,r.owner);return he.set(_e,i),i},rename:function(e,n){var r=n.payload,i=function(e,n,r){if(!r.trim()||!ve(r))return e;if(!(n in e))return e;var i=e[n].parentId;if(e[i].children.map((function(n){return e[n].name})).includes(r))return e;var t=(0,o.Z)((0,o.Z)({},e),{},(0,v.Z)({},n,(0,o.Z)((0,o.Z)({},e[n]),{},{name:r})));return t}(e,r.fileId,r.newName);return he.set(_e,i),i}}}),xe=ge.actions,we=xe.create,Ze=xe.rename,ye=ge.reducer;var je=function(){var e=(0,s.v9)((function(e){return e.files})),n=(0,s.I0)(),r=function(r,i,t){return Ne(e,n,r,i,me.FOLDER,t)};return{createFile:(0,i.useCallback)((function(r,i,t){return Ne(e,n,r,i,me.FILE,t)}),[n,e]),createDir:r,createFolder:r,getParentId:function(n){return function(e,n){return"/"===n?"/":e[n].parentId}(e,n)},getChildren:function(n){return be(e,n)},getChildrenNames:function(n){return function(e,n){return be(e,n).map((function(e){return e.name}))}(e,n)},getPathTill:function(n){return function(e,n){var r=[];for(;n in e;)r.push(e[n].name),n=e[n].parentId;return r.reverse().join("/").replace("//","/")}(e,n)},getFileInfo:function(n){return function(e,n){if(n=function(e){for(var n=e[0],r=1;r<e.length;++r)e[r]===e[r-1]&&"/"===e[r]||(n+=e[r]);return n}(n),"/"===n)return e["/"];var r,i=n.split("/").filter((function(e){return e.trim().length>0})),t=be(e,"/"),a=null,o=(0,fe.Z)(i);try{for(o.s();!(r=o.n()).done;){var l,s=r.value,c=!1,u=(0,fe.Z)(t);try{for(u.s();!(l=u.n()).done;){var d=l.value;if(d.name===s){c=!0,a=d,t=be(e,d.id);break}}}catch(f){u.e(f)}finally{u.f()}if(!c)return null}}catch(f){o.e(f)}finally{o.f()}return a}(e,n)},rename:function(r,i){return De(e,n,i,r)}}};function Ne(e,n,r,i,t,a){return r.trim()&&ve(r)?i in e&&e[i].fileType===me.FOLDER?e[i].children.map((function(n){return e[n].name})).includes(r)?'File/folder name "'.concat(r,'" already exists'):(n(we({name:r,parentId:i,fileType:t,owner:a})),""):"Can not create file/folder in the given location":"Invalid name ".concat(r)}function De(e,n,r,i){if(!r.trim()||!ve(r))return"Invalid name ".concat(r);if(!(i in e))return"File ID (".concat(i,") not valid");var t=e[i].parentId;return e[t].children.map((function(n){return e[n].name})).includes(r)?'File/folder name "'.concat(r,'" already exists'):(n(Ze({fileId:i,newName:r})),"")}function be(e,n){var r=[];if(""===n)r=Object.values(e).filter((function(e){return e.parentId===n}));else if(n in e){r=(e[n].children||[]).map((function(n){return e[n]}))}return r}function Fe(e){var n=function(){var e=je();return{ls:function(n,r){return[e.getChildrenNames(n.currentFolderId),0]},pwd:n,touch:function(n,r){var i,t="",a=(0,fe.Z)(r);try{for(a.s();!(i=a.n()).done;){var o=i.value,l=e.createFile(o,n.currentFolderId);l&&(t+=l+"\n")}}catch(s){a.e(s)}finally{a.f()}return[t,0]},mkdir:r,md:r,cd:function(r,i){var t=i[0];if(!t)return["",0];"."!==t[0]&&"/"!==t[0]&&(t=n(r)[0]+"/"+t);var a=e.getFileInfo(t);return console.log(a),a&&a.fileType===me.FOLDER?(r.currentFolderId=a.id,console.log(r),["",0]):['"'.concat(t,'" is not a folder to move into')]}};function n(n,r){return[e.getPathTill(n.currentFolderId),0]}function r(n,r){var i,t="",a=(0,fe.Z)(r);try{for(a.s();!(i=a.n()).done;){var o=i.value,l=e.createDir(o,n.currentFolderId);l&&(t+=l+"\n")}}catch(s){a.e(s)}finally{a.f()}return[t,0]}}();return function(r){var i=function(e){e=e.trim();var n,r=[],i="",t="",a={},o=!1,l=0,s=(0,fe.Z)(e);try{for(s.s();!(n=s.n()).done;){var c=n.value;if('"'===c)if(o){if((t=t.trim()).length>0){var u="".concat("__QS__").concat(++l);i+=u,a[u]=t,t=""}o=!1}else o=!0;else" "===c?o?t+=c:(i=i.trim()).length>0&&(r.push(i),i=""):o?t+=c:i+=c}}catch(d){s.e(d)}finally{s.f()}return i.length>0&&r.push(i),r.map((function(e){return e.replaceAll(/__QS__[0-9]{1,}/gm,(function(e){return a[e]||e}))}))}(r),t=i[0];console.log(i);var a=(0,o.Z)({},n),s='Sorry could not find the command "<b>'.concat(t,'</b>"'),c=-1;if(t in a){var u=a[t](e,i.slice(1)),d=(0,l.Z)(u,2);s=d[0],c=d[1]}return{msg:s,code:c,ctx:e}}}var Me=function(e,n){return'<div style="color: '.concat(n,'">').concat(e,"</div>")},Se=q((function(e){var n=(0,i.useState)("$ > "),r=(0,l.Z)(n,1)[0],t=(0,i.useState)(Me("Welcome to the B.O.S.S. terminal","lightyellow")),a=(0,l.Z)(t,2),o=a[0],s=a[1],c=(0,i.useState)(r),u=(0,l.Z)(c,2),d=u[0],f=u[1],p=(0,i.useState)([]),m=(0,l.Z)(p,2),v=m[0],_=m[1],I=(0,i.useState)(0),g=(0,l.Z)(I,2),x=g[0],w=g[1],Z=(0,i.useRef)(),y=(0,i.useRef)({}),j=Fe(y.current);(0,i.useEffect)((function(){var e=Z.current;e.focus(),e.selectionStart=e.selectionEnd=e.value.length}),[]),(0,i.useEffect)((function(){y.current={currentFolderId:"/"}}),[]);return(0,C.jsxs)("div",{className:ce,children:[(0,C.jsx)("div",{className:ue,dangerouslySetInnerHTML:{__html:o}}),(0,C.jsx)("textarea",{className:de,value:d,ref:Z,onChange:function(e){var n=e.target.value;n.startsWith(r)&&f(n)},onKeyUp:function(e){var n=e.keyCode;if(13===n){var i=d.substring(r.length).trim();if(0===i.length)return;if("cls"===i||"clear"===i)s("");else{console.log(y.current);var t=j(i,y.current),a=o+Me(d,"lightgreen")+Me(t.msg,"lightskyblue");s(a)}if(f(r),i!==v[v.length-1]){var l=[].concat((0,h.Z)(v),[i]);_(l),w(l.length)}}else if(38===n){if(0===v.length)return;var c=x>0?x-1:0;w(c),f(r+v[c])}else if(40===n){if(0===v.length)return;var u=x<v.length-1?x+1:v.length-1;w(u),f(r+v[u])}}})]})})),Ce="FoldersApp_root__CdN1-",Ae="FoldersApp_locationBar__lR9vB",Ee="FoldersApp_loc__rXGZe",Te="FoldersApp_btns__vQOzO",ke="FoldersApp_inner__lYEzr";var ze="File_file__MMHS5",Le="File_ffIco__5bYlD",We="File_fname__-Nx+X",Oe=function(e){var n=e.file,r=e.open,t=(0,i.useState)(""),a=(0,l.Z)(t,2),o=a[0],s=a[1],c=je();(0,i.useEffect)((function(){s(n.name)}),[n.name]);return(0,C.jsxs)("div",{className:ze,onDoubleClick:function(){return r(n.id,n.fileType)},children:[(0,C.jsxs)("span",{className:Le,children:[n.fileType===me.FILE&&(0,C.jsx)("i",{className:"fa-solid fa-file-lines"}),n.fileType===me.FOLDER&&(0,C.jsx)("i",{className:"fa-regular fa-folder-open"})]}),(0,C.jsx)("input",{className:We,type:"text",value:o,onChange:function(e){var n=e.target.value;ve(n)&&s(n)},onBlur:function(){o!==n.name&&c.rename(n.id,o)}})]})},Re="NEW_FILE",Xe="NEW_FOLDER",Be={appsviewer:oe,settings:se,terminal:Se,folders:q((function(e){var n=e.configMenu,r=e.menuCommand,t=je(),a=(0,i.useState)("/"),o=(0,l.Z)(a,2),s=o[0],c=o[1],u=(0,i.useState)(t.getChildren(s)),d=(0,l.Z)(u,2),f=d[0],p=d[1];!function(e,n){var r=(0,i.useRef)("");(0,i.useEffect)((function(){e!==r.current&&(n(e),r.current=e)}),[e,n])}(r,(function(e){if(e===Re){console.log("Create new file");var n=Math.floor(999*Math.random());t.createFile("File_".concat(n),s)}else if(e===Xe){console.log("Create new folder");var r=Math.floor(999*Math.random());t.createDir("Folder_".concat(r),s)}h()}));var m=function(e,n){n===me.FOLDER&&(c(e),p(t.getChildren(e)))},h=function(){return p(t.getChildren(s))};return(0,i.useEffect)((function(){n({menu:{File:{2:{name:"New File",command:Re},3:{name:"New Folder",command:Xe}}}})}),[n]),(0,C.jsxs)("div",{className:Ce,children:[(0,C.jsxs)("div",{className:Ae,children:[(0,C.jsx)("div",{className:Ee,children:t.getPathTill(s)}),(0,C.jsxs)("div",{className:Te,children:[(0,C.jsx)("i",{className:"fa-solid fa-rotate-right",onClick:h}),(0,C.jsx)("i",{className:"fa-solid fa-arrow-up",onClick:function(){var e=t.getParentId(s);c(e),p(t.getChildren(e))}})]})]}),(0,C.jsx)("div",{children:(0,C.jsx)("div",{className:ke,children:f&&f.map((function(e){return(0,C.jsx)(Oe,{file:e,open:m},e.id)}))})})]})})),welcomeapp:K,bcalc:$,timer:le},Ve=function(){var e=Object.values((0,s.v9)((function(e){return e.procs})));return(0,C.jsx)("div",{className:"apps_container",children:e.map((function(e){var n=Be[e.appId];return n?(0,C.jsx)(n,{runtimeInfo:e},e.runtimeId):null}))})},He=function(){return(0,C.jsxs)("div",{className:"App",children:[(0,C.jsx)(Ve,{}),(0,C.jsx)(X,{})]})},Pe=function(e){e&&e instanceof Function&&r.e(787).then(r.bind(r,787)).then((function(n){var r=n.getCLS,i=n.getFID,t=n.getFCP,a=n.getLCP,o=n.getTTFB;r(e),i(e),t(e),a(e),o(e)}))},Ue=(0,_.oM)({name:"apps",initialState:g,reducers:{}}).reducer,Ye=(0,_.xC)({reducer:{apps:Ue,procs:F,files:ye}});a.createRoot(document.getElementById("root")).render((0,C.jsx)(t().StrictMode,{children:(0,C.jsx)(s.zt,{store:Ye,children:(0,C.jsx)(He,{})})})),Pe()}}]);
//# sourceMappingURL=690.abd75a07.chunk.js.map