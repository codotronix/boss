{"version":3,"file":"static/js/690.abd75a07.chunk.js","mappings":"iKACA,EAAuB,mBAAvB,EAAkD,oBAAlD,EAA0F,gC,SCA1F,EAAuB,uBAAvB,EAAoD,sB,2BCDvCA,EACD,0BAKCC,EAAe,CACxB,WAAc,CACVC,MAAO,aACPC,KAAM,OACNC,UAAW,4BACXC,QAAQ,EACRC,YAAaN,EACbO,iBAAkB,EAClBC,SAAU,CAAC,OAAQ,aAEvB,QAAW,CACPN,MAAO,UACPC,KAAM,UACNC,UAAW,4BACXC,QAAQ,EACRC,YAAaN,EACbQ,SAAU,CAAC,SAAU,QAAS,UAAW,aAE7C,SAAY,CACRN,MAAO,WACPC,KAAM,WACNC,UAAW,mBACXC,QAAQ,EACRE,iBAAkB,GAEtB,WAAc,CACVL,MAAO,aACPC,KAAM,UACNC,UAAW,yBACXE,YAAaN,GAEjB,MAAS,CACLE,MAAO,QACPC,KAAM,SACNC,UAAW,yBACXE,YAAaN,EACbQ,SAAU,CAAC,QAAS,OAAQ,aAAc,SAE9C,SAAY,CACRN,MAAO,WACPC,KAAM,WACNC,UAAW,uBACXC,QAAQ,EACRC,YAAaN,EACbQ,SAAU,CAAC,WAAY,MAAO,eAAgB,eAAgB,MAAO,WAAY,UAErF,MAAS,CACLN,MAAO,QACPC,KAAM,QACNC,UAAW,2BACXE,YAAaN,GAGjB,IAAO,CACHE,MAAO,MACPC,KAAM,MACNC,UAAW,oBACXC,QAAQ,EACRC,YAAaN,GAEjB,OAAU,CACNE,MAAO,SACPC,KAAM,UACNC,UAAW,yBACXE,YAAaN,GAEjB,MAAS,CACLE,MAAO,QACPC,KAAM,SACNC,UAAW,uBACXE,YAAaN,GAEjB,UAAa,CACTE,MAAO,YACPC,KAAM,WACNC,UAAW,8BACXE,YAAaN,IClFRS,EAAe,CACxBC,QAAS,iBACTC,UAAW,iBACXC,UAAW,oBCKXC,EAAoB,EAgBXC,GAAaC,EAAAA,EAAAA,IAAY,CAClCZ,KAAM,UACNa,aANiB,CACjB,EAAG,CAAEd,MAAO,UAAWe,UAAW,EAAGC,SAAS,IAM9CC,SAAU,CAENC,OAAQ,SAACC,EAAOC,GACZ,IAAAC,EAAwBD,EAAOE,QAAvBtB,EAAKqB,EAALrB,MAAOuB,EAAIF,EAAJE,KAITC,EAAwBC,OAAOC,OAAOP,GAAOQ,QAAO,SAAAC,GAAC,OAAIA,EAAE5B,QAAUA,CAAK,IAAE6B,OAC5EC,EAAY/B,EAAaC,GACzBK,EAAmByB,EAAUzB,iBAEnC,GAA6B,IAA1BmB,IAAgCnB,GAAoBA,EAAmBmB,EAAuB,CAE7F,IAAMT,IAAcJ,EACdoB,EAAgB,CAAE/B,MAAAA,EAAOe,UAAAA,EAAWQ,KAAAA,EAAMS,OAAQC,EAAad,GAAS,GAM9E,OAJGW,EAAU1B,cAAgBN,IACzBiC,EAAcG,QAAU3B,EAAaC,UAGzC2B,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACOhB,GAAK,IAAAiB,EAAAA,EAAAA,GAAA,GACPrB,EAAYgB,GAErB,CAIK,GAAwB,IAArB1B,EAAwB,CAG5B,IADA,IAAIgC,EAAO,KACXC,EAAA,EAAAC,EAAad,OAAOC,OAAOP,GAAMmB,EAAAC,EAAAV,OAAAS,IAAE,CAA/B,IAAIE,EAACD,EAAAD,GACL,GAAGE,EAAExC,QAAUA,EAAO,CAClBqC,EAAOG,EACP,KACJ,CACJ,CAEGH,GAAQA,EAAKH,UAAY3B,EAAaG,YACrC2B,EAAKH,QAAU3B,EAAaE,UAEpC,CACA,OAAOU,CACX,EACAsB,aAAc,SAACtB,EAAOC,GAClB,IAAML,EAAYK,EAAOE,QAIzB,GAAGH,EAAMJ,KAAeI,EAAMJ,GAAWC,QAAS,CAC9C,IAAM0B,GAAQP,EAAAA,EAAAA,GAAA,GAAQhB,GAEtB,cADOuB,EAAS3B,GACT2B,CACX,CACA,OAAOvB,CACX,EAEAwB,QAAS,SAACxB,EAAOC,GACbwB,QAAQC,IAAI,UAAWzB,GACvB,IAAA0B,EAA+B1B,EAAOE,QAA9BP,EAAS+B,EAAT/B,UAAWmB,EAAOY,EAAPZ,QACba,EAAa5B,EAAMJ,GACnBe,EAAY/B,EAAagD,EAAW/C,OAC1C,GAAG8B,EAAU1B,cAAgBN,GAEzB,GAAG2B,OAAOC,OAAOnB,GAAcyC,SAASd,GAAU,CAE9C,IAAMe,GAAWd,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACVY,GAAU,IACbb,QAAAA,IAEJ,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACOhB,GAAK,IAAAiB,EAAAA,EAAAA,GAAA,GACPrB,EAAYkC,GAErB,OAIAL,QAAQC,IAAI,mCAAoCf,EAAU1B,aAE9D,OAAOe,CACX,EACA+B,YAAa,SAAC/B,EAAOC,GACjB,IAAML,EAAYK,EAAOE,QACtBP,KAAaI,IACZA,EAAMJ,GAAWiB,OAASC,EAAad,GAAS,EAExD,KAKDgC,EAAuDvC,EAAWwC,QAA1DlC,EAAMiC,EAANjC,OAAQuB,EAAYU,EAAZV,aAAcE,EAAOQ,EAAPR,QAASO,EAAWC,EAAXD,YAE9C,EAAetC,EAAkB,QAI1B,SAASqB,EAAcd,GAC1B,OAAOkC,KAAKC,IAAGC,MAARF,MAAIG,EAAAA,EAAAA,GAAQ/B,OAAOC,OAAOP,GAAOsC,KAAI,SAAAC,GAAC,OAAIA,EAAE1B,QAAU,CAAC,KAClE,CC5GA,MAfA,WACI,IAAM2B,GAAWC,EAAAA,EAAAA,MACXC,GAAcC,EAAAA,EAAAA,KAAY,SAAA3C,GAAK,OAAIA,EAAM4C,KAAK,IAQpD,MAAO,CACHC,IAPQ,SAAChE,GAAK,QAAAiE,EAAAC,UAAArC,OAAKN,EAAI,IAAA4C,MAAAF,EAAA,EAAAA,EAAA,KAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAJ7C,EAAI6C,EAAA,GAAAF,UAAAE,GAAA,OAAKT,EAASzC,EAAO,CAAElB,MAAAA,EAAOuB,KAAAA,IAAQ,EAOxD8C,UANS,SAAAtD,GAAS,OAAI4C,EAASlB,EAAa1B,GAAW,EAM5CuD,KALP,SAACvD,EAAWmB,GAAO,OAAKyB,EAAShB,EAAQ,CAAE5B,UAAAA,EAAWmB,QAAAA,IAAW,EAKpDgB,YAJN,SAAAnC,GAAS,OAAI4C,EAASY,EAAaxD,GAAW,EAI3BkB,aAHlB,WAAH,OAASuC,EAAcX,EAAY,EAKzD,E,SCDA,EAXiB,SAAAY,GACb,IAAQzE,EAA2ByE,EAA3BzE,MAAOC,EAAoBwE,EAApBxE,KAAMC,EAAcuE,EAAdvE,UACfwE,EAAUC,IAEhB,OACIC,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAaC,QAAS,kBAAML,EAAQV,IAAIhE,EAAM,EAAEgF,MAAO/E,EAAKgF,UACxEL,EAAAA,EAAAA,KAAA,KAAGC,WAAWK,EAAAA,EAAAA,GAAKhF,EAAW4E,MAG1C,ECbA,EAAuB,kCAAvB,EAAyE,2CCAzE,EAAuB,gCAAvB,EAA+D,iCAA/D,EAA0G,mCAA1G,EAAwJ,oCCgDxJ,EA3C0B,SAAAL,GACtB,IAAQU,EAAuCV,EAAvCU,QAASC,EAA8BX,EAA9BW,WAAYC,EAAkBZ,EAAlBY,cACvBX,EAAUC,IAahB,OACIC,EAAAA,EAAAA,KAAA,OAAKC,WAAWK,EAAAA,EAAAA,GAAKJ,GAAcK,GAAW,UAAUF,UACpDK,EAAAA,EAAAA,MAAA,MAAIT,UAAWC,EAAaG,SAAA,GAElBI,GAA0C,IAAzBA,EAAcxD,UACjC+C,EAAAA,EAAAA,KAAA,MAAIC,UAAU,OAAMI,SAAC,sBAGrBI,GAAiBA,EAAc5B,KAAI,SAAA7B,GAAC,OACpC0D,EAAAA,EAAAA,MAAA,MAAAL,SAAA,EACIL,EAAAA,EAAAA,KAAA,QACIC,UAAWC,EACXC,QAAS,kBAvBbhE,EAuB8Ba,EAAEb,UAtBhDqE,GAAW,GACXV,EAAQJ,KAAKvD,EAAWR,EAAaE,gBACrCiE,EAAQxB,YAAYnC,GAHL,IAACA,CAuB0C,EAACkE,SAErClF,EAAa6B,EAAE5B,OAAOC,QAE5B2E,EAAAA,EAAAA,KAAA,KACIC,WAAWK,EAAAA,EAAAA,GAAK,oBAAqBJ,GACrCE,MAAM,YACND,QAAS,kBAxBbhE,EAwB8Ba,EAAEb,eAtBhD2D,EAAQL,UAAUtD,GAFH,IAACA,CAwB0C,MAVrCa,EAAEb,UAYN,QAKzB,ECJA,EAnC4B,SAAA0D,GACxB,IAAAc,GAAwDC,EAAAA,EAAAA,WAAS,GAAMC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/DI,EAAmBF,EAAA,GAAEG,EAAsBH,EAAA,GAC7C5B,GAAcC,EAAAA,EAAAA,KAAY,SAAA3C,GAAK,OAAIA,EAAM4C,KAAK,IAC9CsB,EAAgB5D,OAAOC,OAAOmC,GAAalC,QAAO,SAAA+B,GAAC,OAAIA,EAAExB,UAAY3B,EAAaG,SAAS,IAWjG,OACI4E,EAAAA,EAAAA,MAAA,OAAKT,UAAWC,EAAYG,SAAA,EACxBL,EAAAA,EAAAA,KAACiB,EAAiB,CACdV,QAASQ,EACTP,WAAYQ,EACZP,cAAeA,KAGnBC,EAAAA,EAAAA,MAAA,OAAKT,UAAWiB,EAAoBb,SAAA,CAE5BI,EAAcxD,OAAS,IACvB+C,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAqBG,SAAEI,EAAcxD,UAE1D+C,EAAAA,EAAAA,KAAA,KAAGC,WAAWK,EAAAA,EAAAA,GAAK,mBAAoBY,GACnCf,QAAS,kBAAMa,GAAwBD,EAAoB,SAK/E,ECLA,EA7Ba,SAAAlB,GAET,IAAAc,GAA4BC,EAAAA,EAAAA,UAAS,GAAEC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAhCvD,EAAMyD,EAAA,GAAEM,EAASN,EAAA,GAClBO,GAAOlC,EAAAA,EAAAA,KAAY,SAAA3C,GAAK,OAAIA,EAAM6E,IAAI,IACtCC,EAAaxE,OAAOC,OAAOsE,GAAMrE,QAAO,SAAAC,GAAC,OAAIA,EAAEzB,MAAM,IACrDuE,EAAUC,IAMhB,OACIC,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAaoB,MAAO,CAAElE,OAAAA,GAAU+C,QALpC,WACZgB,EAAUrB,EAAQzC,eAAe,EACrC,EAGqEgD,UAE7DK,EAAAA,EAAAA,MAAA,OAAKT,UAAWC,EAAaG,SAAA,EACzBL,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAyBG,SAErCgB,GAAcA,EAAWxC,KAAI,SAAA0C,GAAE,OAAIvB,EAAAA,EAAAA,KAACwB,GAAQjE,EAAAA,EAAAA,GAAA,GACrBgE,GAAdA,EAAGnG,MACV,OAGN4E,EAAAA,EAAAA,KAACyB,EAAmB,QAKpC,ECjCA,EAAuB,yBCAvB,GAAgB,KAAO,uBAAuB,IAAM,sBAAsB,QAAU,0BAA0B,KAAO,uBAAuB,QAAU,0BAA0B,QAAU,0BAA0B,KAAO,uBAAuB,SAAW,2BAA2B,QAAU,0BAA0B,QAAU,0BAA0B,KAAO,uBAAuB,YAAc,8BAA8B,iBAAmB,oCCyD7b,MAlDA,SAAkBC,GAId,IAAAf,GAA8BC,EAAAA,EAAAA,UAAS,CAAEe,SAAU,EAAGC,QAAS,IAAIf,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA5DkB,EAAOhB,EAAA,GAAEiB,EAAUjB,EAAA,GAGpBkB,GAAcC,EAAAA,EAAAA,QAAO,MAkC3B,MAAO,CACHH,QAAAA,EACAI,YAhCgB,SAACC,EAAMC,EAAKC,GAE5B,GADAL,EAAYM,QAAU,CAAEH,KAAAA,EAAMC,IAAAA,GAC3BT,EAAI,CACH,IAAMY,EAAYJ,EAAOK,SAASb,EAAGJ,MAAMY,MAC3CE,EAAEI,aAAaC,aAAaf,EAAIY,EAAW,EAC/C,CACJ,EA2BII,OAtBW,SAACR,EAAMC,GAClB,GAAU,IAAPD,GAAkB,IAANC,EAAf,CAEA,GAAGJ,EAAYM,QAAS,CACpB,IAAIV,EAAWO,EAAOH,EAAYM,QAAQH,KACtCN,EAAUO,EAAMJ,EAAYM,QAAQF,IAGxCL,EAAW,CAAEH,SAAAA,EAAUC,QAAAA,GAC3B,CAGAG,EAAYM,QAAU,CAAEH,KAAAA,EAAMC,IAAAA,EAXA,CAYlC,EAUIQ,UARc,SAACT,EAAMC,GACrBJ,EAAYM,QAAU,IAC1B,EASJ,ECtBA,EA9BgB,SAAAxC,GACZ,IAAQ+C,EAA4B/C,EAA5B+C,KAAMC,EAAsBhD,EAAtBgD,kBACdlC,GAAkDC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAtDmC,EAAgBjC,EAAA,GAAEkC,EAAmBlC,EAAA,GAO7C,OACIb,EAAAA,EAAAA,KAAA,OAAKC,WAAWK,EAAAA,EAAAA,GAAKJ,EAAO8C,IAAK9C,EAAO+C,SAAS5C,SAEzCuC,GAAQ/F,OAAOqG,KAAKN,GAAM/D,KAAI,SAAAsE,GAAC,OAC/BzC,EAAAA,EAAAA,MAAA,OAAaT,WAAWK,EAAAA,EAAAA,GAAKJ,EAAO0C,KAAME,IAAmBK,GAAKjD,EAAOK,SAAUF,SAAA,EAC/EL,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAOkD,SAAUjD,QAAS,WAVrC,IAAAkD,EACUN,EAAzBD,KADeO,EAUyDF,GAT3B,GACvBE,EAQoD,EAAChD,SAAG8C,KACrEnD,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAOoD,QAAQjD,SAG1BxD,OAAOC,OAAO8F,EAAKO,IAAItE,KAAI,SAAA0E,GAAE,OAC7BvD,EAAAA,EAAAA,KAAA,MAAqBG,QAAS,kBAAM0C,EAAkBU,EAAGC,QAAQ,EAACnD,SAC5DkD,EAAGlI,MADAkI,EAAGC,QAEP,QARHL,EAWJ,KAItB,EChCaM,EACG,aADHA,EAEK,eAGLC,EAAe,CACxBC,KAAM,CACF,EAAG,CAAEtI,KAAM,aAAcmI,QAASC,GAClC,IAAK,CAAEpI,KAAM,eAAgBmI,QAASC,KC8BxCG,EAAgB,SAAHC,GAAqB,IAAfC,EAAOD,EAAPC,QACrB,OACIpD,EAAAA,EAAAA,MAAA,OAAKT,UAAWC,EAAO6D,YAAY1D,SAAA,CAC9ByD,GAAW,UAAU,oBAGlC,EAyNA,EAvNiB,SAAAjE,GAEb,IAAQmE,EAA2BnE,EAA3BmE,SAAUC,EAAiBpE,EAAjBoE,aACVC,EAAgBF,EAAhBE,YACFJ,EAAU3I,EAAa+I,EAAY9I,OAAOC,KAC1CyE,EAAUC,IAEVoE,GAAenC,EAAAA,EAAAA,QAAoBrG,EAAaC,UAxCvCD,EAAaE,UACjB,iBAAO,CACVsG,IAAK,EACLD,KAAM,EACNkC,MAAOC,OAAOC,WACdC,OAAQF,OAAOG,cACf,EAGG,CACHrC,IAAK,GAAK1D,KAAKgG,MAAoB,IAAdhG,KAAKiG,UAC1BxC,KAAM,GAAKzD,KAAKgG,MAAoB,IAAdhG,KAAKiG,UAC3BN,MAAO3F,KAAKC,IAAK,IAAKD,KAAKgG,MAA0B,GAApBJ,OAAOC,aACxCC,OAAQ,MA6BhB5D,GAAkCC,EAAAA,EAAAA,UAASuD,EAAa9B,SAAQxB,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAzDgE,EAAS9D,EAAA,GAAE+D,EAAY/D,EAAA,GACxBgE,GAAa7C,EAAAA,EAAAA,UACnB8C,GAAwBlE,EAAAA,EAAAA,UAAS8C,GAAaqB,GAAAjE,EAAAA,EAAAA,GAAAgE,EAAA,GAAvClC,EAAImC,EAAA,GAAEC,EAAOD,EAAA,GACpBE,GAAsCrE,EAAAA,EAAAA,UAAS,IAAGsE,GAAApE,EAAAA,EAAAA,GAAAmE,EAAA,GAA3CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAGlCG,EAAkEC,EAAQT,EAAWxC,SAA7ER,EAAOwD,EAAPxD,QAAsB0D,EAAYF,EAAzBpD,YAA2BS,EAAM2C,EAAN3C,OAAQC,EAAS0C,EAAT1C,UAIpD6C,EAGmCF,IAHlBG,EAAQD,EAAjB3D,QACa6D,EAAaF,EAA1BvD,YACQ0D,EAAQH,EAAhB9C,OACWkD,EAAWJ,EAAtB7C,WAGRkD,EAAAA,EAAAA,YAAU,WAEN,IAAIC,GAAWvI,EAAAA,EAAAA,GAAA,GAAO4G,EAAa9B,SAChC6B,EAAY5G,UAAY3B,EAAaE,YACpCiK,EA5CsB,CAC9B3D,IAAK,EACLD,KAAM,EACNkC,MAAOC,OAAOC,WACdC,OAAQF,OAAOG,cA2CRN,EAAY5G,UAAY3B,EAAaG,YACpCgK,GAAWvI,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACJuI,GAAW,IACd3D,IAAKkC,OAAOG,YAAc,IAC1BtC,KAAM,IACN6D,UAAW,cAInBnB,EAAakB,EACjB,GACA,CAAC5B,EAAY5G,WAGbuI,EAAAA,EAAAA,YAAU,WAENjB,GAAa,SAAAoB,GAAC,OAAAzI,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACPyI,GAAC,IACJ9D,KAAM8D,EAAE9D,KAAOL,EAAQF,SACvBQ,IAAK6D,EAAE7D,IAAMN,EAAQD,SAAO,GAEpC,GACA,CAACC,KAIDgE,EAAAA,EAAAA,YAAU,WAENjB,GAAa,SAAAoB,GAAC,OAAAzI,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACPyI,GAAC,IACJ5B,MAAO4B,EAAE5B,MAAQqB,EAAS9D,SAC1B4C,OAAQyB,EAAEzB,OAASkB,EAAS7D,SAAO,GAE3C,GACA,CAAC6D,IAED,IAoBMQ,EAAmB,WAAH,OAASnG,EAAQxB,YAAY4F,EAAY/H,UAAU,EAyBnE+J,GAAaC,EAAAA,EAAAA,cAAY,SAAAC,GAExBA,EAAWC,SAAUrB,EAAQ,MAExBoB,EAAWE,QACftB,EAAQoB,EAAWxD,OAKnB5E,QAAQC,IAAI,aAGTmI,EAAWxD,MACVoC,GAAQ,SAAApC,GACJ,IAAI2D,GAAOhJ,EAAAA,EAAAA,GAAA,GACJqF,GAGP,IAAI,IAAIO,KAAKiD,EAAWxD,KAIhB2D,EAAQpD,GADTA,KAAKoD,GACMhJ,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAOgJ,EAAQpD,IAAOiD,EAAWxD,KAAKO,IAInCiD,EAAWxD,KAAKO,GAKrC,OADAnF,QAAQC,IAAIsI,GACLA,CACX,IAGZ,GACA,IAEA,OACI7F,EAAAA,EAAAA,MAAA,OACIT,WAAWK,EAAAA,EAAAA,GACPJ,EAAOsG,KACNtC,EAAY5G,UAAU3B,EAAaG,WAAcoE,EAAOuG,UACxDvC,EAAY5G,UAAU3B,EAAaC,SAAYsE,EAAOwG,cAE3DpF,OAAK/D,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAOoH,GAAS,IAAEvH,OAAQ8G,EAAY9G,SAC3C+C,QAAS8F,EACTU,IAAK9B,EAAWxE,SAAA,EAGhBK,EAAAA,EAAAA,MAAA,OACIT,WAAWK,EAAAA,EAAAA,GAAKJ,EAAO8C,IAAK9C,EAAO0G,SACnCC,UAAU,OACVnE,OAAQ,SAAAN,GAAC,OAAIM,EAAON,EAAE0E,MAAO1E,EAAE2E,MAAM,EACrC9E,YAAa,SAAAG,GAAC,OA9EN,SAACF,EAAMC,EAAKC,GAC5BmD,EAAarD,EAAMC,EAAKC,GACxB6D,GACJ,CA2E8BhE,CAAYG,EAAE0E,MAAO1E,EAAE2E,MAAO3E,EAAE,EAClDO,UAAW,SAAAP,GAAC,OAAIO,EAAUP,EAAE0E,MAAO1E,EAAE2E,MAAM,EAAC1G,SAAA,EAE5CL,EAAAA,EAAAA,KAAA,OAAAK,SAAOyD,GAAW,iBAClBpD,EAAAA,EAAAA,MAAA,OAAKT,UAAWC,EAAO8G,KAAK3G,SAAA,CAEpB6D,EAAY5G,UAAY3B,EAAaE,YACrCmE,EAAAA,EAAAA,KAAA,KAAGC,UAAU,uBAAuBE,QAhFvC,WAAH,OAASL,EAAQJ,KAAKwE,EAAY/H,UAAWR,EAAaE,UAAU,KAmF7DqI,EAAY5G,UAAY3B,EAAaE,WAClCqI,EAAY5G,UAAY3B,EAAaG,aACrCkE,EAAAA,EAAAA,KAAA,KAAGC,UAAU,+CAA+CE,QAnFjE,WAAH,OAASL,EAAQJ,KAAKwE,EAAY/H,UAAWR,EAAaC,QAAQ,KAqFlEoE,EAAAA,EAAAA,KAAA,KAAGC,UAAU,8BAA8BE,QAtF1C,WAAH,OAASL,EAAQJ,KAAKwE,EAAY/H,UAAWR,EAAaG,UAAU,KAuFlEkE,EAAAA,EAAAA,KAAA,KAAGC,UAAU,oBAAoBE,QApFnC,WAGNL,EAAQL,UAAUyE,EAAY/H,UAEtC,WAmFQ6D,EAAAA,EAAAA,KAACiH,EAAO,CAACrE,KAAMA,EAAMC,kBAvHH,SAAAqE,GACtB,OAAOA,GACH,KAAKzD,EACDY,OAAO8C,YAAW,WACdrH,EAAQV,IAAI8E,EAAY9I,MAC5B,GAAG,GACH,MACJ,KAAKqI,EACD3D,EAAQL,UAAUyE,EAAY/H,WAC9B,MACJ,QACIiJ,EAAe8B,GAIvBC,YAAW,WACP/B,EAAe,GACnB,GAAG,EACP,KAwGQpF,EAAAA,EAAAA,KAAA,OAAKsB,MAAO,CAAEiD,OAASI,EAAUJ,OAlOpB,IAkOkDtE,UAAWC,EAAOkH,KAAK/G,UAKlFL,EAAAA,EAAAA,KAACqH,EAAAA,SAAQ,CAACC,UAAUtH,EAAAA,EAAAA,KAAC4D,EAAa,CAACE,QAASA,IAAYzD,UACpDL,EAAAA,EAAAA,KAACiE,GAAY1G,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACLyG,GAAQ,IACZkC,WAAYA,EACZf,YAAaA,UAKzBnF,EAAAA,EAAAA,KAAA,KACIC,WAAWK,EAAAA,EAAAA,GAAK,kCAAmCJ,EAAOqH,kBAC1DV,UAAU,OACVnE,OAAQ,SAAAN,GAAC,OAAIuD,EAASvD,EAAE0E,MAAO1E,EAAE2E,MAAM,EACvC9E,YAAa,SAAAG,GAAC,OAAIsD,EAActD,EAAE0E,MAAO1E,EAAE2E,MAAM,EACjDpE,UAAW,SAAAP,GAAC,OAAIwD,EAAYxD,EAAE0E,MAAO1E,EAAE2E,MAAM,MAI7D,ECjPA,MAZA,SAAuB9C,GASnB,OALoC,SAAApE,GAAK,OACrCG,EAAAA,EAAAA,KAACwH,EAAQ,CAACxD,SAAUnE,EAAOoE,aAAcA,GAAgB,CAKjE,ECFA,EAAewD,GAXI,SAAC5H,GAEhB,OACIa,EAAAA,EAAAA,MAAA,OAAKT,UAAWC,EAAYG,SAAA,EACxBL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BACbD,EAAAA,EAAAA,KAAA,MAAAK,SAAI,wBACJK,EAAAA,EAAAA,MAAA,OAAAL,SAAA,EAAKL,EAAAA,EAAAA,KAAA,KAAAK,SAAG,MAAK,SAAKL,EAAAA,EAAAA,KAAA,KAAAK,SAAG,OAAM,KAACL,EAAAA,EAAAA,KAAA,KAAAK,SAAG,MAAK,iBAGhD,ICRA,EAAeoH,EAFDC,IAAAA,MAAW,kBAAM,gCAAqB,KCDpD,GAAuB,4BAAvB,GAA2D,6BAA3D,GAA8F,2BAA9F,GAAmI,+BAAnI,GAA2K,8BAA3K,GAAmN,+BCoDnN,GAAeD,GA7CO,SAAA5H,GAClB,IAAQqG,EAA4BrG,EAA5BqG,WAAYhC,EAAgBrE,EAAhBqE,YAEpBvD,GAAeC,EAAAA,EAAAA,UAAS/D,OAAOC,OAAO3B,GAAc4B,QAAO,SAAAC,GAAC,OAAIA,EAAE5B,QAAS8I,EAAY9I,KAAK,KAArFgG,GAAwFN,EAAAA,EAAAA,GAAAH,EAAA,GAApF,GACLb,EAAUC,KAEhB8F,EAAAA,EAAAA,YAAU,WAENK,EAAW,CAAEG,UAAU,GAC3B,GACA,CAACH,IAaD,OACIlG,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,GAAYG,UACxBL,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,GAAaG,SAEzBe,EAAKvC,KAAI,SAAA7B,GAAC,OACV0D,EAAAA,EAAAA,MAAA,OACkBT,WAAWK,EAAAA,EAAAA,GAAKJ,GAAY,UAE1CyH,cAAe,kBAlBhBvM,EAkB6B4B,EAAE5B,WAb1CiJ,OAAO8C,YAAW,WACdrH,EAAQV,IAAIhE,EAChB,GAAG,GAPQ,IAAAA,CAkBqC,EAACiF,SAAA,EAErCL,EAAAA,EAAAA,KAAA,OAAKC,WAAWK,EAAAA,EAAAA,GAAKJ,GAAgB,UAAUG,SAC7CrD,EAAE1B,YAAa0E,EAAAA,EAAAA,KAAA,KAAGC,WAAWK,EAAAA,EAAAA,GAAKtD,EAAE1B,UAAW4E,SAGjDF,EAAAA,EAAAA,KAAA,QAAMC,WAAWK,EAAAA,EAAAA,GAAKJ,GAAgB,UAAUG,SAAGrD,EAAE3B,SARhD2B,EAAE5B,MASL,OAKtB,ICvCA,GAAeqM,GATE,SAAA5H,GAEb,OACIG,EAAAA,EAAAA,KAAA,OAAAK,SAAK,oCAIb,ICSA,GAAeoH,GAhBK,SAAA5H,GAChB,IAAQqG,EAAerG,EAAfqG,WAQR,OANAL,EAAAA,EAAAA,YAAU,WAENK,EAAW,CAAEG,UAAU,GAC3B,GACA,CAACH,KAGGlG,EAAAA,EAAAA,KAAA,OAAAK,SAAK,oCAIb,IChBA,GAAuB,0BAAvB,GAA8D,gCAA9D,GAA0G,+B,oBCD7FuH,GAAY,CACrBC,KAAM,OACNC,OAAQ,UCFZ,IAMA,GANW,CACPC,IAAK,SAAAC,GAAC,OAAIC,KAAKC,MAAMC,aAAaC,QAAQJ,IAAM,KAAK,EACrDK,IAAK,SAACL,EAAGM,GAAC,OAAKH,aAAaI,QAAQP,EAAGC,KAAKO,UAAUF,GAAG,EACzDG,MAAO,SAAAT,GAAC,OAAIG,aAAaI,QAAQP,EAAG,GAAG,GCA9BU,GAAkB,SAAAC,GAE3B,MAD6B,wBACDC,KAAKD,EACrC,ECDA,IAAME,GAAgB,iBAGhB3M,GAAe4M,GAAGf,IAAIc,KAAkB,CAC1C,IAAK,CACDxF,GAAI,IACJhI,KAAM,IACN0N,SAAUnB,GAAUE,OACpBkB,SAAU,KACV3I,SAAU,CAAC,YAAa,UAE5B,UAAa,CACTgD,GAAI,YACJhI,KAAM,YACN0N,SAAUnB,GAAUE,OACpBkB,SAAU,IACV3I,SAAU,IAEd,MAAS,CACLgD,GAAI,QACJhI,KAAM,aACN0N,SAAUnB,GAAUC,KACpBmB,SAAU,IACVC,QAAS,qCAIjBH,GAAGT,IAAIQ,GAAe3M,IAMf,IAAMgN,IAAajN,EAAAA,EAAAA,IAAY,CAClCZ,KAAM,aACNa,aAAAA,GACAG,SAAU,CAEN8M,OAAQ,SAAC5M,EAAOC,GACZ,IAAAC,EAA4CD,EAAOE,QAC7CoB,EA6BX,SAAiBvB,EAAOlB,EAAM2N,EAAUD,EAAUK,GAErD,IAAI/N,EAAKgO,SAAWX,GAAgBrN,GAChC,OAAOkB,EAIX,KAAKyM,KAAYzM,IAAUA,EAAMyM,GAAUD,WAAanB,GAAUE,OAC9D,OAAOvL,EAIX,GAAGA,EAAMyM,GAAU3I,SAASxB,KAAI,SAAAyK,GAAG,OAAI/M,EAAM+M,GAAKjO,IAAI,IAAE+C,SAAS/C,GAC7D,OAAOkB,EAIX,IAAMgN,EClFH,SAAelO,EAAM2N,EAAUD,EAAUK,GAC5C,MAAO,CACH/F,IAAKmG,EAAAA,GAAAA,KACLnO,KAAAA,EAAM2N,SAAAA,EAAUD,SAAAA,EAAUK,MAAAA,EAC1BK,cAAgBC,KAAKC,MACrBC,kBAAoBF,KAAKC,MACzBtJ,SAAU0I,IAAanB,GAAUE,OAAS,GAAK,KAEvD,CD0EoBnE,CAAKtI,EAAM2N,EAAUD,EAAUK,GAGzCtL,GAAQP,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACPhB,GAAK,IAAAiB,EAAAA,EAAAA,GAAA,GACP+L,EAAQlG,GAAKkG,IAIfP,IACClL,EAASkL,IAASzL,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACXO,EAASkL,IAAS,IACrB3I,SAAS,GAADwJ,QAAAjL,EAAAA,EAAAA,GAAMd,EAASkL,GAAU3I,UAAQ,CAAEkJ,EAAQlG,QAK3D,OAAOvF,CACX,CAhE6BgM,CAAQvN,EADbE,EAAJpB,KAAcoB,EAARuM,SAAkBvM,EAARsM,SAAetM,EAAL2M,OAGlC,OADAN,GAAGT,IAAIQ,GAAe/K,GACfA,CACX,EAEAiM,OAAQ,SAACxN,EAAOC,GACZ,IAAA0B,EAA4B1B,EAAOE,QAC7BoB,EA2DX,SAAiBvB,EAAOyN,EAAQC,GAEnC,IAAIA,EAAQZ,SAAWX,GAAgBuB,GACnC,OAAO1N,EAGX,KAAKyN,KAAUzN,GACX,OAAOA,EAKX,IAAMyM,EAAWzM,EAAMyN,GAAQhB,SAC/B,GAAGzM,EAAMyM,GAAU3I,SAASxB,KAAI,SAAAyK,GAAG,OAAI/M,EAAM+M,GAAKjO,IAAI,IAAE+C,SAAS6L,GAC7D,OAAO1N,EAKX,IAAMuB,GAAQP,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACPhB,GAAK,IAAAiB,EAAAA,EAAAA,GAAA,GACPwM,GAAMzM,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACAhB,EAAMyN,IAAO,IAChB3O,KAAM4O,MAId,OAAOnM,CACX,CAvF6BoM,CAAQ3N,EADX2B,EAAN8L,OAAe9L,EAAP+L,SAGhB,OADAnB,GAAGT,IAAIQ,GAAe/K,GACfA,CACX,KAIDqM,GAA2BjB,GAAW1K,QAA9B2K,GAAMgB,GAANhB,OAAQY,GAAMI,GAANJ,OACvB,GAAeb,GAAkB,QEtD1B,IAAMkB,GAAgB,WACzB,IAAMC,GAASnL,EAAAA,EAAAA,KAAY,SAAA3C,GAAK,OAAIA,EAAM+N,KAAK,IACzCvL,GAAWC,EAAAA,EAAAA,MAGXuL,EAAY,SAAClP,EAAM2N,EAAUI,GAAK,OAAKU,GAAQO,EAAQtL,EAAU1D,EAAM2N,EAAUpB,GAAUE,OAAQsB,EAAM,EAc/G,MAAO,CACHoB,YAhBerE,EAAAA,EAAAA,cAAY,SAAC9K,EAAM2N,EAAUI,GAAK,OAAKU,GAAQO,EAAQtL,EAAU1D,EAAM2N,EAAUpB,GAAUC,KAAMuB,EAAM,GAAE,CAACrK,EAAUsL,IAgBvHE,UAAAA,EAAWE,aAbNF,EAaoBG,YAZrB,SAAAC,GAAM,OA2DvB,SAAsBN,EAAQL,GACjC,MAAc,MAAXA,EAAuB,IACdK,EAAOL,GAAQhB,QAC/B,CA9DkC4B,CAAaP,EAAQM,EAAO,EAYJE,YAXlC,SAAA7B,GAAQ,OAAI8B,GAAaT,EAAQrB,EAAS,EAWK+B,iBAV1C,SAAA/B,GAAQ,OAkI9B,SAA2BqB,EAAQrB,GACtC,OAAO8B,GAAaT,EAAQrB,GAAUnK,KAAI,SAAAmM,GAAC,OAAIA,EAAE3P,IAAI,GACzD,CApIyC4P,CAAkBZ,EAAQrB,EAAS,EAWpEkC,YALgB,SAAAlB,GAAM,OAgEvB,SAAsBK,EAAQL,GACjC,IAAImB,EAAe,GAGnB,KAAMnB,KAAUK,GAEZc,EAAaC,KAAKf,EAAOL,GAAQ3O,MACjC2O,EAASK,EAAOL,GAAQhB,SAG5B,OAAOmC,EAAaE,UAAUC,KAAK,KAAKhF,QAAQ,KAAM,IAC1D,CA3EkCiF,CAAalB,EAAQL,EAAO,EAKzCwB,YAJG,SAAAC,GAAO,OAqIxB,SAAuBpB,EAAQoB,GAIlC,GAHAA,EAyCG,SAAyBC,GAG5B,IADA,IAAI1F,EAAI0F,EAAK,GACLC,EAAE,EAAGA,EAAED,EAAKzO,SAAU0O,EACvBD,EAAKC,KAAOD,EAAKC,EAAE,IAAkB,MAAZD,EAAKC,KAC5B3F,GAAK0F,EAAKC,IAEnB,OAAO3F,CACX,CAjDc4F,CAAeH,GAGV,MAAZA,EAAiB,OAAOpB,EAAO,KAGlC,IAS0BwB,EATtBC,EAAYL,EAAQM,MAAM,KAAKhP,QAAO,SAAAiO,GAAC,OAAIA,EAAE3B,OAAOpM,OAAO,CAAC,IAG5D+O,EAAelB,GAAaT,EAAQ,KAGpC4B,EAAW,KAEfC,GAAAC,EAAAA,GAAAA,GACiBL,GAAS,IAA1B,IAAAI,EAAAlG,MAAA6F,EAAAK,EAAAE,KAAAC,MAA4B,CAAC,IAEGC,EAFxBC,EAAKV,EAAAW,MACLC,GAAU,EAAKC,GAAAP,EAAAA,GAAAA,GACHH,GAAY,IAA5B,IAAAU,EAAA1G,MAAAsG,EAAAI,EAAAN,KAAAC,MAA8B,CAAC,IAAvBM,EAAIL,EAAAE,MAER,GAAGG,EAAKtR,OAASkR,EAAO,CACpBE,GAAU,EACVR,EAAWU,EACXX,EAAelB,GAAaT,EAAQsC,EAAKtJ,IACzC,KACJ,CACJ,CAEA,OAAAuJ,GAAAF,EAAAtK,EAAAwK,EAAA,SAAAF,EAAA1B,GAAA,CACA,IAAIyB,EACA,OAAO,IAEf,CAAC,OAAAG,GAAAV,EAAA9J,EAAAwK,EAAA,SAAAV,EAAAlB,GAAA,CACD,OAAOiB,CACX,CAvKmCY,CAAaxC,EAAQoB,EAAQ,EAI9B1B,OAff,SAACC,EAAQC,GAAO,OAAKC,GAAQG,EAAQtL,EAAUkL,EAASD,EAAO,EAiBlF,EAEA,SAASF,GAASO,EAAQtL,EAAU1D,EAAM2N,EAAUD,EAAUK,GAE1D,OAAI/N,EAAKgO,QAAWX,GAAgBrN,GAM/B2N,KAAYqB,GAAWA,EAAOrB,GAAUD,WAAanB,GAAUE,OAKjEuC,EAAOrB,GAAU3I,SAASxB,KAAI,SAAAyK,GAAG,OAAIe,EAAOf,GAAKjO,IAAI,IAAE+C,SAAS/C,GACzD,qBAANwO,OAA4BxO,EAAI,qBAGpC0D,EAASoK,GAAO,CAAE9N,KAAAA,EAAM2N,SAAAA,EAAUD,SAAAA,EAAUK,MAAAA,KACrC,IATG,mDANA,gBAANS,OAAuBxO,EAgB/B,CAEA,SAAS6O,GAAQG,EAAQtL,EAAUkL,EAASD,GAExC,IAAIC,EAAQZ,SAAWX,GAAgBuB,GACnC,MAAM,gBAANJ,OAAuBI,GAG3B,KAAKD,KAAUK,GACX,MAAM,YAANR,OAAmBG,EAAM,eAK7B,IAAMhB,EAAWqB,EAAOL,GAAQhB,SAChC,OAAGqB,EAAOrB,GAAU3I,SAASxB,KAAI,SAAAyK,GAAG,OAAIe,EAAOf,GAAKjO,IAAI,IAAE+C,SAAS6L,GACzD,qBAANJ,OAA4BI,EAAO,qBAGvClL,EAASgL,GAAO,CAAEC,OAAAA,EAAQC,QAAAA,KACnB,GACX,CAwDO,SAASa,GAAaT,EAAQrB,GACjC,IAAI3I,EAAW,GACf,GAAgB,KAAb2I,EACC3I,EAAWxD,OAAOC,OAAOuN,GAAQtN,QAAO,SAAAiO,GAAC,OAAIA,EAAEhC,WAAaA,CAAQ,SAEnE,GAAIA,KAAYqB,EAAQ,CAEzBhK,GADkBgK,EAAOrB,GAAU3I,UAAY,IACxBxB,KAAI,SAAAiO,GAAG,OAAIzC,EAAOyC,EAAI,GACjD,CACA,OAAOzM,CACX,CChIO,SAAS0M,GAAaC,GACzB,IAAMC,ECPH,WACH,IAAMC,EAAK9C,KAEX,MAAO,CACHtB,GAMJ,SAAakE,EAAKrQ,GAEd,MAAO,CADOuQ,EAAGnC,iBAAiBiC,EAAIG,iBACvB,EACnB,EATQC,IAAAA,EAAKC,MAmBb,SAAgBL,EAAKrQ,GACjB,IACiBkP,EADbyB,EAAO,GAAEpB,GAAAC,EAAAA,GAAAA,GACAxP,GAAI,IAAjB,IAAAuP,EAAAlG,MAAA6F,EAAAK,EAAAE,KAAAC,MAAmB,CAAC,IAAZrB,EAACa,EAAAW,MACDe,EAAML,EAAG1C,WAAWQ,EAAGgC,EAAIG,iBAC5BI,IACCD,GAAQC,EAAM,KAEtB,CAAC,OAAAX,GAAAV,EAAA9J,EAAAwK,EAAA,SAAAV,EAAAlB,GAAA,CACD,MAAO,CAACsC,EAAM,EAClB,EA5BoBE,MAAAA,EAChBC,GAAID,EAAOE,GAyCf,SAAaV,EAAKrQ,GACd,IAAI+O,EAAO/O,EAAK,GAChB,IAAI+O,EAAM,MAAO,CAAC,GAAI,GAGP,MAAZA,EAAK,IAA0B,MAAZA,EAAK,KACvBA,EAAO0B,EAAIJ,GAAK,GAAK,IAAMtB,GAG/B,IAAIiC,EAAWT,EAAG1B,YAAYE,GAG9B,OADA1N,QAAQC,IAAI0P,GACTA,GAAYA,EAAS5E,WAAanB,GAAUE,QAC3CkF,EAAIG,gBAAkBQ,EAAStK,GAQnCrF,QAAQC,IAAI+O,GACL,CACH,GAAI,IAPG,CAAC,IAADnD,OACC6B,EAAI,kCAQpB,GAvDA,SAAS0B,EAAKJ,EAAKrQ,GAGf,MAAO,CADMuQ,EAAGhC,YAAY8B,EAAIG,iBAClB,EAClB,CAeA,SAASK,EAAOR,EAAKrQ,GACjB,IACiB2P,EADbgB,EAAO,GAAEZ,GAAAP,EAAAA,GAAAA,GACAxP,GAAI,IAAjB,IAAA+P,EAAA1G,MAAAsG,EAAAI,EAAAN,KAAAC,MAAmB,CAAC,IAAZrB,EAACsB,EAAAE,MACDe,EAAML,EAAG3C,UAAUS,EAAGgC,EAAIG,iBAC3BI,IACCD,GAAQC,EAAM,KAEtB,CAAC,OAAAX,GAAAF,EAAAtK,EAAAwK,EAAA,SAAAF,EAAA1B,GAAA,CACD,MAAO,CAACsC,EAAM,EAClB,CA4BJ,CDjEuBM,GAEnB,OAAO,SAAiBC,GACpB,IAAIlR,EJDL,SAAkBkR,GACrBA,EAAOA,EAAKxE,OACZ,IAQiBwC,EARbiC,EAAQ,GACR9H,EAAI,GACJ+H,EAAI,GACJC,EAAO,CAAC,EACRC,GAAU,EACVC,EAAM,EACchC,GAAAC,EAAAA,GAAAA,GAEX0B,GAAI,IAAjB,IAAA3B,EAAAlG,MAAA6F,EAAAK,EAAAE,KAAAC,MAAmB,CAAC,IAAZ8B,EAACtC,EAAAW,MAEL,GAAS,MAAN2B,EAGC,GAAGF,EAAS,CAGR,IADAF,EAAIA,EAAE1E,QACDpM,OAAS,EAAG,CACb,IAAImR,EAAG,GAAAvE,OAXV,UAWsBA,SAAKqE,GACxBlI,GAAKoI,EACLJ,EAAKI,GAAOL,EACZA,EAAI,EACR,CACAE,GAAU,CACd,MAGIA,GAAU,MAKJ,MAANE,EAGDF,EAASF,GAAKI,GAIbnI,EAAIA,EAAEqD,QACDpM,OAAS,IACV6Q,EAAM1C,KAAKpF,GACXA,EAAI,IAMTiI,EAASF,GAAKI,EACZnI,GAAKmI,CAElB,CAGA,OAAAvB,GAAAV,EAAA9J,EAAAwK,EAAA,SAAAV,EAAAlB,GAAA,CAMA,OALGhF,EAAE/I,OAAS,GAAG6Q,EAAM1C,KAAKpF,GAGpB8H,EAAMjP,KAAI,SAAAjB,GAAC,OAAIA,EAAEyQ,WAAW,qBAAqB,SAAAD,GAAG,OAAIJ,EAAKI,IAAQA,CAAG,GAAC,GAGrF,CI7DmBE,CAAST,GAChB3G,EAAMvK,EAAK,GACfqB,QAAQC,IAAItB,GAIZ,IAAM4R,GAAWhR,EAAAA,EAAAA,GAAA,GACV0P,GAIHM,EAAG,wCAAA1D,OAA2C3C,EAAG,SACjDsH,GAAQ,EAEZ,GAAGtH,KAAOqH,EAAa,CAAC,IAADE,EACHF,EAAYrH,GAAK8F,EAAKrQ,EAAK+R,MAAM,IAAGC,GAAA7N,EAAAA,EAAAA,GAAA2N,EAAA,GAAlDlB,EAAGoB,EAAA,GAAEH,EAAIG,EAAA,EACf,CAEA,MAAO,CAAEpB,IAAAA,EAAKiB,KAAAA,EAAMxB,IAAAA,EACxB,CAEJ,CEhCO,IAAM4B,GAAW,SAACC,EAAKC,GAAK,4BAAAjF,OAA2BiF,EAAK,MAAAjF,OAAKgF,EAAG,WCoI3E,GAAepH,GA/HK,SAAA5H,GAChB,IAAAc,GAAiBC,EAAAA,EAAAA,UAAS,QAAnBmO,GAA0BjO,EAAAA,EAAAA,GAAAH,EAAA,GAApB,GACbmE,GAAoClE,EAAAA,EAAAA,UAASgO,GAAS,mCAAoC,gBAAe7J,GAAAjE,EAAAA,EAAAA,GAAAgE,EAAA,GAAlGkK,EAAUjK,EAAA,GAAEkK,EAAalK,EAAA,GAChCE,GAAsCrE,EAAAA,EAAAA,UAASmO,GAAO7J,GAAApE,EAAAA,EAAAA,GAAAmE,EAAA,GAA/CiK,EAAWhK,EAAA,GAAEiK,EAAcjK,EAAA,GAClCkK,GAAoCxO,EAAAA,EAAAA,UAAS,IAAGyO,GAAAvO,EAAAA,EAAAA,GAAAsO,EAAA,GAAzCE,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GAChCG,GAA8C5O,EAAAA,EAAAA,UAAS,GAAE6O,GAAA3O,EAAAA,EAAAA,GAAA0O,EAAA,GAAlDE,EAAeD,EAAA,GAAEE,EAAkBF,EAAA,GACpCG,GAAiB5N,EAAAA,EAAAA,UACjB6N,GAAS7N,EAAAA,EAAAA,QAAO,CAAC,GACjB8N,EAAU/C,GAAa8C,EAAOxN,UAYpCwD,EAAAA,EAAAA,YAAU,WACN,IAAMnE,EAAKkO,EAAevN,QAC1BX,EAAGqO,QACHrO,EAAGsO,eAAiBtO,EAAGuO,aAAevO,EAAG8K,MAAMvP,MACnD,GACA,KAGA4I,EAAAA,EAAAA,YAAU,WACNgK,EAAOxN,QAAU,CAAE8K,gBAAiB,IAExC,GACA,IA6EA,OACIzM,EAAAA,EAAAA,MAAA,OAAKT,UAAWC,GAAYG,SAAA,EACxBL,EAAAA,EAAAA,KAAA,OACIC,UAAWC,GACXgQ,wBAAyB,CAAEC,OAAQnB,MAGvChP,EAAAA,EAAAA,KAAA,YACIC,UAAWC,GACXsM,MAAO0C,EACPvI,IAAKiJ,EACLQ,SA7EK,SAAAhO,GACb,IAAIiO,EAAMjO,EAAEkO,OAAO9D,MAGf6D,EAAIE,WAAWxB,IAGnBI,EAAekB,EACnB,EAsEYG,QAnEI,SAAApO,GACZ,IAAMqO,EAAUrO,EAAEqO,QAIlB,GAAe,KAAZA,EAAgB,CAEf,IAAMC,EAAaxB,EAAYyB,UAAU5B,EAAO9R,QAAQoM,OAExD,GAAyB,IAAtBqH,EAAWzT,OAAc,OAE5B,GAAkB,QAAfyT,GAAuC,UAAfA,EACvBzB,EAAc,QAEb,CAEDjR,QAAQC,IAAI4R,EAAOxN,SACnB,IAAMuO,EAASd,EAAQY,EAAYb,EAAOxN,SAEpCwO,EAAgB7B,EACAJ,GAASM,EAAa,cACtBN,GAASgC,EAAOrD,IAAK,gBAC3C0B,EAAc4B,EAClB,CAMA,GAJA1B,EAAeJ,GAIZ2B,IAAepB,EAAWA,EAAWrS,OAAO,GAAI,CAC/C,IAAM6T,EAAa,GAAAjH,QAAAjL,EAAAA,EAAAA,GAAO0Q,GAAU,CAAEoB,IACtCnB,EAAcuB,GACdnB,EAAmBmB,EAAc7T,OACrC,CACJ,MAGK,GAAe,KAAZwT,EAAgB,CACpB,GAAyB,IAAtBnB,EAAWrS,OAAc,OAE5B,IAAI8T,EAAQrB,EAAkB,EAAIA,EAAgB,EAAG,EACrDC,EAAmBoB,GACnB5B,EAAeJ,EAASO,EAAWyB,GACvC,MAGK,GAAe,KAAZN,EAAgB,CACpB,GAAyB,IAAtBnB,EAAWrS,OAAc,OAE5B,IAAI8T,EAAQrB,EAAmBJ,EAAWrS,OAAO,EAAKyS,EAAgB,EAAKJ,EAAWrS,OAAO,EAC7F0S,EAAmBoB,GACnB5B,EAAeJ,EAASO,EAAWyB,GACvC,CACJ,MAkBJ,ICnIA,GAAuB,yBAAvB,GAA8D,gCAA9D,GAAoG,wBAApG,GAAmI,yBAAnI,GAAoK,0BCApK,OAAuB,mBAAvB,GAAkD,oBAAlD,GAA8E,oBCiD9E,GA3Ca,SAAAlR,GACT,IAAQ8M,EAAe9M,EAAf8M,KAAMqE,EAASnR,EAATmR,KACdrQ,GAAwBC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA7BtF,EAAIwF,EAAA,GAAEoQ,EAAOpQ,EAAA,GACdqM,EAAK9C,MAEXvE,EAAAA,EAAAA,YAAU,WACNoL,EAAQtE,EAAKtR,KACjB,GACA,CAACsR,EAAKtR,OAeN,OACIqF,EAAAA,EAAAA,MAAA,OACIT,UAAWC,GACXyH,cAAe,kBAAMqJ,EAAKrE,EAAKtJ,GAAIsJ,EAAK5D,SAAS,EAAC1I,SAAA,EAElDK,EAAAA,EAAAA,MAAA,QAAMT,UAAWC,GAAaG,SAAA,CACxBsM,EAAK5D,WAAanB,GAAUC,OAAQ7H,EAAAA,EAAAA,KAAA,KAAGC,UAAU,2BACjD0M,EAAK5D,WAAanB,GAAUE,SAAU9H,EAAAA,EAAAA,KAAA,KAAGC,UAAU,kCAEzDD,EAAAA,EAAAA,KAAA,SACIC,UAAWC,GACXgR,KAAK,OACL1E,MAAOnR,EACP+U,SA1BS,SAAAhO,GACjB,IAAM6H,EAAU7H,EAAEkO,OAAO9D,MACrB9D,GAAgBuB,IACpBgH,EAAQhH,EACZ,EAuBYkH,OArBY,WAEjB9V,IAASsR,EAAKtR,MACb6R,EAAGnD,OAAO4C,EAAKtJ,GAAIhI,EAE3B,MAoBJ,ECvCM+V,GACQ,WADRA,GAEU,aCRHC,GAA0B,CACnC,WAAcC,GACd,SAAYC,GACZ,SAAYC,GACZ,QD+FW/J,GAxFI,SAAA5H,GACf,IAAQqG,EAA4BrG,EAA5BqG,WAAYf,EAAgBtF,EAAhBsF,YACd+H,EAAK9C,KACXzJ,GAA8CC,EAAAA,EAAAA,UAAS,KAAIC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAApDwM,EAAetM,EAAA,GAAE4Q,EAAkB5Q,EAAA,GAC1CiE,GAAwClE,EAAAA,EAAAA,UAASsM,EAAGrC,YAAYsC,IAAiBpI,GAAAjE,EAAAA,EAAAA,GAAAgE,EAAA,GAA1E4M,EAAY3M,EAAA,GAAE4M,EAAe5M,EAAA,IEVjC,SAAuBI,EAAayM,GACvC,IAAMC,GAAS7P,EAAAA,EAAAA,QAAO,KAItB6D,EAAAA,EAAAA,YAAU,WAEHV,IAAgB0M,EAAOxP,UAEtBuP,EAAUzM,GAEV0M,EAAOxP,QAAU8C,EAEzB,GACA,CAACA,EAAayM,GAClB,CFCIE,CAAc3M,GAAa,SAAA+B,GAEvB,GAAGA,IAAQkK,GAAmB,CAC1BpT,QAAQC,IAAI,mBACZ,IAAMiQ,EAAMzP,KAAKgG,MAAoB,IAAdhG,KAAKiG,UAC5BwI,EAAG1C,WAAW,QAADX,OAASqE,GAAOf,EACjC,MACK,GAAGjG,IAAQkK,GAAqB,CACjCpT,QAAQC,IAAI,qBACZ,IAAMiQ,EAAMzP,KAAKgG,MAAoB,IAAdhG,KAAKiG,UAC5BwI,EAAG3C,UAAU,UAADV,OAAWqE,GAAOf,EAClC,CAEA4E,GACJ,IAKA,IAAMf,EAAO,SAACgB,EAAKjJ,GAEZA,IAAanB,GAAUE,SACtB2J,EAAmBO,GACnBL,EAAgBzE,EAAGrC,YAAYmH,IAIvC,EAEMD,EAAU,WAAH,OAASJ,EAAgBzE,EAAGrC,YAAYsC,GAAiB,EAqBtE,OAZAtH,EAAAA,EAAAA,YAAU,WACNK,EAAW,CACPtD,KAAM,CACFe,KAAM,CACF,EAAG,CAAEtI,KAAM,WAAYmI,QAAS4N,IAChC,EAAG,CAAE/V,KAAM,aAAcmI,QAAS4N,OAIlD,GACA,CAAClL,KAGGxF,EAAAA,EAAAA,MAAA,OAAKT,UAAWC,GAAYG,SAAA,EAExBK,EAAAA,EAAAA,MAAA,OAAKT,UAAWC,GAAmBG,SAAA,EAC/BL,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,GAAWG,SACrB6M,EAAGhC,YAAYiC,MAErBzM,EAAAA,EAAAA,MAAA,OAAKT,UAAWC,GAAYG,SAAA,EACxBL,EAAAA,EAAAA,KAAA,KAAGC,UAAU,2BAA2BE,QAAS4R,KACjD/R,EAAAA,EAAAA,KAAA,KAAGC,UAAU,uBAAuBE,QA5B3B,WACrB,IAAM6I,EAAWkE,EAAGxC,YAAYyC,GAChCsE,EAAmBzI,GACnB2I,EAAgBzE,EAAGrC,YAAY7B,GACnC,WA6BQhJ,EAAAA,EAAAA,KAAA,OAAAK,UACIL,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,GAAaG,SAErBqR,GAAgBA,EAAa7S,KAAI,SAAAmM,GAAC,OAC9BhL,EAAAA,EAAAA,KAAC2D,GAAI,CAAYgJ,KAAM3B,EAAGgG,KAAMA,GAArBhG,EAAE3H,GAA2B,UAQpE,IC5FI,WAAc4O,EACd,MAASC,EACT,MAASC,IEWb,GAhBsB,WAClB,IAAMlT,EAAcpC,OAAOC,QAAOoC,EAAAA,EAAAA,KAAY,SAAA3C,GAAK,OAAIA,EAAM4C,KAAK,KAElE,OACIa,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBI,SAEvBpB,EAAYJ,KAAI,SAAA7B,GACZ,IAAMoV,EAAOf,GAAwBrU,EAAE5B,OACvC,OAAGgX,GAAapS,EAAAA,EAAAA,KAACoS,EAAI,CAAmBlO,YAAalH,GAA1BA,EAAEb,WACjB,IAChB,KAIhB,ECEA,GAlBY,WAEV,OACEuE,EAAAA,EAAAA,MAAA,OAAKT,UAAU,MAAKI,SAAA,EASlBL,EAAAA,EAAAA,KAACqS,GAAa,KACdrS,EAAAA,EAAAA,KAACsS,EAAI,MAGX,ECPA,GAZwB,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,SAAA5O,GAAkD,IAA/C6O,EAAM7O,EAAN6O,OAAQC,EAAM9O,EAAN8O,OAAQC,EAAM/O,EAAN+O,OAAQC,EAAMhP,EAANgP,OAAQC,EAAOjP,EAAPiP,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,EACV,GAEJ,ECIA,IAXyBtW,EAAAA,EAAAA,IAAY,CACjCZ,KAAM,OACNa,aAAcf,EACdkB,SAAU,CAEV,IAM4B,QCRnB0W,IAAQC,EAAAA,EAAAA,IAAe,CAChCC,QAAS,CAEL7R,KAAM8R,GACN/T,MAAOgU,EACP7I,MAAO8I,MCHFC,EAAAA,WAAoBC,SAASC,eAAe,SACpDC,QACDxT,EAAAA,EAAAA,KAAC0H,IAAAA,WAAgB,CAAArH,UACbL,EAAAA,EAAAA,KAACyT,EAAAA,GAAQ,CAACV,MAAOA,GAAM1S,UACnBL,EAAAA,EAAAA,KAAC0T,GAAG,SAQhBC,I","sources":["webpack://boss/./src/components/system/dock/Dock.module.css?6feb","webpack://boss/./src/components/system/dock/dockIcon/DockIcon.module.css?a245","const/APPS_DETAILS.js","const/WINDOW.js","features/procs/procsSlice.js","features/procs/useRuntime.js","components/system/dock/dockIcon/DockIcon.jsx","webpack://boss/./src/components/system/dock/minimizedAppsViewer/MinimizedAppsViewer.module.css?b174","webpack://boss/./src/components/system/dock/minimizedAppsViewer/minimizedAppsList/MinimizedAppsList.module.css?a28e","components/system/dock/minimizedAppsViewer/minimizedAppsList/MinimizedAppsList.jsx","components/system/dock/minimizedAppsViewer/MinimizedAppsViewer.jsx","components/system/dock/Dock.jsx","webpack://boss/./src/components/applications/static/welcomeApp/WelcomeApp.module.css?cf95","webpack://boss/./src/components/common/winframe/WinFrame.module.css?f8e2","components/common/winframe/useDrag.js","components/common/winframe/Menubar.jsx","components/common/winframe/MENU_CONST.js","components/common/winframe/WinFrame.jsx","components/applications/withWinFrame.js","components/applications/static/welcomeApp/WelcomeApp.jsx","components/applications/dynamic/bcalc/BCalc.js","webpack://boss/./src/components/applications/static/appsViewerApp/AppsViewerApp.module.css?38aa","components/applications/static/appsViewerApp/AppsViewerApp.jsx","components/applications/static/timerApp/TimerApp.jsx","components/applications/static/settingsApp/SettingsApp.jsx","webpack://boss/./src/components/applications/static/terminalApp/TerminalApp.module.css?3616","const/FILE_CONST.js","services/localStorage.js","services/utils.js","features/fileSystem/filesSlice.js","features/fileSystem/File.js","features/fileSystem/useFileSystem.js","services/forTerminal/useProcessor.js","services/forTerminal/commandScripts/useFsCommands.js","services/forTerminal/formatter.js","components/applications/static/terminalApp/TerminalApp.jsx","webpack://boss/./src/components/applications/static/foldersApp/FoldersApp.module.css?a1fb","webpack://boss/./src/components/applications/static/foldersApp/file/File.module.css?5102","components/applications/static/foldersApp/file/File.jsx","components/applications/static/foldersApp/FoldersApp.jsx","const/MAP_APP_ID_TO_COMPONENT.js","components/common/winframe/useCMDHandler.js","components/system/appsContainer/AppsContainer.jsx","App.jsx","reportWebVitals.js","features/apps/appsSlice.js","store/store.js","bootstrap.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"root\":\"Dock_root__3Ro3G\",\"inner\":\"Dock_inner__hNqIr\",\"scrollable_holder\":\"Dock_scrollable_holder__syAwl\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"DockIcon_root__yRpG+\",\"ico\":\"DockIcon_ico__-A3EI\"};","export const APP_DISPLAY_TYPE = {\n    WINDOW: 'app_display_type_window',\n    CONSOLE: 'app_display_type_console',\n    NO_DISPLAY: 'app_display_type_no_display'\n}\n\nexport const APPS_DETAILS = {\n    \"appsviewer\": {\n        appId: \"appsviewer\",\n        name: \"Apps\",\n        iconClass: \"fa-solid fa-cubes-stacked\",\n        docked: true,\n        displayType: APP_DISPLAY_TYPE.WINDOW,\n        allowedInstances: 1,\n        keywords: ['apps', 'all apps']\n    },\n    \"folders\": {\n        appId: \"folders\",\n        name: \"Folders\",\n        iconClass: \"fa-regular fa-folder-open\",\n        docked: true,\n        displayType: APP_DISPLAY_TYPE.WINDOW,\n        keywords: ['finder', 'files', 'folders', 'explorer']\n    },\n    \"settings\": {\n        appId: \"settings\",\n        name: \"Settings\",\n        iconClass: \"fa-solid fa-gear\",\n        docked: true,\n        allowedInstances: 1\n    },\n    \"welcomeapp\": {\n        appId: \"welcomeapp\",\n        name: \"Welcome\",\n        iconClass: \"fa-solid fa-face-smile\",\n        displayType: APP_DISPLAY_TYPE.WINDOW\n    },\n    \"bcalc\": {\n        appId: \"bcalc\",\n        name: \"B-Calc\",\n        iconClass: \"fa-solid fa-calculator\",\n        displayType: APP_DISPLAY_TYPE.WINDOW,\n        keywords: ['bcalc', 'calc', 'calculator', 'math']\n    },\n    \"terminal\": {\n        appId: \"terminal\",\n        name: \"Terminal\",\n        iconClass: \"fa-solid fa-terminal\",\n        docked: true,\n        displayType: APP_DISPLAY_TYPE.WINDOW,\n        keywords: ['terminal', 'cmd', 'command line', 'command-line', 'dos', 'emulator', 'shell']\n    },\n    \"timer\": {\n        appId: \"timer\",\n        name: \"Timer\",\n        iconClass: \"fa-solid fa-stopwatch-20\",\n        displayType: APP_DISPLAY_TYPE.WINDOW,\n        // docked: true\n    },\n    \"bin\": {\n        appId: \"bin\",\n        name: \"Bin\",\n        iconClass: \"fa-solid fa-trash\",\n        docked: true,\n        displayType: APP_DISPLAY_TYPE.WINDOW\n    },\n    \"bnotes\": {\n        appId: \"bnotes\",\n        name: \"B-Notes\",\n        iconClass: \"fa-solid fa-file-lines\",\n        displayType: APP_DISPLAY_TYPE.WINDOW\n    },\n    \"bchat\": {\n        appId: \"bchat\",\n        name: \"B-Chat\",\n        iconClass: \"fa-solid fa-comments\",\n        displayType: APP_DISPLAY_TYPE.WINDOW\n    },\n    \"calendars\": {\n        appId: \"calendars\",\n        name: \"Calendar\",\n        iconClass: \"fa-regular fa-calendar-days\",\n        displayType: APP_DISPLAY_TYPE.WINDOW\n    }\n}","export const WINDOW_SIZES = {\n    DEFAULT: 'default_window',\n    MAXIMIZED: 'maxized_window',\n    MINIMIZED: 'minimized_window',\n}","import { createSlice } from \"@reduxjs/toolkit\"\nimport { APPS_DETAILS, APP_DISPLAY_TYPE } from \"../../const/APPS_DETAILS\"\nimport { WINDOW_SIZES } from \"../../const/WINDOW\"\n/**\n * Runtime will be storing the info on all the apps currently running\n */\n// initially no apps will be running\n// as do not have the run-with-windos-start functionality yet\nlet _runtimeIdCounter = 1\n\n\n/**\n * @typedef {Object} Process or RuntimeObject or ProcsObject // running processes\n * @property {number} runtimeId - The unique runtime Id\n * @property {string} appId - The uniq app Id per app from APPS_DETAILS\n * @property {boolean} crucial - Killable or Not?\n * @property {string} winSize - 'MINIMIZED' / 'MAXIMIZED' / 'DEFAULT'\n * @property {number} zIndex - css zIndex - visual stacking of windows, highest on top\n */\n\nconst initialState = {\n    1: { appId: \"RUNTIME\", runtimeId: 1, crucial: true, }\n}\n\nexport const procsSlice = createSlice({\n    name: 'runtime',\n    initialState,\n    reducers: {\n        // request to start / run a new app\n        runApp: (state, action) => {\n            const { appId, args } = action.payload\n\n            // Check if this app is a singleton i.e. (allowedInstances === 1)\n            // Check if already running\n            const runningInstancesCount = Object.values(state).filter(a => a.appId === appId).length\n            const appDetail = APPS_DETAILS[appId]\n            const allowedInstances = appDetail.allowedInstances\n            \n            if(runningInstancesCount === 0 || !allowedInstances || allowedInstances > runningInstancesCount) {\n                // let's create a new runtime object\n                const runtimeId = ++_runtimeIdCounter\n                const newRuntimeObj = { appId, runtimeId, args, zIndex: getMaxZIndex(state) + 1 }\n                // give a default winSize if window type app\n                if(appDetail.displayType === APP_DISPLAY_TYPE.WINDOW) {\n                    newRuntimeObj.winSize = WINDOW_SIZES.DEFAULT\n                }\n\n                return {\n                    ...state,\n                    [runtimeId]: newRuntimeObj\n                }\n            }\n            // if the app is already running\n            // but is minimized\n            // MAXIMIZE it\n            else if(allowedInstances === 1) {\n                // find the runtimeObject i.e. the process\n                let proc = null\n                for(let p of Object.values(state)) {\n                    if(p.appId === appId) {\n                        proc = p\n                        break\n                    }\n                }\n\n                if(proc && proc.winSize === WINDOW_SIZES.MINIMIZED) {\n                    proc.winSize = WINDOW_SIZES.MAXIMIZED\n                }\n            }\n            return state\n        },\n        terminateApp: (state, action) => {\n            const runtimeId = action.payload\n            \n            // We can terminate only non-crucial apps\n            // if not already done and removed\n            if(state[runtimeId] && !state[runtimeId].crucial) {\n                const newState = { ...state }\n                delete newState[runtimeId]\n                return newState\n            }\n            return state\n        },\n        // maxi-mize, mini-mize, unmaxi-mize\n        mizeApp: (state, action) => {\n            console.log('mizeApp', action)\n            const { runtimeId, winSize } = action.payload\n            const runtimeObj = state[runtimeId]\n            const appDetail = APPS_DETAILS[runtimeObj.appId]\n            if(appDetail.displayType === APP_DISPLAY_TYPE.WINDOW) {\n                // check if the sent winSize is valid\n                if(Object.values(WINDOW_SIZES).includes(winSize)) {\n                    // do the actual work\n                    const modifiedRto = {\n                        ...runtimeObj,\n                        winSize\n                    }\n                    return {\n                        ...state,\n                        [runtimeId]: modifiedRto\n                    }\n                }\n            }\n            else {\n                // log this exceptional attempt to \n                console.log('The display type of this app is ', appDetail.displayType)\n            }\n            return state\n        },\n        raiseWindow: (state, action) => {\n            const runtimeId = action.payload\n            if(runtimeId in state) {\n                state[runtimeId].zIndex = getMaxZIndex(state) + 1\n            }\n        }\n    }\n})\n\n// Action creators are generated for each case reducer function\nexport const { runApp, terminateApp, mizeApp, raiseWindow } = procsSlice.actions\n\nexport default procsSlice.reducer\n\n\n// COMMON HELPER FUNCTIONS\nexport function getMaxZIndex (state) {\n    return Math.max(...Object.values(state).map(r => r.zIndex || 0))\n}","import { useSelector, useDispatch } from \"react-redux\";\nimport { runApp, terminateApp, mizeApp, raiseWindow as _raiseWindow, \n    getMaxZIndex as _getMaxZIndex } from \"./procsSlice\";\n\nfunction useRuntime() {\n    const dispatch = useDispatch()\n    const runningApps = useSelector(state => state.procs)\n\n    const run = (appId, ...args) => dispatch(runApp({ appId, args }))\n    const terminate = runtimeId => dispatch(terminateApp(runtimeId))\n    const mize = (runtimeId, winSize) => dispatch(mizeApp({ runtimeId, winSize }))\n    const raiseWindow = runtimeId => dispatch(_raiseWindow(runtimeId))\n    const getMaxZIndex = () => _getMaxZIndex(runningApps)\n\n    return {\n        run, terminate, mize, raiseWindow, getMaxZIndex\n    }\n}\n\nexport default useRuntime\n\n","import clsx from 'clsx'\nimport styles from \"./DockIcon.module.css\"\n// import { useRun } from '../../../../hooks/useRuntime'\nimport useRuntime from '../../../../features/procs/useRuntime'\n\nconst DockIcon = props => {\n    const { appId, name, iconClass } = props\n    const runtime = useRuntime()\n    \n    return (\n        <div className={styles.root} onClick={() => runtime.run(appId)} title={name}>\n            <i className={clsx(iconClass, styles.ico)} />\n        </div>\n    )\n}\n\nexport default DockIcon","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"MinimizedAppsViewer_root__tchYL\",\"minimizeCount\":\"MinimizedAppsViewer_minimizeCount__J9StM\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"MinimizedAppsList_root__c1PLn\",\"inner\":\"MinimizedAppsList_inner__eFQML\",\"appName\":\"MinimizedAppsList_appName__1yts9\",\"closeIco\":\"MinimizedAppsList_closeIco__FRP7q\"};","import clsx from 'clsx'\nimport styles from './MinimizedAppsList.module.css'\nimport { APPS_DETAILS } from '../../../../../const/APPS_DETAILS'\nimport { WINDOW_SIZES } from '../../../../../const/WINDOW'\nimport useRuntime from '../../../../../features/procs/useRuntime'\n\nconst MinimizedAppsList = props => {\n    const { visible, setVisible, minimizedApps } = props\n    const runtime = useRuntime()\n\n    const onAppClick = (runtimeId) => {\n        setVisible(false)\n        runtime.mize(runtimeId, WINDOW_SIZES.MAXIMIZED)\n        runtime.raiseWindow(runtimeId)\n    }\n\n    const onAppClose = (runtimeId) => {\n        // setVisible(false)\n        runtime.terminate(runtimeId)\n    }\n\n    return (\n        <div className={clsx(styles.root, !visible && 'hidden')}>\n            <ul className={styles.inner}>\n                { \n                    (!minimizedApps || minimizedApps.length === 0) && \n                    <li className='p-10'>No minimized apps</li>\n                }\n                {\n                    minimizedApps && minimizedApps.map(a => \n                    <li key={a.runtimeId}>\n                        <span \n                            className={styles.appName}\n                            onClick={() => onAppClick(a.runtimeId)}\n                        >\n                            { APPS_DETAILS[a.appId].name }\n                        </span>\n                        <i \n                            className={clsx(\"fa-solid fa-xmark\", styles.closeIco)}\n                            title='Close App'\n                            onClick={() => onAppClose(a.runtimeId)}\n                        ></i>\n                    </li>)\n                }\n            </ul>\n        </div>\n    )\n}\n\nexport default MinimizedAppsList","import { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport clsx from 'clsx'\nimport styles from './MinimizedAppsViewer.module.css'\nimport dockIconStyles from \"../dockIcon/DockIcon.module.css\"\nimport { WINDOW_SIZES } from '../../../../const/WINDOW'\nimport MinimizedAppsList from './minimizedAppsList/MinimizedAppsList'\n\nconst MinimizedAppsViewer = props => {\n    const [ minimizeListVisible, setMinimizeListVisible ] = useState(false)\n    const runningApps = useSelector(state => state.procs)\n    const minimizedApps = Object.values(runningApps).filter(r => r.winSize === WINDOW_SIZES.MINIMIZED)\n\n    // useEffect(() => {\n    //     console.log(thisElRef.current)\n    //     console.log('offsetTop=', thisElRef.current.offsetTop)\n    //     console.log('offsetHeight=', thisElRef.current.offsetHeight)\n    //     console.log('offsetLeft=', thisElRef.current.offsetLeft)\n    //     console.log('offsetWidth=', thisElRef.current.offsetWidth)\n    // }, \n    // [window.innerWidth])\n\n    return (\n        <div className={styles.root}>\n            <MinimizedAppsList \n                visible={minimizeListVisible} \n                setVisible={setMinimizeListVisible}\n                minimizedApps={minimizedApps}\n            />\n\n            <div className={dockIconStyles.root}>\n                { \n                    minimizedApps.length > 0 && \n                    <span className={styles.minimizeCount}>{minimizedApps.length}</span>\n                }\n                <i className={clsx(\"fa-solid fa-bars\", dockIconStyles.ico)} \n                    onClick={() => setMinimizeListVisible(!minimizeListVisible)}\n                ></i>\n            </div>\n        </div>\n    )\n}\n\nexport default MinimizedAppsViewer","import { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport styles from './Dock.module.css'\nimport DockIcon from './dockIcon/DockIcon'\nimport MinimizedAppsViewer from './minimizedAppsViewer/MinimizedAppsViewer'\nimport useRuntime from '../../../features/procs/useRuntime'\n\nconst Dock = props => {\n    // const { dockDetails } = props\n    const [zIndex, setZIndex] = useState(1)\n    const apps = useSelector(state => state.apps)\n    const dockedApps = Object.values(apps).filter(a => a.docked)\n    const runtime = useRuntime()\n    \n    const onClick = () => {\n        setZIndex(runtime.getMaxZIndex()+1)\n    }\n\n    return (\n        <div className={styles.root} style={{ zIndex }} onClick={onClick}>\n\n            <div className={styles.inner}>\n                <div className={styles.scrollable_holder}>\n                {\n                    dockedApps && dockedApps.map(da => <DockIcon \n                        key={da.appId} {...da}\n                    />)\n                }\n                </div>\n                <MinimizedAppsViewer />\n            </div>\n            \n        </div>\n    )\n}\n\nexport default Dock","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"WelcomeApp_root__e1Te1\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"WinFrame_root__7I0Xk\",\"bar\":\"WinFrame_bar__kl8w-\",\"namebar\":\"WinFrame_namebar__bhez0\",\"btns\":\"WinFrame_btns__-rDlS\",\"dragIco\":\"WinFrame_dragIco__Dr0BW\",\"menubar\":\"WinFrame_menubar__F+ov1\",\"menu\":\"WinFrame_menu__XVTtb\",\"menuName\":\"WinFrame_menuName__wE-S3\",\"subMenu\":\"WinFrame_subMenu__lhnTZ\",\"visible\":\"WinFrame_visible__D0Kcn\",\"body\":\"WinFrame_body__RPv4g\",\"loadingComp\":\"WinFrame_loadingComp__ZRBu7\",\"repositionHandle\":\"WinFrame_repositionHandle__HI2Yn\"};","import { useState, useRef } from \"react\"\n// import _ from 'lodash'\n\n/**\n * the \"el\" is the element whose shadow is to be shown while dragging\n * e.g. even though users are dragging only the title bar, the users should fee\n * that they are dragging the entire window\n */\nfunction useDrag (el) {\n    // the real time position difference due to dragging\n    // from initial position and then from each prev position\n    // during the drag\n    const [posDiff, setPosDiff] = useState({ leftDiff: 0, topDiff: 0 })\n\n    // save the prev position during drag\n    const dragPrevPos = useRef(null)\n\n    // When dragging starts\n    // Save the initial position\n    const onDragStart = (left, top, e) => {\n        dragPrevPos.current = { left, top }\n        if(el) {\n            const leftShift = left - parseInt(el.style.left)\n            e.dataTransfer.setDragImage(el, leftShift, 0)\n        }\n    }\n\n    // we could throttle it\n    // but it's already too slow due to react's wait-and-upate-in-batch update of state\n    // TODO: Check if could make it faster...\n    const onDrag = (left, top) => {\n        if(left===0 && top===0) return\n\n        if(dragPrevPos.current) {\n            let leftDiff = left - dragPrevPos.current.left\n            let topDiff = top - dragPrevPos.current.top\n\n            // save the diff\n            setPosDiff({ leftDiff, topDiff })\n        }\n\n        // set new previous drag position\n        dragPrevPos.current = { left, top }\n    }\n\n    const onDragEnd = (left, top) => {\n        dragPrevPos.current = null\n    }\n\n    return {\n        posDiff,\n        onDragStart,\n        onDrag,\n        onDragEnd\n    }\n\n}\n\nexport default useDrag\n\n","import styles from './WinFrame.module.css'\nimport clsx from 'clsx'\nimport { useState } from 'react'\n\nconst Menubar = props => {\n    const { menu, handleMenuCommand } = props\n    const [ visibleSubMenuId, setVisibleSubMenuId ] = useState('')\n\n    const toggleSubMenu = id => {\n        if(visibleSubMenuId === id) setVisibleSubMenuId('')\n        else setVisibleSubMenuId(id)\n    }\n\n    return(\n        <div className={clsx(styles.bar, styles.menubar)}>\n            {\n                menu && Object.keys(menu).map(m => \n                <div key={m} className={clsx(styles.menu, visibleSubMenuId===m && styles.visible )}>\n                    <span className={styles.menuName} onClick={() => toggleSubMenu(m)}>{ m }</span>\n                    <ul className={styles.subMenu}>\n                    {   \n                        // Loop over the Submenu\n                        Object.values(menu[m]).map(sm => \n                        <li key={sm.command} onClick={() => handleMenuCommand(sm.command)} >\n                            { sm.name }\n                        </li>)\n                    }\n                    </ul>\n                </div>)\n            }\n        </div>\n    )\n}\n\nexport default Menubar","export const MENU_COMMANDS = {\n    NEW_WINDOW: \"new_window\",\n    CLOSE_WINDOW: \"close_window\"\n}\n\nexport const DEFAULT_MENU = {\n    File: {\n        1: { name: \"New Window\", command: MENU_COMMANDS.NEW_WINDOW },\n        100: { name: \"Close Window\", command: MENU_COMMANDS.CLOSE_WINDOW } \n    }\n}","import { useState, useEffect, useRef, Suspense, useCallback } from 'react'\nimport clsx from 'clsx'\nimport styles from './WinFrame.module.css'\nimport { APPS_DETAILS } from '../../../const/APPS_DETAILS'\nimport useRuntime from '../../../features/procs/useRuntime'\nimport useDrag from './useDrag'\nimport { WINDOW_SIZES } from '../../../const/WINDOW'\nimport Menubar from './Menubar'\nimport { DEFAULT_MENU, MENU_COMMANDS } from './MENU_CONST'\n\nconst NON_BODY_HEIGHTS = 50\n\nconst getWinStyles = (winSize) => {\n    if(winSize === WINDOW_SIZES.MAXIMIZED) {\n        return () => ({\n            top: 0,\n            left: 0,\n            width: window.innerWidth,\n            height: window.innerHeight\n        })()\n    }\n    else {\n        return {\n            top: 10 + Math.floor(Math.random()*200),\n            left: 10 + Math.floor(Math.random()*100),\n            width: Math.max( 300, Math.floor(window.innerWidth * .7) ),\n            height: 300 + NON_BODY_HEIGHTS\n        }\n    }\n}\n\nconst getMaximizedStyles = () => ({\n    top: 0,\n    left: 0,\n    width: window.innerWidth,\n    height: window.innerHeight\n})\n\nconst LoadingScreen = ({ appName }) => {\n    return (\n        <div className={styles.loadingComp}>\n            {appName || 'The App'} is Loading ...\n        </div>\n    )\n}\n\nconst WinFrame = props => {\n    // const { render } = props\n    const { appProps, AppComponent } = props\n    const { runtimeInfo } = appProps\n    const appName = APPS_DETAILS[runtimeInfo.appId].name\n    const runtime = useRuntime()\n    // persist value in useRef\n    const initStyleRef = useRef(getWinStyles(WINDOW_SIZES.DEFAULT))\n    // console.log(initStyleRef)\n    const [winStyles, setWinStyles] = useState(initStyleRef.current)\n    const thisWinRef = useRef()\n    const [menu, setMenu] = useState(DEFAULT_MENU)\n    const [menuCommand, setMenuCommand] = useState('')\n\n    // use the useDrag custom hook for Dragging and repositioning\n    const { posDiff, onDragStart: _onDragStart, onDrag, onDragEnd } = useDrag(thisWinRef.current)\n\n    // use the useDrag custom hook for Resizing WinFrame\n    // alias all the names to avoid conflict with the normal drag to reposition\n    const { posDiff: sizeDiff, \n            onDragStart: onResizeStart, \n            onDrag: onResize, \n            onDragEnd: onResizeEnd } = useDrag()\n\n    // Update styles based on Window Maximize / Minimize / Default\n    useEffect(() => {\n        // if(isDragging) return\n        let newWinStyle = {...initStyleRef.current}\n        if(runtimeInfo.winSize === WINDOW_SIZES.MAXIMIZED) {\n            newWinStyle = getMaximizedStyles()\n        }\n\n        if(runtimeInfo.winSize === WINDOW_SIZES.MINIMIZED) {\n            newWinStyle = {\n                ...newWinStyle,\n                top: window.innerHeight - 100,\n                left: 200,\n                transform: 'scale(0)'\n            }\n        }\n\n        setWinStyles(newWinStyle)\n    }, \n    [runtimeInfo.winSize])\n\n    // Whenever there is a positionDiff due to dargging\n    useEffect(() => {\n        // update the new position\n        setWinStyles(s => ({\n            ...s, \n            left: s.left + posDiff.leftDiff,\n            top: s.top + posDiff.topDiff\n        }))\n    }, \n    [posDiff])\n\n\n    // Whenever WinFrame is resized using the resize handle at bottom right\n    useEffect(() => {\n        // update the new position\n        setWinStyles(s => ({\n            ...s, \n            width: s.width + sizeDiff.leftDiff,\n            height: s.height + sizeDiff.topDiff\n        }))\n    }, \n    [sizeDiff])\n\n    const handleMenuCommand = cmd => {\n        switch(cmd) {\n            case MENU_COMMANDS.NEW_WINDOW:\n                window.setTimeout(() => {\n                    runtime.run(runtimeInfo.appId)\n                }, 0)\n                break\n            case MENU_COMMANDS.CLOSE_WINDOW:\n                runtime.terminate(runtimeInfo.runtimeId)\n                break\n            default:\n                setMenuCommand(cmd)\n        }\n\n        // reset command\n        setTimeout(() => {\n            setMenuCommand('')\n        }, 0)\n    }\n\n    const raiseWindowOnTop = () => runtime.raiseWindow(runtimeInfo.runtimeId)\n\n    const onDragStart = (left, top, e) => {\n        _onDragStart(left, top, e)\n        raiseWindowOnTop()\n    }\n\n    const maximize = () => runtime.mize(runtimeInfo.runtimeId, WINDOW_SIZES.MAXIMIZED)\n    const minimize = () => runtime.mize(runtimeInfo.runtimeId, WINDOW_SIZES.MINIMIZED)\n    const unmaximize = () => runtime.mize(runtimeInfo.runtimeId, WINDOW_SIZES.DEFAULT)\n    \n    const close = () => {\n        // const r = window.confirm(\"Do you really want to close ?\")\n        // if(r) {\n            runtime.terminate(runtimeInfo.runtimeId)\n        // }\n    }\n\n    /**\n     * \n     * @param {Object} MenuConfig | { \n     *  hideMenu: boolean, \n     *  replace?: boolean, // default is false, i.e. merge\n     *  menu: { id1: subMenuArr1, id: subMenuArr2 }\n     */\n    const configMenu = useCallback(MenuConfig => {\n        // hide the menu?\n        if(MenuConfig.hideMenu) setMenu(null)\n        \n        else if(MenuConfig.replace) {\n            setMenu(MenuConfig.menu)\n        }\n\n        // else merge\n        else {\n            console.log('called...')\n            // if there is an incoming menu\n            // merge it\n            if(MenuConfig.menu) {\n                setMenu(menu => {\n                    let newMenu = {\n                        ...menu\n                    }\n    \n                    for(let m in MenuConfig.menu) {\n                        // if that menu already exists\n                        // merge\n                        if(m in newMenu) {\n                            newMenu[m] = {...newMenu[m], ...MenuConfig.menu[m]}\n                        }\n                        // else just copy it\n                        else {\n                            newMenu[m] = MenuConfig.menu[m]\n                        }\n                    }\n\n                    console.log(newMenu)\n                    return newMenu\n                })\n            }\n        }\n    }, \n    [])\n\n    return (\n        <div \n            className={clsx(\n                styles.root, \n                (runtimeInfo.winSize===WINDOW_SIZES.MINIMIZED) && styles.minimized, \n                (runtimeInfo.winSize===WINDOW_SIZES.DEFAULT) && styles.defaultSized\n                )}\n            style={{ ...winStyles, zIndex: runtimeInfo.zIndex }}\n            onClick={raiseWindowOnTop}\n            ref={thisWinRef}\n        >\n\n            <div \n                className={clsx(styles.bar, styles.namebar)}\n                draggable=\"true\"\n                onDrag={e => onDrag(e.pageX, e.pageY)}\n                onDragStart={e => onDragStart(e.pageX, e.pageY, e)}\n                onDragEnd={e => onDragEnd(e.pageX, e.pageY)}\n            >\n                <div>{ appName || 'Application' }</div>\n                <div className={styles.btns}>\n                    { \n                        runtimeInfo.winSize !== WINDOW_SIZES.MAXIMIZED &&\n                        <i className=\"fa-regular fa-square\" onClick={maximize}></i>\n                    }\n                    {\n                        (runtimeInfo.winSize === WINDOW_SIZES.MAXIMIZED || \n                            runtimeInfo.winSize === WINDOW_SIZES.MINIMIZED) && \n                            <i className=\"fa-solid fa-down-left-and-up-right-to-center\" onClick={unmaximize}></i>\n                    }\n                    <i className=\"fa-solid fa-window-minimize\" onClick={minimize}></i>\n                    <i className=\"fa-solid fa-xmark\" onClick={close}></i>\n                </div>\n            </div>\n            \n            <Menubar menu={menu} handleMenuCommand={handleMenuCommand} />\n\n            {/* THE BODY */}\n            <div style={{ height: (winStyles.height - NON_BODY_HEIGHTS) }} className={styles.body}>\n                {/* \n                    // Suspense Components could be remotely loaded \n                    // via Webpack Module Federation - Micro-frontend\n                 */}\n                <Suspense fallback={<LoadingScreen appName={appName} />}>\n                    <AppComponent \n                        {...appProps} \n                        configMenu={configMenu}\n                        menuCommand={menuCommand}\n                    />\n                </Suspense>\n            </div>\n            \n            <i \n                className={clsx(\"fa-solid fa-arrow-up-right-dots\", styles.repositionHandle)}\n                draggable=\"true\"\n                onDrag={e => onResize(e.pageX, e.pageY)}\n                onDragStart={e => onResizeStart(e.pageX, e.pageY)}\n                onDragEnd={e => onResizeEnd(e.pageX, e.pageY)}\n            ></i>\n        </div>\n    )\n}\n\nexport default WinFrame","import { WinFrame } from \"../common\"\nimport React from \"react\"\n\n// This is a HOC function\n// which will take the core / original component\n// and then send a WinFrame wrapper version of it\nfunction withWinFrame (AppComponent) {\n\n    // Step 1: Create a Wrapped Component \n    \n    const WinFrameWrappedAppComponent = props => \n        <WinFrame appProps={props} AppComponent={AppComponent} />\n\n\n    // Step 2: Return the Wrapped Component\n    return WinFrameWrappedAppComponent\n}\n\nexport default withWinFrame ","import styles from './WelcomeApp.module.css'\nimport withWinFrame from '../../withWinFrame'\n\nconst WelcomeApp = (props) => {\n    // console.log('WelcomeApp props = ', props)\n    return (\n        <div className={styles.root}>\n            <i className=\"fa-solid fa-face-smile\"></i>\n            <h2>Welcome to B.O.S.S</h2>\n            <div><u>B</u>asic <u>OS</u> <u>S</u>imulation</div>\n        </div>\n    )\n}\n\nexport default withWinFrame(WelcomeApp)","import React from \"react\"\nimport withWinFrame from \"../../withWinFrame\"\nconst BCalc = React.lazy(() => import(\"bcalc/BCalc\"))\n\nexport default withWinFrame(BCalc)","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"AppsViewerApp_root__sHx-3\",\"inner\":\"AppsViewerApp_inner__DgUUp\",\"app\":\"AppsViewerApp_app__NuVJU\",\"figSlot\":\"AppsViewerApp_figSlot__YDIVw\",\"appIco\":\"AppsViewerApp_appIco__cX9XG\",\"appName\":\"AppsViewerApp_appName__t4ByG\"};","import { APPS_DETAILS } from \"../../../../const/APPS_DETAILS\";\nimport withWinFrame from \"../../withWinFrame\";\nimport styles from \"./AppsViewerApp.module.css\"\nimport clsx from \"clsx\"\nimport { useEffect, useState } from \"react\";\nimport useRuntime from \"../../../../features/procs/useRuntime\";\n\n\nconst AppsViewerApp = props => {\n    const { configMenu, runtimeInfo } = props\n    // Filter out AppsView \n    const [apps] = useState(Object.values(APPS_DETAILS).filter(a => a.appId!== runtimeInfo.appId) )\n    const runtime = useRuntime()\n\n    useEffect(() => {\n        // Disable menu by calling the configMenu\n        configMenu({ hideMenu: true })\n    },\n    [configMenu])\n    \n\n    const runApp = appId => {\n        // Delay the load / load asyncronously\n        // so that this windows click event does not\n        // put it on the new app\n        // The new app should be on Top of this\n        window.setTimeout(() => {\n            runtime.run(appId)\n        }, 0)\n    }\n\n    return (\n        <div className={styles.root}>\n            <div className={styles.inner}>\n            {\n                apps.map(a => \n                <div \n                    key={a.appId} className={clsx(styles.app, 'flex-c')}\n                    // onClick={() => runApp(a.appId)}\n                    onDoubleClick={() => runApp(a.appId)}\n                >\n                    <div className={clsx(styles.figSlot, 'flex-c')}>\n                    { a.iconClass && <i className={clsx(a.iconClass, styles.appIco)}></i> }\n                    </div>\n                    \n                    <span className={clsx(styles.appName, 'flex-c')}>{ a.name }</span>\n                </div>)\n            }\n            </div>\n        </div>\n    )\n}\n\nexport default withWinFrame(AppsViewerApp)\n\n\n\n","import withWinFrame from \"../../withWinFrame\"\n// import { useState } from \"react\"\n\nconst TimerApp = props => {\n\n    return (\n        <div>\n            The Timer App - Work in Progress\n        </div>\n    )\n}\n\nexport default withWinFrame(TimerApp)","import withWinFrame from \"../../withWinFrame\"\nimport { useEffect } from \"react\"\n\nconst SettingsApp = props => {\n    const { configMenu } = props\n\n    useEffect(() => {\n        // Disable menu by calling the configMenu\n        configMenu({ hideMenu: true })\n    },\n    [configMenu])\n\n    return (\n        <div>\n            Settings App - Under Development\n        </div>\n    )\n}\n\nexport default withWinFrame(SettingsApp)","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"TerminalApp_root__hnkgI\",\"historyTxt\":\"TerminalApp_historyTxt__NdHdn\",\"inputArea\":\"TerminalApp_inputArea__6htWV\"};","export const FILE_TYPE = {\n    FILE: 'FILE',\n    FOLDER: 'FOLDER'\n}","const ls = {\n    get: k => JSON.parse(localStorage.getItem(k) || null),\n    set: (k, v) => localStorage.setItem(k, JSON.stringify(v)),\n    clear: k => localStorage.setItem(k, '')\n}\n\nexport default ls","\nexport const trimNDot = (s, n) => s.length > n ? (s.substring(0,n) + '...') : s\n\nexport const isFileNameValid = fileName => {\n    const VALID_FILENAME_REGEX = /^[a-zA-Z0-9-._ ]{1,}$/\n    return VALID_FILENAME_REGEX.test(fileName)\n}\n/**\n * Splits a string accross space \n * but keeps Double-Quoted strings intact\n * @param {String} line\n */\nexport function splitter(line) {\n    line = line.trim()\n    let parts = []\n    let s = ''          // current part\n    let q = ''          // current quote\n    let qMap = {}       // { qID1: String1, qID2: String2, ... }\n    let qInProg = false // quote in progress\n    let cnt = 0\n    let prefix = '__QS__'   // to identify a QuotedString\n\n    for(let c of line) {\n        // Quote found ?\n        if(c === '\"') {\n            // already a quote in progress?\n            // end it\n            if(qInProg) {\n                // if there was something in this quote\n                q = q.trim()\n                if(q.length > 0) {\n                    let qId = `${prefix}${++cnt}`\n                    s += qId\n                    qMap[qId] = q \n                    q = ''\n                }\n                qInProg = false\n            }\n            // else start a quote\n            else {\n                qInProg = true\n            }\n        }\n\n        // if a space is found\n        else if(c === ' ') {\n            // if inside a quote?\n            // then add it to the quote\n            if(qInProg) q += c \n            // else make a splitted-part\n            else {\n                // if at all it contains something\n                s = s.trim()\n                if(s.length > 0) {\n                    parts.push(s)\n                    s = ''\n                }\n            }\n        }\n        // else, add it to appropriate place\n        else {\n            if(qInProg) q += c\n            else s += c \n        }\n    }\n\n    // care for the last part\n    // which might not have a space after it\n    if(s.length > 0) parts.push(s)\n\n    // restore all the prefix quotes\n    parts = parts.map(p => p.replaceAll(/__QS__[0-9]{1,}/gm, qId => qMap[qId] || qId))\n\n    return parts\n}","import { createSlice } from \"@reduxjs/toolkit\";\nimport { File } from \"./File\";\nimport { FILE_TYPE } from \"../../const/FILE_CONST\";\nimport ls from \"../../services/localStorage\";\nimport { isFileNameValid } from \"../../services/utils\";\nconst KEY_FILE_TREE = 'BOSS/FILE-TREE'\n\n// Initially there will be only THE-ROOT (/)\nconst initialState = ls.get(KEY_FILE_TREE) || {\n    \"/\": {\n        id: \"/\",\n        name: \"/\",\n        fileType: FILE_TYPE.FOLDER, \n        parentId: null,\n        children: ['documents', 'file0']\n    },\n    \"documents\": {\n        id: \"documents\",\n        name: \"Documents\",\n        fileType: FILE_TYPE.FOLDER, \n        parentId: '/',\n        children: []\n    },\n    \"file0\": {\n        id: \"file0\",\n        name: \"Hello Boss\",\n        fileType: FILE_TYPE.FILE, \n        parentId: '/',\n        content: \"Hello Boss.\\nThis is a text file\"\n    }\n} \n\nls.set(KEY_FILE_TREE, initialState)\n\n// { id1: File1, id2: File2 ... }\n\n// NOT TO BE USED DIRECTLY\n// SHOULD BE ONLY USED BY THE PROVIDED HOOK\nexport const filesSlice = createSlice({\n    name: 'fileSystem',\n    initialState,\n    reducers: {\n        // create file / folder\n        create: (state, action) => {\n            const { name, parentId, fileType, owner } = action.payload \n            const newState = _create(state, name, parentId, fileType, owner)\n            ls.set(KEY_FILE_TREE, newState)\n            return newState\n        },\n        // rename a file/fodler\n        rename: (state, action) => {\n            const { fileId, newName } = action.payload \n            const newState = _rename(state, fileId, newName)\n            ls.set(KEY_FILE_TREE, newState)\n            return newState\n        }\n    }\n})\n\nexport const { create, rename } = filesSlice.actions\nexport default filesSlice.reducer\n\n\n///////////////// WRITING FUNCTIONS SEPARATELY FOR TESTABILITY ///////////////////////\n/**\n * Helper reducer function that takes in the state,\n * does necessary changes to the state and returns a new state\n * @param {*} state \n * @param {*} name \n * @param {*} parentId \n * @param {*} fileType \n * @param {*} owner \n * @returns \n */\nexport function _create(state, name, parentId, fileType, owner) {\n    // File name invalid?\n    if(!name.trim() || !isFileNameValid(name)) {\n        return state\n    }\n    // Invalid parentId\n    // Or parentId is not a folder\n    if(!(parentId in state) || state[parentId].fileType !== FILE_TYPE.FOLDER) {\n        return state\n    }\n\n    // Check for duplicate file names\n    if(state[parentId].children.map(fid => state[fid].name).includes(name)) {\n        return state\n    }\n\n    // Create new New File Object\n    const newFile = File(name, parentId, fileType, owner)\n\n    // add this new File to the state\n    const newState = {\n        ...state,\n        [newFile.id]: newFile\n    }\n\n    // add this file's id to its parent's children\n    if(parentId) {\n        newState[parentId] = {\n            ...newState[parentId],\n            children: [...newState[parentId].children, newFile.id]\n        }\n    }\n\n    // return this new state\n    return newState\n}\n\nexport function _rename(state, fileId, newName) {\n    // File name invalid?\n    if(!newName.trim() || !isFileNameValid(newName)) {\n        return state\n    }\n    // Invalid fileId\n    if(!(fileId in state)) {\n        return state\n    }\n\n    // Check for duplicate file names\n    // Amongst the Siblings\n    const parentId = state[fileId].parentId\n    if(state[parentId].children.map(fid => state[fid].name).includes(newName)) {\n        return state\n    }\n\n    // Create a new State\n    // with the name changed for the given fileId\n    const newState = {\n        ...state,\n        [fileId]: {\n            ...state[fileId],\n            name: newName\n        }\n    }\n\n    return newState\n}","import { v4 as uuidv4 } from 'uuid';\nimport { FILE_TYPE } from \"../../const/FILE_CONST\";\n\n/**\n * File Objects, Folders are special types of files\n * \n * NOTE: Not making a class because that is not seriealizable by redux\n */\n\nexport function File (name, parentId, fileType, owner) {\n    return {\n        id : uuidv4(),\n        name, parentId, fileType, owner,\n        date_creation : Date.now(),\n        date_modification : Date.now(),\n        children: fileType === FILE_TYPE.FOLDER ? [] : null\n    }\n}\n\n","import { useSelector, useDispatch } from \"react-redux\"\nimport { create, rename } from \"./filesSlice\"\nimport { FILE_TYPE } from \"../../const/FILE_CONST\"\nimport { useCallback } from \"react\"\nimport { isFileNameValid } from \"../../services/utils\"\n\nexport const useFileSystem = () => {\n    const _files = useSelector(state => state.files)\n    const dispatch = useDispatch()\n    \n    const createFile = useCallback((name, parentId, owner) => _create(_files, dispatch, name, parentId, FILE_TYPE.FILE, owner), [dispatch, _files])\n    const createDir = (name, parentId, owner) => _create(_files, dispatch, name, parentId, FILE_TYPE.FOLDER, owner)\n    const rename = (fileId, newName) => _rename(_files, dispatch, newName, fileId)\n    const createFolder = createDir\n    const getParentId = fileID => _getParentId(_files, fileID)\n    const getChildren = parentId => _getChildren(_files, parentId)\n    const getChildrenNames = parentId => _getChildrenNames(_files, parentId)\n    /**\n     * Get path names till the given file id\n     * @param {*} fileId \n     * @returns \n     */\n    const getPathTill = fileId => _getPathTill(_files, fileId)\n    const getFileInfo = absPath => _getFileInfo(_files, absPath)\n\n    return {\n        createFile, createDir, createFolder, getParentId, getChildren, getChildrenNames, \n        getPathTill, getFileInfo, rename\n    }\n}\n\nfunction _create (_files, dispatch, name, parentId, fileType, owner) {\n    // File name invalid?\n    if(!name.trim() || !isFileNameValid(name)) {\n        return `Invalid name ${name}`\n    }\n\n    // Invalid parentId\n    // Or parentId is not a folder\n    if(!(parentId in _files) || _files[parentId].fileType !== FILE_TYPE.FOLDER) {\n        return `Can not create file/folder in the given location`\n    }\n\n    // Check for duplicate file names\n    if(_files[parentId].children.map(fid => _files[fid].name).includes(name)) {\n        return `File/folder name \"${name}\" already exists`\n    }\n\n    dispatch(create({ name, parentId, fileType, owner }))\n    return ''\n}\n\nfunction _rename(_files, dispatch, newName, fileId) {\n    // File name invalid?\n    if(!newName.trim() || !isFileNameValid(newName)) {\n        return `Invalid name ${newName}`\n    }\n    // Invalid fileId\n    if(!(fileId in _files)) {\n        return `File ID (${fileId}) not valid`\n    }\n\n    // Check for duplicate file names\n    // Amongst the Siblings\n    const parentId = _files[fileId].parentId\n    if(_files[parentId].children.map(fid => _files[fid].name).includes(newName)) {\n        return `File/folder name \"${newName}\" already exists`\n    }\n\n    dispatch(rename({ fileId, newName }))\n    return ''\n}\n\nexport function _getParentId(_files, fileId) {\n    if(fileId === '/') return \"/\"\n    else return _files[fileId].parentId\n}\n\n/**\n * Returns string path NAMES starting from root to the given fileId\n * Note: it returns the file/folder names, not the ids\n * Please see the unit tests to understand more\n * @param {*} _files | File Tree JSON\n * @param {String} fileId | A FileID or FolderID\n * @returns \n */\nexport function _getPathTill(_files, fileId) {\n    let pathSegments = []\n\n    // go up the parent ladder\n    while(fileId in _files) {\n        // we need the names, not the IDs\n        pathSegments.push(_files[fileId].name)\n        fileId = _files[fileId].parentId\n    }\n\n    return pathSegments.reverse().join(\"/\").replace('//', '/')\n}\n\n/**\n * Returns an array of fileId and fileName till the root\n * [ { id: \"/\", name: \"/\" } , { id1, name1 }, { id2, name2 }, ..., { givenId, nameN } ]\n * See unit test to understand test cases\n * @param {JSON} _files | File Tree JSON\n * @param {String} fileId | A FileID or FolderID\n * @returns \n */\nexport function _getPathArrTill(_files, fileId) {\n    let pathSegments = []\n\n    // go up the parent ladder\n    while(fileId in _files) {\n        // we need the names, not the IDs\n        let pathObj = { id: fileId, name: _files[fileId].name }\n        pathSegments.push(pathObj)\n        fileId = _files[fileId].parentId\n    }\n\n    return pathSegments.reverse()\n}\n\n/**\n * Return array of children nodes for a given parentId\n * @param {JSON} _files | File Tree JSON\n * @param {String} fileId | A FileID or FolderID\n * @returns Array<FileNodes> \n */\nexport function _getChildren(_files, parentId) {\n    let children = []\n    if(parentId === '') {\n        children = Object.values(_files).filter(f => f.parentId === parentId)\n    }\n    else if (parentId in _files) {\n        let childrenIds = _files[parentId].children || []\n        children = childrenIds.map(cId => _files[cId])\n    }\n    return children\n}\n\n/**\n * Return strings of names of all the children\n * @param {JSON} _files | File Tree JSON\n * @param {String} fileId | A FileID or FolderID\n * @returns Array<String> \n * @returns \n */\nexport function _getChildrenNames(_files, parentId) {\n    return _getChildren(_files, parentId).map(f => f.name)\n}\n\n/**\n * Returns the file node at the given absolute path or return null\n * @param {JSON} _files | File Tree JSON\n * @param {String} absPath | Absolute path starting with / \n * @returns FileNode\n */\nexport function _getFileInfo (_files, absPath) {\n    absPath = _normalizePath(absPath)\n\n    // if root itself\n    if(absPath === '/') return _files[\"/\"]\n\n    // get the file/folder names array\n    let pathNames = absPath.split('/').filter(f => f.trim().length>0)\n\n    // initial scope of search is the root level files\n    let filesInLevel = _getChildren(_files, '/')\n\n    // the final resulting file\n    let lastFile = null\n\n    // loop thru the path names one by one\n    for(let fname of pathNames) {\n        let isFound = false\n        for(let file of filesInLevel) {\n            // if found ?\n            if(file.name === fname) {\n                isFound = true \n                lastFile = file\n                filesInLevel = _getChildren(_files, file.id)\n                break\n            }\n        }\n\n        // broken breadcrumb\n        if(!isFound) {\n            return null \n        }\n    }\n    return lastFile\n} \n\n/**\n * Normalize a given stringpath\n * 1. Reduce multiple slashes ///// to single /\n * @param {String} path \n * @returns \n */\nexport function _normalizePath (path) {\n    // multiple //// should be reduced to single /\n    let s = path[0]\n    for(let i=1; i<path.length; ++i) {\n        if(path[i] === path[i-1] && path[i] === '/') continue;\n        else s += path[i]\n    }\n    return s\n}\n","/**\n * This is the processor for terminal input,\n * Given the current line entered by the user,\n * and the ctx of the previous interaction,\n * it will return the result\n */\nimport { useFsCommands } from \"./commandScripts/useFsCommands\"\nimport { splitter } from \"../utils\"\n\nexport function useProcessor(ctx) {\n    const fsCommands = useFsCommands()\n    \n    return function process(line) {\n        let args = splitter(line) // line.trim().split(/\\s+/)\n        let cmd = args[0]\n        console.log(args)\n\n        // Let's create a basket of Commands\n        // TODO: CHECK for Naming Collision among Commands\n        const allCommands = {\n            ...fsCommands\n        }\n\n        // default init\n        let msg = `Sorry could not find the command \"<b>${cmd}</b>\"`\n        let code = -1\n        \n        if(cmd in allCommands) {\n            [ msg, code ] = allCommands[cmd](ctx, args.slice(1))\n        }\n\n        return { msg, code, ctx }\n    }\n    \n}","import { useFileSystem } from \"../../../features/fileSystem/useFileSystem\"\nimport { FILE_TYPE } from \"../../../const/FILE_CONST\"\n\nexport function useFsCommands () {\n    const fs = useFileSystem()\n\n    return {\n        ls, pwd, touch, mkdir,\n        md: mkdir, cd,\n    }\n\n\n    // list all files in current working directory\n    function ls (ctx, args) {\n        const files = fs.getChildrenNames(ctx.currentFolderId)\n        return [files, 0]\n    }\n\n    // Return the present working directory\n    function pwd (ctx, args) {\n        // console.log(ctx)\n        const path = fs.getPathTill(ctx.currentFolderId)\n        return [path, 0]\n    }\n\n    // create new files touch file1 file2\n    function touch (ctx, args) {\n        let msgs = ''\n        for(let f of args) {\n            let msg = fs.createFile(f, ctx.currentFolderId)\n            if(msg) {\n                msgs += msg + '\\n'\n            }\n        }\n        return [msgs, 0]\n    }\n\n    // create new folder mkdir dir1 dir2\n    function mkdir (ctx, args) {\n        let msgs = ''\n        for(let f of args) {\n            let msg = fs.createDir(f, ctx.currentFolderId)\n            if(msg) {\n                msgs += msg + '\\n'\n            }\n        }\n        return [msgs, 0]\n    }\n\n    function cd (ctx, args) {\n        let path = args[0]\n        if(!path) return ['', 0]\n\n        // if the path needs to start from current location\n        if(path[0] !== '.' && path[0] !== '/') {\n            path = pwd(ctx)[0] + '/' + path\n        }\n\n        let fileInfo = fs.getFileInfo(path)\n\n        console.log(fileInfo)\n        if(fileInfo && fileInfo.fileType === FILE_TYPE.FOLDER) {\n            ctx.currentFolderId = fileInfo.id \n        }\n        else {\n            return [\n                `\"${path}\" is not a folder to move into`\n            ]\n        }\n\n        console.log(ctx)\n        return [\n            '', 0\n        ]\n    }\n}","\n\nexport const colorify = (htm, color) => `<div style=\"color: ${color}\">${htm}</div>`\n","import withWinFrame from \"../../withWinFrame\"\nimport styles from \"./TerminalApp.module.css\"\nimport { useState, useRef, useEffect } from \"react\"\nimport { useProcessor } from \"../../../../services/forTerminal/useProcessor\"\nimport { colorify } from \"../../../../services/forTerminal/formatter\"\n// import { useFileSystem } from \"../../../../features/fileSystem/useFileSystem\"\n\nconst TerminalApp = props => {\n    const [prompt] = useState('$ > ')   // setPrompt is removed as it is ununsed\n    const [historyTxt, setHistoryTxt] = useState(colorify('Welcome to the B.O.S.S. terminal', 'lightyellow'))\n    const [currentLine, setCurrentLine] = useState(prompt)\n    const [cmdHistory, setCmdHistory] = useState([])\n    const [cmdHistoryIndex, setCmdHistoryIndex] = useState(0)\n    const currentLineRef = useRef()\n    const ctxRef = useRef({})   // context for current terminal\n    const process = useProcessor(ctxRef.current)\n    // const fileSystem = useFileSystem()\n\n    // const updatePrompt = useCallback(() => {\n    //     console.log('inside updatePrompt')\n    //     const pwd = fileSystem.getPathTill(ctxRef.current.currentFolderId)\n    //     console.log(pwd)\n    //     setPrompt(`$ [${pwd}] > `)\n    // }, \n    // [fileSystem])\n\n    // Focus \n    useEffect(() => {\n        const el = currentLineRef.current\n        el.focus()\n        el.selectionStart = el.selectionEnd = el.value.length;\n    }, \n    [])\n\n    // Initialize the context for current terminal\n    useEffect(() => {\n        ctxRef.current = { currentFolderId: '/' }    // '' for root folder\n        // updatePrompt()\n    }, \n    [])\n\n    // Watch the currentFolderId\n    // useEffect(() => {\n    //     const pwd = fileSystem.getPathTill(ctxRef.current.currentFolderId)\n    //     console.log(pwd)\n    //     setPrompt(`$ [${pwd}] > `)\n    // }, \n    // [ctxRef.current.currentFolderId, fileSystem.getPathTill])\n    \n    // User is writing\n    const onChange = e => {\n        let val = e.target.value\n        // prompt should not be deleted\n        // and it should always be the 1st \n        if(!val.startsWith(prompt)) {\n            return\n        }\n        setCurrentLine(val)\n    }\n\n    // onKeyUp\n    const onKeyUp = e => {\n        const keyCode = e.keyCode\n        // console.log(keyCode)\n\n        // Enter pressed - 13\n        if(keyCode === 13) {\n            // Strip the prompt at the begining\n            const currentCmd = currentLine.substring(prompt.length).trim()\n            // don't process empty line\n            if(currentCmd.length === 0) return\n\n            if(currentCmd === 'cls' || currentCmd === 'clear') {\n                setHistoryTxt('')\n            }\n            else {\n                // PROCESS THE COMMAND\n                console.log(ctxRef.current)\n                const result = process(currentCmd, ctxRef.current) // result = { msg, code, ctx }\n\n                const newHistoryTxt = historyTxt \n                                    + colorify(currentLine, 'lightgreen')\n                                    + colorify(result.msg, 'lightskyblue')\n                setHistoryTxt(newHistoryTxt)\n            }\n            \n            setCurrentLine(prompt)\n\n            // save this command in history for later retrieval\n            // only if it is not the same as just the prev one\n            if(currentCmd !== cmdHistory[cmdHistory.length-1]) {\n                const newCmdHistory = [...cmdHistory, currentCmd]\n                setCmdHistory(newCmdHistory)\n                setCmdHistoryIndex(newCmdHistory.length)\n            }\n        }\n\n        // Up pressed - 38\n        else if(keyCode === 38) {\n            if(cmdHistory.length === 0) return\n            // go up the prev command, if possible\n            let index = cmdHistoryIndex > 0 ? cmdHistoryIndex-1: 0\n            setCmdHistoryIndex(index)\n            setCurrentLine(prompt + cmdHistory[index])\n        }\n\n        // Down pressed - 40\n        else if(keyCode === 40) {\n            if(cmdHistory.length === 0) return\n            // go down the next command, if possible\n            let index = cmdHistoryIndex < (cmdHistory.length-1) ? cmdHistoryIndex+1 : (cmdHistory.length-1)\n            setCmdHistoryIndex(index)\n            setCurrentLine(prompt + cmdHistory[index])\n        }\n    }\n\n    return (\n        <div className={styles.root}>\n            <div \n                className={styles.historyTxt} \n                dangerouslySetInnerHTML={{ __html: historyTxt }}\n            ></div>\n\n            <textarea \n                className={styles.inputArea}\n                value={currentLine}\n                ref={currentLineRef}\n                onChange={onChange}\n                onKeyUp={onKeyUp}\n            ></textarea>\n        </div>\n    )\n}\n\nexport default withWinFrame(TerminalApp)","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"FoldersApp_root__CdN1-\",\"locationBar\":\"FoldersApp_locationBar__lR9vB\",\"loc\":\"FoldersApp_loc__rXGZe\",\"btns\":\"FoldersApp_btns__vQOzO\",\"inner\":\"FoldersApp_inner__lYEzr\"};","// extracted by mini-css-extract-plugin\nexport default {\"file\":\"File_file__MMHS5\",\"ffIco\":\"File_ffIco__5bYlD\",\"fname\":\"File_fname__-Nx+X\"};","import { useState, useEffect } from 'react'\nimport styles from './File.module.css'\nimport { FILE_TYPE } from '../../../../../const/FILE_CONST'\nimport { isFileNameValid } from '../../../../../services/utils'\nimport { useFileSystem } from '../../../../../features/fileSystem/useFileSystem'\n// import { trimNDot } from '../../../../../services/utils'\n\nconst File = props => {\n    const { file, open } = props\n    const [name, setName] = useState('')\n    const fs = useFileSystem()\n\n    useEffect(() => {\n        setName(file.name)\n    }, \n    [file.name])\n\n    const onNameChange = e => {\n        const newName = e.target.value\n        if(!isFileNameValid(newName)) return\n        setName(newName)\n    }\n\n    const saveNewFileName = () => {\n        // if the file name has changed\n        if(name !== file.name) {\n            fs.rename(file.id, name)\n        }\n    }\n\n    return (\n        <div \n            className={styles.file} \n            onDoubleClick={() => open(file.id, file.fileType)}\n        >\n            <span className={styles.ffIco}>\n                { file.fileType === FILE_TYPE.FILE && <i className=\"fa-solid fa-file-lines\"></i> }\n                { file.fileType === FILE_TYPE.FOLDER && <i className=\"fa-regular fa-folder-open\"></i> }\n            </span>\n            <input \n                className={styles.fname} \n                type=\"text\" \n                value={name} \n                onChange={onNameChange} \n                onBlur={saveNewFileName}\n            />\n        </div>\n    )\n}\n\nexport default File","import withWinFrame from \"../../withWinFrame\"\nimport { useState, useEffect } from \"react\"\nimport { useFileSystem } from \"../../../../features/fileSystem/useFileSystem\"\nimport styles from './FoldersApp.module.css'\nimport { FILE_TYPE } from \"../../../../const/FILE_CONST\"\nimport { useCMDHandler } from \"../../../common/winframe/useCMDHandler\"\nimport File from \"./file/File\"\n// import clsx from 'clsx'\n\nconst COMMANDS = {\n    NEW_FILE: 'NEW_FILE',\n    NEW_FOLDER: 'NEW_FOLDER'\n}\n\nconst FoldersApp = props => {\n    const { configMenu, menuCommand } = props\n    const fs = useFileSystem()\n    const [currentFolderId, setCurrentFolderId] = useState(\"/\") // open in root\n    const [currentFiles, setCurrentFiles] = useState(fs.getChildren(currentFolderId))\n    \n    // To Handle The Menu Commands\n    // The useCMDHandler hook takes 2 args\n    // 1. cmd to watch\n    // 2. handler function\n    useCMDHandler(menuCommand, cmd => {\n\n        if(cmd === COMMANDS.NEW_FILE) {\n            console.log('Create new file')\n            const cnt = Math.floor(Math.random()*999) \n            fs.createFile(`File_${cnt}`, currentFolderId)\n        }\n        else if(cmd === COMMANDS.NEW_FOLDER) {\n            console.log('Create new folder')\n            const cnt = Math.floor(Math.random()*999) \n            fs.createDir(`Folder_${cnt}`, currentFolderId)\n        }\n\n        refresh()\n    })\n\n\n    // const cmdRef = useRef('')\n\n    const open = (fId, fileType) => {\n        // If it's a folder, get inside\n        if(fileType === FILE_TYPE.FOLDER) {\n            setCurrentFolderId(fId)\n            setCurrentFiles(fs.getChildren(fId))\n        }\n        // Else a file\n        // TODO: Open it with appropriate app\n    }\n\n    const refresh = () => setCurrentFiles(fs.getChildren(currentFolderId))\n    \n    const goToParentFolder = () => {\n        const parentId = fs.getParentId(currentFolderId)\n        setCurrentFolderId(parentId)\n        setCurrentFiles(fs.getChildren(parentId))\n    }\n\n    // Configure the menu\n    useEffect(() => {\n        configMenu({\n            menu: {\n                File: { \n                    2: { name: 'New File', command: COMMANDS.NEW_FILE },\n                    3: { name: 'New Folder', command: COMMANDS.NEW_FOLDER },\n                }\n            }\n        })\n    }, \n    [configMenu])\n\n    return (\n        <div className={styles.root}>\n\n            <div className={styles.locationBar}>\n                <div className={styles.loc}>\n                    { fs.getPathTill(currentFolderId) }\n                </div>\n                <div className={styles.btns}>\n                    <i className=\"fa-solid fa-rotate-right\" onClick={refresh}></i>\n                    <i className=\"fa-solid fa-arrow-up\" onClick={goToParentFolder}></i>\n                </div>\n                \n            </div>\n            \n            <div>\n                <div className={styles.inner}>\n                    {\n                        currentFiles && currentFiles.map(f => \n                            <File key={f.id} file={f} open={open} />\n                        )\n                    }\n                </div>\n            </div>\n            \n        </div>\n    )\n}\n\nexport default withWinFrame(FoldersApp)","import { WelcomeApp, BCalc, AppsViewerApp, TimerApp, SettingsApp, TerminalApp, FoldersApp\n} from '../components/applications'\n\nexport const MAP_APP_ID_TO_COMPONENT = {\n    \"appsviewer\": AppsViewerApp,\n    'settings': SettingsApp,\n    \"terminal\": TerminalApp,\n    \"folders\": FoldersApp,\n    'welcomeapp': WelcomeApp,\n    'bcalc': BCalc,\n    'timer': TimerApp,\n}","import { useRef, useEffect } from \"react\";\n\n/**\n * Whenever user clicks on any menu-command in WinFrame,\n * The WinFrame passes `menuCommand` in props to the AppComponent\n * @param {String} menuCommand | The Menu Command to Watch for Change\n * @param {*} handlerFn | The callback function to call when new Command is received\n */\nexport function useCMDHandler(menuCommand, handlerFn) {\n    const cmdRef = useRef('')   // to store already handled command\n\n    // Watch the menuCommand\n    // Whenever user clicks on the menu, it will get triggered\n    useEffect(() => {\n        // New value?\n        if(menuCommand !== cmdRef.current) {\n            // handle it by calling the callback fn\n            handlerFn(menuCommand)\n            // mark it as handled\n            cmdRef.current = menuCommand\n        }\n    }, \n    [menuCommand, handlerFn])\n}","// The Invisible Component that dynamically hold all the running apps' components\nimport { useSelector } from \"react-redux\"\nimport { MAP_APP_ID_TO_COMPONENT } from \"../../../const/MAP_APP_ID_TO_COMPONENT\"\n\n\nconst AppsContainer = () => {\n    const runningApps = Object.values(useSelector(state => state.procs))\n\n    return (\n        <div className=\"apps_container\">\n            {\n                runningApps.map(a => {\n                    const Comp = MAP_APP_ID_TO_COMPONENT[a.appId]\n                    if(Comp) return <Comp key={a.runtimeId} runtimeInfo={a} />\n                    else return null\n                })\n            }\n        </div>\n    )\n}\n\nexport default AppsContainer","import Dock from './components/system/dock/Dock';\nimport AppsContainer from './components/system/appsContainer/AppsContainer';\n\nconst App = () => {\n\n  return (\n    <div className=\"App\">\n\n      {/* <Suspense fallback=\"Loading ...\">\n        <BCalc />\n      </Suspense> */}\n\n      {/* <WelcomeApp /> */}\n\n      {/* <WinFrame /> */}\n      <AppsContainer />\n      <Dock />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { APPS_DETAILS } from \"../../const/APPS_DETAILS\";\n\nexport const appsSlice = createSlice({\n    name: 'apps',\n    initialState: APPS_DETAILS,\n    reducers: {\n        \n    }\n})\n\n// Action creators are generated for each case reducer function\n// export const { increment, decrement, incrementByAmount } = appsSlice.actions\n\nexport default appsSlice.reducer\n\n","import { configureStore } from '@reduxjs/toolkit'\n// import counterReducer from './features/counter/counterSlice'\nimport appsReducer from '../features/apps/appsSlice'\nimport procsReducer from '../features/procs/procsSlice'\nimport filesReducer from '../features/fileSystem/filesSlice'\n\nexport const store = configureStore({\n    reducer: {\n        // counter: counterReducer,\n        apps: appsReducer,\n        procs: procsReducer,\n        files: filesReducer\n    }\n})","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { store } from './store/store'\nimport { Provider } from 'react-redux'\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"names":["APP_DISPLAY_TYPE","APPS_DETAILS","appId","name","iconClass","docked","displayType","allowedInstances","keywords","WINDOW_SIZES","DEFAULT","MAXIMIZED","MINIMIZED","_runtimeIdCounter","procsSlice","createSlice","initialState","runtimeId","crucial","reducers","runApp","state","action","_action$payload","payload","args","runningInstancesCount","Object","values","filter","a","length","appDetail","newRuntimeObj","zIndex","getMaxZIndex","winSize","_objectSpread","_defineProperty","proc","_i","_Object$values","p","terminateApp","newState","mizeApp","console","log","_action$payload2","runtimeObj","includes","modifiedRto","raiseWindow","_procsSlice$actions","actions","Math","max","apply","_toConsumableArray","map","r","dispatch","useDispatch","runningApps","useSelector","procs","run","_len","arguments","Array","_key","terminate","mize","_raiseWindow","_getMaxZIndex","props","runtime","useRuntime","_jsx","className","styles","onClick","title","children","clsx","visible","setVisible","minimizedApps","_jsxs","_useState","useState","_useState2","_slicedToArray","minimizeListVisible","setMinimizeListVisible","MinimizedAppsList","dockIconStyles","setZIndex","apps","dockedApps","style","da","DockIcon","MinimizedAppsViewer","el","leftDiff","topDiff","posDiff","setPosDiff","dragPrevPos","useRef","onDragStart","left","top","e","current","leftShift","parseInt","dataTransfer","setDragImage","onDrag","onDragEnd","menu","handleMenuCommand","visibleSubMenuId","setVisibleSubMenuId","bar","menubar","keys","m","menuName","id","subMenu","sm","command","MENU_COMMANDS","DEFAULT_MENU","File","LoadingScreen","_ref","appName","loadingComp","appProps","AppComponent","runtimeInfo","initStyleRef","width","window","innerWidth","height","innerHeight","floor","random","winStyles","setWinStyles","thisWinRef","_useState3","_useState4","setMenu","_useState5","_useState6","menuCommand","setMenuCommand","_useDrag","useDrag","_onDragStart","_useDrag2","sizeDiff","onResizeStart","onResize","onResizeEnd","useEffect","newWinStyle","transform","s","raiseWindowOnTop","configMenu","useCallback","MenuConfig","hideMenu","replace","newMenu","root","minimized","defaultSized","ref","namebar","draggable","pageX","pageY","btns","Menubar","cmd","setTimeout","body","Suspense","fallback","repositionHandle","WinFrame","withWinFrame","React","onDoubleClick","FILE_TYPE","FILE","FOLDER","get","k","JSON","parse","localStorage","getItem","set","v","setItem","stringify","clear","isFileNameValid","fileName","test","KEY_FILE_TREE","ls","fileType","parentId","content","filesSlice","create","owner","trim","fid","newFile","uuidv4","date_creation","Date","now","date_modification","concat","_create","rename","fileId","newName","_rename","_filesSlice$actions","useFileSystem","_files","files","createDir","createFile","createFolder","getParentId","fileID","_getParentId","getChildren","_getChildren","getChildrenNames","f","_getChildrenNames","getPathTill","pathSegments","push","reverse","join","_getPathTill","getFileInfo","absPath","path","i","_normalizePath","_step","pathNames","split","filesInLevel","lastFile","_iterator","_createForOfIteratorHelper","n","done","_step2","fname","value","isFound","_iterator2","file","err","_getFileInfo","cId","useProcessor","ctx","fsCommands","fs","currentFolderId","pwd","touch","msgs","msg","mkdir","md","cd","fileInfo","useFsCommands","line","parts","q","qMap","qInProg","cnt","c","qId","replaceAll","splitter","allCommands","code","_allCommands$cmd","slice","_allCommands$cmd2","colorify","htm","color","prompt","historyTxt","setHistoryTxt","currentLine","setCurrentLine","_useState7","_useState8","cmdHistory","setCmdHistory","_useState9","_useState10","cmdHistoryIndex","setCmdHistoryIndex","currentLineRef","ctxRef","process","focus","selectionStart","selectionEnd","dangerouslySetInnerHTML","__html","onChange","val","target","startsWith","onKeyUp","keyCode","currentCmd","substring","result","newHistoryTxt","newCmdHistory","index","open","setName","type","onBlur","COMMANDS","MAP_APP_ID_TO_COMPONENT","AppsViewerApp","SettingsApp","TerminalApp","setCurrentFolderId","currentFiles","setCurrentFiles","handlerFn","cmdRef","useCMDHandler","refresh","fId","WelcomeApp","BCalc","TimerApp","Comp","AppsContainer","Dock","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","appsReducer","procsReducer","filesReducer","ReactDOM","document","getElementById","render","Provider","App","reportWebVitals"],"sourceRoot":""}