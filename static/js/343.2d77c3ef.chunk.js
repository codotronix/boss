"use strict";(self.webpackChunkboss=self.webpackChunkboss||[]).push([[343],{314:function(e,n,i){i.r(n);var a=i(166),r=i.n(a),t=i(250),s=i(413),o=i(885),c=i(434),l="Dock_root__3Ro3G",d="Dock_inner__hNqIr",p=i(733),u="DockIcon_root__yRpG+",m="DockIcon_ico__-A3EI",f=i(982),I=i(572),h=i(829),_="app_display_type_window",x={launch_pad:{appId:"launch_pad",name:"Launch Pad",iconClass:"fa-solid fa-cubes-stacked",docked:!0,displayType:_},folders:{appId:"folders",name:"Folders",iconClass:"fa-regular fa-folder-open",docked:!0,displayType:_},settings:{appId:"settings",name:"Settings",iconClass:"fa-solid fa-gear",docked:!0},welcomeApp:{appId:"welcomeApp",name:"Welcome App",iconClass:"fa-solid fa-face-smile",docked:!0,displayType:_},b_calc:{appId:"b_calc",name:"B-Calc",iconClass:"fa-solid fa-calculator",docked:!0,displayType:_},bin:{appId:"bin",name:"Bin",iconClass:"fa-solid fa-trash",docked:!0,displayType:_},b_notes:{appId:"b_notes",name:"B-Notes",iconClass:"fa-solid fa-file-lines",displayType:_},b_chat:{appId:"b_chat",name:"B-Chat",iconClass:"fa-solid fa-comments",displayType:_},calendars:{appId:"calendars",name:"Calendar",iconClass:"fa-regular fa-calendar-days",displayType:_}},v={DEFAULT:"default_window",MAXIMIZED:"maxized_window",MINIMIZED:"minimized_window"},w=1,g=(0,h.oM)({name:"runtime",initialState:{1:{appId:"RUNTIME",runtimeId:1,crucial:!0}},reducers:{runApp:function(e,n){var i=n.payload,a=i.appId,r=i.args,t=Object.values(e).filter((function(e){return e.appId===a})).length,o=x[a],c=o.allowedInstances;if(0===t||!c||c>t){var l=++w,d={appId:a,runtimeId:l,args:r,zIndex:A(e)+1};return o.displayType===_&&(d.winSize=v.DEFAULT),(0,s.Z)((0,s.Z)({},e),{},(0,I.Z)({},l,d))}return e},terminateApp:function(e,n){var i=n.payload;if(e[i]&&!e[i].crucial){var a=(0,s.Z)({},e);return delete a[i],a}return e},mizeApp:function(e,n){console.log("mizeApp",n);var i=n.payload,a=i.runtimeId,r=i.winSize,t=e[a],o=x[t.appId];if(o.displayType===_){if(Object.values(v).includes(r)){var c=(0,s.Z)((0,s.Z)({},t),{},{winSize:r});return(0,s.Z)((0,s.Z)({},e),{},(0,I.Z)({},a,c))}}else console.log("The display type of this app is ",o.displayType);return e},raiseWindow:function(e,n){var i=n.payload;i in e&&(e[i].zIndex=A(e)+1)}}}),j=g.actions,M=j.runApp,b=j.terminateApp,Z=j.mizeApp,y=j.raiseWindow,z=g.reducer;function A(e){return Math.max.apply(Math,(0,f.Z)(Object.values(e).map((function(e){return e.zIndex||0}))))}var N=function(){var e=(0,c.I0)(),n=(0,c.v9)((function(e){return e.procs}));return{run:function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),r=1;r<i;r++)a[r-1]=arguments[r];return e(M({appId:n,args:a}))},terminate:function(n){return e(b(n))},mize:function(n,i){return e(Z({runtimeId:n,winSize:i}))},raiseWindow:function(n){return e(y(n))},getMaxZIndex:function(){return A(n)}}},C=i(184),k=function(e){var n=e.appId,i=e.name,a=e.iconClass,r=N();return(0,C.jsx)("div",{className:u,onClick:function(){return r.run(n)},title:i,children:(0,C.jsx)("i",{className:(0,p.Z)(a,m)})})},S="MinimizedAppsViewer_root__tchYL",D="MinimizedAppsViewer_minimizeCount__J9StM",E="MinimizedAppsList_root__c1PLn",F="MinimizedAppsList_inner__eFQML",T="MinimizedAppsList_appName__1yts9",W="MinimizedAppsList_closeIco__FRP7q",L=function(e){var n=e.visible,i=e.setVisible,a=e.minimizedApps,r=N();return(0,C.jsx)("div",{className:(0,p.Z)(E,!n&&"hidden"),children:(0,C.jsxs)("ul",{className:F,children:[(!a||0===a.length)&&(0,C.jsx)("li",{className:"p-10",children:"No minimized apps"}),a&&a.map((function(e){return(0,C.jsxs)("li",{children:[(0,C.jsx)("span",{className:T,onClick:function(){return n=e.runtimeId,i(!1),r.mize(n,v.MAXIMIZED),void r.raiseWindow(n);var n},children:x[e.appId].name}),(0,C.jsx)("i",{className:(0,p.Z)("fa-solid fa-xmark",W),title:"Close App",onClick:function(){return n=e.runtimeId,void r.terminate(n);var n}})]},e.runtimeId)}))]})})},X=function(e){var n=(0,a.useState)(!1),i=(0,o.Z)(n,2),r=i[0],t=i[1],s=(0,c.v9)((function(e){return e.procs})),l=Object.values(s).filter((function(e){return e.winSize===v.MINIMIZED}));return(0,C.jsxs)("div",{className:S,children:[(0,C.jsx)(L,{visible:r,setVisible:t,minimizedApps:l}),(0,C.jsxs)("div",{className:u,children:[l.length>0&&(0,C.jsx)("span",{className:D,children:l.length}),(0,C.jsx)("i",{className:(0,p.Z)("fa-solid fa-bars",m),onClick:function(){return t(!r)}})]})]})},B=function(e){var n=(0,a.useState)(1),i=(0,o.Z)(n,2),r=i[0],t=i[1],p=(0,c.v9)((function(e){return e.apps})),u=Object.values(p).filter((function(e){return e.docked})),m=N();return(0,C.jsx)("div",{className:l,style:{zIndex:r},onClick:function(){t(m.getMaxZIndex()+1)},children:(0,C.jsxs)("div",{className:d,children:[u&&u.map((function(e){return(0,C.jsx)(k,(0,s.Z)({},e),e.appId)})),(0,C.jsx)(X,{})]})})},O="WelcomeApp_root__e1Te1",P=i(925),R=i(763),U=i.n(R),V={root:"WinFrame_root__7I0Xk",bar:"WinFrame_bar__kl8w-",namebar:"WinFrame_namebar__bhez0",btns:"WinFrame_btns__-rDlS",dragIco:"WinFrame_dragIco__Dr0BW",menubar:"WinFrame_menubar__F+ov1",menu:"WinFrame_menu__XVTtb",body:"WinFrame_body__RPv4g",loadingComp:"WinFrame_loadingComp__ZRBu7"},Y=["appProps","AppComponent"],q={File:[],Menu2:[],Menu3:[],Menu4:[],Menu5:[]},H=null,G=function(e){var n=e.appName;return(0,C.jsxs)("div",{className:V.loadingComp,children:[n||"The App"," is Loading ..."]})},J=function(e){var n=e.appProps,i=e.AppComponent,r=((0,P.Z)(e,Y),n.runtimeInfo),t=x[r.appId].name,c=N(),l=(0,a.useRef)(v.DEFAULT===v.MAXIMIZED?function(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}()}:{top:10+Math.floor(200*Math.random()),left:10+Math.floor(100*Math.random()),width:Math.max(300,Math.floor(.7*window.innerWidth)),height:350}),d=(0,a.useState)(l.current),u=(0,o.Z)(d,2),m=u[0],f=u[1];(0,a.useEffect)((function(){var e=(0,s.Z)({},l.current);r.winSize===v.MAXIMIZED&&(e={top:0,left:0,width:window.innerWidth,height:window.innerHeight}),r.winSize===v.MINIMIZED&&(e=(0,s.Z)((0,s.Z)({},e),{},{top:window.innerHeight-100,left:200,transform:"scale(0)"})),f(e)}),[r.winSize]);var I=function(){return c.raiseWindow(r.runtimeId)},h=U().throttle((function(e,n){if(0!==e||0!==n){var i=e-H.left,a=n-H.top;f((function(e){return(0,s.Z)((0,s.Z)({},e),{},{left:e.left+i,top:e.top+a})})),H={left:e,top:n}}}),0);return(0,C.jsxs)("div",{className:(0,p.Z)(V.root,r.winSize===v.MINIMIZED&&V.minimized,r.winSize===v.DEFAULT&&V.defaultSized),style:(0,s.Z)((0,s.Z)({},m),{},{zIndex:r.zIndex}),onClick:I,children:[(0,C.jsxs)("div",{className:(0,p.Z)(V.bar,V.namebar),children:[r.winSize===v.DEFAULT&&(0,C.jsx)("i",{className:(0,p.Z)("fa-regular fa-hand",V.dragIco),draggable:"true",onDrag:function(e){return h(e.pageX,e.pageY)},onDragStart:function(e){return n=e.pageX,i=e.pageY,H={left:n,top:i},void I();var n,i},onDragEnd:function(e){return e.pageX,e.pageY,l.current=m,void(H=null)}}),(0,C.jsx)("div",{children:t||"Application"}),(0,C.jsxs)("div",{className:V.btns,children:[r.winSize!==v.MAXIMIZED&&(0,C.jsx)("i",{className:"fa-regular fa-square",onClick:function(){return c.mize(r.runtimeId,v.MAXIMIZED)}}),(r.winSize===v.MAXIMIZED||r.winSize===v.MINIMIZED)&&(0,C.jsx)("i",{className:"fa-solid fa-down-left-and-up-right-to-center",onClick:function(){return c.mize(r.runtimeId,v.DEFAULT)}}),(0,C.jsx)("i",{className:"fa-solid fa-window-minimize",onClick:function(){return c.mize(r.runtimeId,v.MINIMIZED)}}),(0,C.jsx)("i",{className:"fa-solid fa-xmark",onClick:function(){window.confirm("Do you really want to close ?")&&c.terminate(r.runtimeId)}})]})]}),(0,C.jsx)("div",{className:(0,p.Z)(V.bar,V.menubar),children:Object.keys(q).map((function(e){return(0,C.jsx)("div",{className:V.menu,children:e},e)}))}),(0,C.jsx)("div",{style:{height:m.height-50},className:V.body,children:(0,C.jsx)(a.Suspense,{fallback:(0,C.jsx)(G,{appName:t}),children:(0,C.jsx)(i,(0,s.Z)({},n))})})]})};var Q=function(e){return function(n){return(0,C.jsx)(J,{appProps:n,AppComponent:e})}},K={welcomeApp:Q((function(e){return(0,C.jsxs)("div",{className:O,children:[(0,C.jsx)("i",{className:"fa-solid fa-face-smile"}),(0,C.jsx)("h2",{children:"Welcome to B.O.S.S"}),(0,C.jsxs)("div",{children:[(0,C.jsx)("u",{children:"B"}),"asic ",(0,C.jsx)("u",{children:"OS"})," ",(0,C.jsx)("u",{children:"S"}),"imulation"]})]})})),b_calc:Q(r().lazy((function(){return i.e(463).then(i.t.bind(i,55,23))})))},$=function(){var e=Object.values((0,c.v9)((function(e){return e.procs})));return console.log("runningApps = ",e),(0,C.jsx)("div",{children:e.map((function(e){var n=K[e.appId];return n?(0,C.jsx)(n,{runtimeInfo:e},e.runtimeId):null}))})},ee=function(){return(0,C.jsxs)("div",{className:"App",children:[(0,C.jsx)($,{}),(0,C.jsx)(B,{})]})},ne=function(e){e&&e instanceof Function&&i.e(787).then(i.bind(i,787)).then((function(n){var i=n.getCLS,a=n.getFID,r=n.getFCP,t=n.getLCP,s=n.getTTFB;i(e),a(e),r(e),t(e),s(e)}))},ie=(0,h.oM)({name:"apps",initialState:x,reducers:{}}).reducer,ae=(0,h.xC)({reducer:{apps:ie,procs:z}});t.createRoot(document.getElementById("root")).render((0,C.jsx)(r().StrictMode,{children:(0,C.jsx)(c.zt,{store:ae,children:(0,C.jsx)(ee,{})})})),ne()}}]);
//# sourceMappingURL=343.2d77c3ef.chunk.js.map