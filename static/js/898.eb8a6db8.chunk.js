"use strict";(self.webpackChunkboss=self.webpackChunkboss||[]).push([[898],{623:function(e,n,t){t.r(n);var r=t(166),i=t.n(r),a=t(250),o=t(413),l=t(885),s=t(434),c="Dock_root__3Ro3G",u="Dock_inner__hNqIr",d="Dock_scrollable_holder__syAwl",f=t(733),p="DockIcon_root__yRpG+",m="DockIcon_ico__-A3EI",h=t(982),v=t(572),_=t(829),I="app_display_type_window",g={appsviewer:{appId:"appsviewer",name:"Apps",iconClass:"fa-solid fa-cubes-stacked",docked:!0,displayType:I,allowedInstances:1,keywords:["apps","all apps"]},folders:{appId:"folders",name:"Folders",iconClass:"fa-regular fa-folder-open",docked:!0,displayType:I,keywords:["finder","files","folders","explorer"]},settings:{appId:"settings",name:"Settings",iconClass:"fa-solid fa-gear",docked:!0,allowedInstances:1},welcomeapp:{appId:"welcomeapp",name:"Welcome",iconClass:"fa-solid fa-face-smile",displayType:I},bcalc:{appId:"bcalc",name:"B-Calc",iconClass:"fa-solid fa-calculator",displayType:I,keywords:["bcalc","calc","calculator","math"]},terminal:{appId:"terminal",name:"Terminal",iconClass:"fa-solid fa-terminal",docked:!0,displayType:I,keywords:["terminal","cmd","command line","command-line","dos","emulator","shell"]},timer:{appId:"timer",name:"Timer",iconClass:"fa-solid fa-stopwatch-20",displayType:I},bin:{appId:"bin",name:"Bin",iconClass:"fa-solid fa-trash",docked:!0,displayType:I},bnotes:{appId:"bnotes",name:"B-Notes",iconClass:"fa-solid fa-file-lines",displayType:I},bchat:{appId:"bchat",name:"B-Chat",iconClass:"fa-solid fa-comments",displayType:I},calendars:{appId:"calendars",name:"Calendar",iconClass:"fa-regular fa-calendar-days",displayType:I}},x={DEFAULT:"default_window",MAXIMIZED:"maxized_window",MINIMIZED:"minimized_window"},w=1,y=(0,_.oM)({name:"runtime",initialState:{1:{appId:"RUNTIME",runtimeId:1,crucial:!0}},reducers:{runApp:function(e,n){var t=n.payload,r=t.appId,i=t.args,a=Object.values(e).filter((function(e){return e.appId===r})).length,l=g[r];if(!l)return i&&"object"===typeof i[0]&&i[0].ctx&&(i[0].ctx.error="Invalid App ID"),e;var s=l.allowedInstances;if(0===a||!s||s>a){var c=++w,u={appId:r,runtimeId:c,args:i,zIndex:M(e)+1};return l.displayType===I&&(u.winSize=x.DEFAULT),(0,o.Z)((0,o.Z)({},e),{},(0,v.Z)({},c,u))}if(1===s){for(var d=null,f=0,p=Object.values(e);f<p.length;f++){var m=p[f];if(m.appId===r){d=m;break}}d&&d.winSize===x.MINIMIZED&&(d.winSize=x.MAXIMIZED)}return e},terminateApp:function(e,n){var t=n.payload;if(e[t]&&!e[t].crucial){var r=(0,o.Z)({},e);return delete r[t],r}return e},mizeApp:function(e,n){var t=n.payload,r=t.runtimeId,i=t.winSize,a=e[r];if(g[a.appId].displayType===I&&Object.values(x).includes(i)){var l=(0,o.Z)((0,o.Z)({},a),{},{winSize:i});return(0,o.Z)((0,o.Z)({},e),{},(0,v.Z)({},r,l))}return e},raiseWindow:function(e,n){var t=n.payload;t in e&&(e[t].zIndex=M(e)+1)}}}),j=y.actions,Z=j.runApp,b=j.terminateApp,N=j.mizeApp,D=j.raiseWindow,F=y.reducer;function M(e){return Math.max.apply(Math,(0,h.Z)(Object.values(e).map((function(e){return e.zIndex||0}))))}var C=function(){var e=(0,s.I0)(),n=(0,s.v9)((function(e){return e.procs}));return{run:function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return e(Z({appId:n,args:r}))},terminate:function(n){return e(b(n))},mize:function(n,t){return e(N({runtimeId:n,winSize:t}))},raiseWindow:function(n){return e(D(n))},getMaxZIndex:function(){return M(n)}}},S=t(184),A=function(e){var n=e.appId,t=e.name,r=e.iconClass,i=C();return(0,S.jsx)("button",{type:"button",className:p,onClick:function(){return i.run(n)},title:t,children:(0,S.jsx)("i",{className:(0,f.Z)(r,m)})})},E="MinimizedAppsViewer_root__tchYL",z="MinimizedAppsViewer_minimizeCount__J9StM",T="MinimizedAppsList_root__c1PLn",k="MinimizedAppsList_inner__eFQML",L="MinimizedAppsList_appName__1yts9",W="MinimizedAppsList_closeIco__FRP7q",O=function(e){var n=e.visible,t=e.setVisible,r=e.minimizedApps,i=C();return(0,S.jsx)("div",{className:(0,f.Z)(T,!n&&"hidden"),children:(0,S.jsxs)("ul",{className:k,children:[(!r||0===r.length)&&(0,S.jsx)("li",{className:"p-10",children:"No minimized apps"}),r&&r.map((function(e){return(0,S.jsxs)("li",{children:[(0,S.jsx)("span",{className:L,onClick:function(){return n=e.runtimeId,t(!1),i.mize(n,x.MAXIMIZED),void i.raiseWindow(n);var n},children:g[e.appId].name}),(0,S.jsx)("i",{className:(0,f.Z)("fa-solid fa-xmark",W),title:"Close App",onClick:function(){return n=e.runtimeId,void i.terminate(n);var n}})]},e.runtimeId)}))]})})},R=function(e){var n=(0,r.useState)(!1),t=(0,l.Z)(n,2),i=t[0],a=t[1],o=(0,s.v9)((function(e){return e.procs})),c=Object.values(o).filter((function(e){return e.winSize===x.MINIMIZED}));return(0,S.jsxs)("div",{className:E,children:[(0,S.jsx)(O,{visible:i,setVisible:a,minimizedApps:c}),(0,S.jsxs)("div",{className:p,children:[c.length>0&&(0,S.jsx)("span",{className:z,children:c.length}),(0,S.jsx)("button",{type:"button",className:p,title:"toggle minimized apps",onClick:function(){return a(!i)},children:(0,S.jsx)("i",{className:(0,f.Z)("fa-solid fa-bars",m)})})]})]})},B=function(e){var n=(0,r.useState)(1),t=(0,l.Z)(n,2),i=t[0],a=t[1],f=(0,s.v9)((function(e){return e.apps})),p=Object.values(f).filter((function(e){return e.docked})),m=C();return(0,S.jsx)("div",{id:"thedock",className:c,style:{zIndex:i},onClick:function(){a(m.getMaxZIndex()+1)},children:(0,S.jsxs)("div",{className:u,children:[(0,S.jsx)("div",{className:d,children:p&&p.map((function(e){return(0,S.jsx)(A,(0,o.Z)({},e),e.appId)}))}),(0,S.jsx)(R,{})]})})},X="WelcomeApp_root__e1Te1",H={root:"WinFrame_root__7I0Xk",bar:"WinFrame_bar__kl8w-",namebar:"WinFrame_namebar__bhez0",btns:"WinFrame_btns__-rDlS",dragIco:"WinFrame_dragIco__Dr0BW",mizeBtn:"WinFrame_mizeBtn__YwPof",menubar:"WinFrame_menubar__F+ov1",menu:"WinFrame_menu__XVTtb",menuName:"WinFrame_menuName__wE-S3",subMenu:"WinFrame_subMenu__lhnTZ",visible:"WinFrame_visible__D0Kcn",body:"WinFrame_body__RPv4g",loadingComp:"WinFrame_loadingComp__ZRBu7",repositionHandle:"WinFrame_repositionHandle__HI2Yn"};var P=function(e){var n=(0,r.useState)({leftDiff:0,topDiff:0}),t=(0,l.Z)(n,2),i=t[0],a=t[1],o=(0,r.useRef)(null);return{posDiff:i,onDragStart:function(n,t,r){if(o.current={left:n,top:t},e){var i=n-parseInt(e.style.left);r.dataTransfer.setDragImage(e,i,0)}},onDrag:function(e,n){if(0!==e||0!==n){if(o.current){var t=e-o.current.left,r=n-o.current.top;a({leftDiff:t,topDiff:r})}o.current={left:e,top:n}}},onDragEnd:function(e,n){o.current=null}}},V=function(e){var n=e.menu,t=e.handleMenuCommand,i=(0,r.useState)(""),a=(0,l.Z)(i,2),o=a[0],s=a[1];return(0,S.jsx)("div",{className:(0,f.Z)(H.bar,H.menubar),children:n&&Object.keys(n).map((function(e){return(0,S.jsxs)("div",{className:(0,f.Z)(H.menu,o===e&&H.visible),children:[(0,S.jsx)("span",{className:H.menuName,onClick:function(){var n;s(o===(n=e)?"":n)},children:e}),(0,S.jsx)("ul",{className:H.subMenu,children:Object.values(n[e]).map((function(e){return(0,S.jsx)("li",{onClick:function(){return t(e.command)},children:e.name},e.command)}))})]},e)}))})},U="new_window",Y="close_window",G={File:{1:{name:"New Window",command:U},100:{name:"Close Window",command:Y}}};function J(e,n){var t=(0,r.useRef)("");(0,r.useEffect)((function(){e!==t.current&&(n(e),t.current=e)}),[e,n])}var Q=function(e){var n=e.appName;return(0,S.jsxs)("div",{className:H.loadingComp,children:[n||"The App"," is Loading ..."]})},q=function(e){var n=e.appProps,t=e.AppComponent,i=n.runtimeInfo,a=g[i.appId].name,s=C(),c=(0,r.useRef)(x.DEFAULT===x.MAXIMIZED?function(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}()}:{top:10+Math.floor(200*Math.random()),left:10+Math.floor(100*Math.random()),width:Math.max(300,Math.floor(.7*window.innerWidth)),height:350}),u=(0,r.useState)(c.current),d=(0,l.Z)(u,2),p=d[0],m=d[1],h=(0,r.useRef)(),v=(0,r.useState)(G),_=(0,l.Z)(v,2),I=_[0],w=_[1],y=(0,r.useState)(""),j=(0,l.Z)(y,2),Z=j[0],b=j[1],N=P(h.current),D=N.posDiff,F=N.onDragStart,M=N.onDrag,A=N.onDragEnd,E=P(),z=E.posDiff,T=E.onDragStart,k=E.onDrag,L=E.onDragEnd;(0,r.useEffect)((function(){var e=(0,o.Z)({},c.current);i.winSize===x.MAXIMIZED&&(e={top:0,left:0,width:window.innerWidth,height:window.innerHeight}),i.winSize===x.MINIMIZED&&(e=(0,o.Z)((0,o.Z)({},e),{},{top:window.innerHeight-100,left:200,transform:"scale(0)"})),m(e)}),[i.winSize]),(0,r.useEffect)((function(){m((function(e){return(0,o.Z)((0,o.Z)({},e),{},{left:e.left+D.leftDiff,top:e.top+D.topDiff})}))}),[D]),(0,r.useEffect)((function(){m((function(e){return(0,o.Z)((0,o.Z)({},e),{},{width:e.width+z.leftDiff,height:e.height+z.topDiff})}))}),[z]);var W=function(){return s.raiseWindow(i.runtimeId)},O=(0,r.useCallback)((function(e){e.hideMenu?w(null):e.replace?w(e.menu):e.menu&&w((function(n){var t=(0,o.Z)({},n);for(var r in e.menu)t[r]=r in t?(0,o.Z)((0,o.Z)({},t[r]),e.menu[r]):e.menu[r];return t}))}),[]);return(0,S.jsxs)("div",{className:(0,f.Z)("WinFrame",H.root,i.winSize===x.MINIMIZED&&H.minimized,i.winSize===x.DEFAULT&&H.defaultSized),style:(0,o.Z)((0,o.Z)({},p),{},{zIndex:i.zIndex}),onClick:W,ref:h,title:a||"Application Window",children:[(0,S.jsxs)("div",{className:(0,f.Z)(H.bar,H.namebar),draggable:"true",onDrag:function(e){return M(e.pageX,e.pageY)},onDragStart:function(e){return function(e,n,t){F(e,n,t),W()}(e.pageX,e.pageY,e)},onDragEnd:function(e){return A(e.pageX,e.pageY)},children:[(0,S.jsx)("div",{children:a||"Application"}),(0,S.jsxs)("div",{className:H.btns,children:[i.winSize!==x.MAXIMIZED&&(0,S.jsx)("button",{type:"button",onClick:function(){return s.mize(i.runtimeId,x.MAXIMIZED)},title:"Maximize",className:H.mizeBtn,children:(0,S.jsx)("i",{className:"fa-regular fa-square"})}),(i.winSize===x.MAXIMIZED||i.winSize===x.MINIMIZED)&&(0,S.jsx)("button",{type:"button",onClick:function(){return s.mize(i.runtimeId,x.DEFAULT)},title:"Un-Maximize",className:H.mizeBtn,children:(0,S.jsx)("i",{className:"fa-solid fa-down-left-and-up-right-to-center"})}),(0,S.jsx)("button",{type:"button",onClick:function(){return s.mize(i.runtimeId,x.MINIMIZED)},title:"Minimize",className:H.mizeBtn,children:(0,S.jsx)("i",{className:"fa-solid fa-window-minimize"})}),(0,S.jsx)("button",{type:"button",onClick:function(){s.terminate(i.runtimeId)},title:"Close",className:H.mizeBtn,children:(0,S.jsx)("i",{className:"fa-solid fa-xmark"})})]})]}),(0,S.jsx)(V,{menu:I,handleMenuCommand:function(e){switch(e){case U:window.setTimeout((function(){s.run(i.appId)}),0);break;case Y:s.terminate(i.runtimeId);break;default:b(e)}setTimeout((function(){b("")}),0)}}),(0,S.jsx)("div",{style:{height:p.height-50},className:H.body,children:(0,S.jsx)(r.Suspense,{fallback:(0,S.jsx)(Q,{appName:a}),children:(0,S.jsx)(t,(0,o.Z)((0,o.Z)({},n),{},{configMenu:O,menuCommand:Z,useCMDHandler:J}))})}),(0,S.jsx)("i",{className:(0,f.Z)("fa-solid fa-arrow-up-right-dots",H.repositionHandle),draggable:"true",onDrag:function(e){return k(e.pageX,e.pageY)},onDragStart:function(e){return T(e.pageX,e.pageY)},onDragEnd:function(e){return L(e.pageX,e.pageY)}})]})};var K=function(e){return function(n){return(0,S.jsx)(q,{appProps:n,AppComponent:e})}},$=K((function(e){return(0,S.jsxs)("div",{className:X,children:[(0,S.jsx)("i",{className:"fa-solid fa-face-smile"}),(0,S.jsx)("h2",{children:"Welcome to B.O.S.S"}),(0,S.jsxs)("div",{children:[(0,S.jsx)("u",{children:"B"}),"asic ",(0,S.jsx)("u",{children:"OS"})," ",(0,S.jsx)("u",{children:"S"}),"imulation"]})]})})),ee=K(i().lazy((function(){return t.e(463).then(t.t.bind(t,55,23))}))),ne="AppsViewerApp_root__sHx-3",te="AppsViewerApp_inner__DgUUp",re="AppsViewerApp_app__NuVJU",ie="AppsViewerApp_figSlot__YDIVw",ae="AppsViewerApp_appIco__cX9XG",oe="AppsViewerApp_appName__t4ByG",le=K((function(e){var n=e.configMenu,t=e.runtimeInfo,i=(0,r.useState)(Object.values(g).filter((function(e){return e.appId!==t.appId}))),a=(0,l.Z)(i,1)[0],o=C();(0,r.useEffect)((function(){n({hideMenu:!0})}),[n]);return(0,S.jsx)("div",{className:ne,children:(0,S.jsx)("div",{className:te,children:a.map((function(e){return(0,S.jsxs)("div",{className:(0,f.Z)(re,"flex-c"),onDoubleClick:function(){return n=e.appId,void window.setTimeout((function(){o.run(n)}),0);var n},title:e.name,children:[(0,S.jsx)("div",{className:(0,f.Z)(ie,"flex-c"),children:e.iconClass&&(0,S.jsx)("i",{className:(0,f.Z)(e.iconClass,ae)})}),(0,S.jsx)("span",{className:(0,f.Z)(oe,"flex-c"),children:e.name})]},e.appId)}))})})})),se=K((function(e){return(0,S.jsx)("div",{children:"The Timer App - Work in Progress"})})),ce=K((function(e){var n=e.configMenu;return(0,r.useEffect)((function(){n({hideMenu:!0})}),[n]),(0,S.jsx)("div",{children:"Settings App - Under Development"})})),ue="TerminalApp_root__hnkgI",de="TerminalApp_historyTxt__NdHdn",fe="TerminalApp_inputArea__6htWV",pe=function(e,n){if("apps"===n[0]){var t="\nHere are the available apps:\n\n";return Object.values(g).forEach((function(e){t+="".concat(e.name," (AppId: ").concat(e.appId,")\n")})),[t+="\nType `run &lt;appId&gt;` to run a app\n\n",0]}return[me,0]},me="\nAvailable Commands:\nhelp - Show this help text\nhelp apps - Show available apps\n\nrun &lt;appId&gt; - Run an app\n\nls - List files in the current directory\npwd - Show current directory path\n\ncd &lt;dir&gt; - Change directory\nmd &lt;dir&gt; - Make a new directory\nmkdir - alias for md\ntouch &lt;file&gt; - Create a new file\ncls - Clear the terminal screen\nclear - alias for cls\n\n";var he=t(762),ve=t(261),_e={FILE:"FILE",FOLDER:"FOLDER"};var Ie={get:function(e){return JSON.parse(localStorage.getItem(e)||null)},set:function(e,n){return localStorage.setItem(e,JSON.stringify(n))},clear:function(e){return localStorage.setItem(e,"")}},ge=function(e){return/^[a-zA-Z0-9-._ ]{1,}$/.test(e)};var xe="BOSS/FILE-TREE",we={"/":{id:"/",name:"/",fileType:_e.FOLDER,parentId:null,children:["documents","file0"]},documents:{id:"documents",name:"Documents",fileType:_e.FOLDER,parentId:"/",children:[]},file0:{id:"file0",name:"Hello Boss",fileType:_e.FILE,parentId:"/",content:"Hello Boss.\nThis is a text file"}},ye=Ie.get(xe)||we;Ie.set(xe,ye);var je=(0,_.oM)({name:"fileSystem",initialState:ye,reducers:{create:function(e,n){var t=n.payload,r=function(e,n,t,r,i){if(!n.trim()||!ge(n))return e;if(!(t in e)||e[t].fileType!==_e.FOLDER)return e;if(e[t].children.map((function(n){return e[n].name})).includes(n))return e;var a=function(e,n,t,r){return{id:(0,ve.Z)(),name:e,parentId:n,fileType:t,owner:r,date_creation:Date.now(),date_modification:Date.now(),children:t===_e.FOLDER?[]:null}}(n,t,r,i),l=(0,o.Z)((0,o.Z)({},e),{},(0,v.Z)({},a.id,a));t&&(l[t]=(0,o.Z)((0,o.Z)({},l[t]),{},{children:[].concat((0,h.Z)(l[t].children),[a.id])}));return l}(e,t.name,t.parentId,t.fileType,t.owner);return Ie.set(xe,r),r},rename:function(e,n){var t=n.payload,r=function(e,n,t){if(!t.trim()||!ge(t))return e;if(!(n in e))return e;var r=e[n].parentId;if(e[r].children.map((function(n){return e[n].name})).includes(t))return e;var i=(0,o.Z)((0,o.Z)({},e),{},(0,v.Z)({},n,(0,o.Z)((0,o.Z)({},e[n]),{},{name:t})));return i}(e,t.fileId,t.newName);return Ie.set(xe,r),r}}}),Ze=je.actions,be=Ze.create,Ne=Ze.rename,De=je.reducer;var Fe=function(){var e=(0,s.v9)((function(e){return e.files})),n=(0,s.I0)(),t=function(t,r,i){return Me(e,n,t,r,_e.FOLDER,i)};return{createFile:(0,r.useCallback)((function(t,r,i){return Me(e,n,t,r,_e.FILE,i)}),[n,e]),createDir:t,createFolder:t,getParentId:function(n){return function(e,n){return"/"===n?"/":e[n].parentId}(e,n)},getChildren:function(n){return Se(e,n)},getChildrenNames:function(n){return function(e,n){return Se(e,n).map((function(e){return e.name}))}(e,n)},getPathTill:function(n){return function(e,n){var t=[];for(;n in e;)t.push(e[n].name),n=e[n].parentId;return t.reverse().join("/").replace("//","/")}(e,n)},getFileInfo:function(n){return function(e,n){if(n=function(e){for(var n=e[0],t=1;t<e.length;++t)e[t]===e[t-1]&&"/"===e[t]||(n+=e[t]);return n}(n),"/"===n)return e["/"];var t,r=n.split("/").filter((function(e){return e.trim().length>0})),i=Se(e,"/"),a=null,o=(0,he.Z)(r);try{for(o.s();!(t=o.n()).done;){var l,s=t.value,c=!1,u=(0,he.Z)(i);try{for(u.s();!(l=u.n()).done;){var d=l.value;if(d.name===s){c=!0,a=d,i=Se(e,d.id);break}}}catch(f){u.e(f)}finally{u.f()}if(!c)return null}}catch(f){o.e(f)}finally{o.f()}return a}(e,n)},rename:function(t,r){return Ce(e,n,r,t)}}};function Me(e,n,t,r,i,a){return t.trim()&&ge(t)?r in e&&e[r].fileType===_e.FOLDER?e[r].children.map((function(n){return e[n].name})).includes(t)?'File/folder name "'.concat(t,'" already exists'):(n(be({name:t,parentId:r,fileType:i,owner:a})),""):"Can not create file/folder in the given location":"Invalid name ".concat(t)}function Ce(e,n,t,r){if(!t.trim()||!ge(t))return"Invalid name ".concat(t);if(!(r in e))return"File ID (".concat(r,") not valid");var i=e[r].parentId;return e[i].children.map((function(n){return e[n].name})).includes(t)?'File/folder name "'.concat(t,'" already exists'):(n(Ne({fileId:r,newName:t})),"")}function Se(e,n){var t=[];if(""===n)t=Object.values(e).filter((function(e){return e.parentId===n}));else if(n in e){t=(e[n].children||[]).map((function(n){return e[n]}))}return t}function Ae(e){var n=function(){var e=Fe();return{ls:function(n,t){return[e.getChildrenNames(n.currentFolderId).join(", "),0]},pwd:n,touch:function(n,t){var r,i="",a=(0,he.Z)(t);try{for(a.s();!(r=a.n()).done;){var o=r.value,l=e.createFile(o,n.currentFolderId);l&&(i+=l+"\n")}}catch(s){a.e(s)}finally{a.f()}return[i,0]},mkdir:t,md:t,cd:function(t,r){var i=r[0];if(!i)return["",0];"."!==i[0]&&"/"!==i[0]&&(i=n(t)[0]+"/"+i);var a=e.getFileInfo(i);return a&&a.fileType===_e.FOLDER?(t.currentFolderId=a.id,["",0]):['"'.concat(i,'" is not a folder to move into')]}};function n(n,t){return[e.getPathTill(n.currentFolderId),0]}function t(n,t){var r,i="",a=(0,he.Z)(t);try{for(a.s();!(r=a.n()).done;){var o=r.value,l=e.createDir(o,n.currentFolderId);l&&(i+=l+"\n")}}catch(s){a.e(s)}finally{a.f()}return[i,0]}}(),t=function(){var e=C().run;return function(n,t){try{return e.apply(void 0,[t[0],{ctx:n}].concat((0,h.Z)(t.slice(1)))),n.error?[n.error,99]:["Attempting to run "+t,0]}catch(r){return["Failed to run the App"]}}}();return{process:function(r){return function(e,n){for(var t=function(e){e=e.trim();var n,t=[],r="",i="",a={},o=!1,l=0,s=(0,he.Z)(e);try{for(s.s();!(n=s.n()).done;){var c=n.value;if('"'===c)if(o){if((i=i.trim()).length>0){var u="".concat("__QS__").concat(++l);r+=u,a[u]=i,i=""}o=!1}else o=!0;else" "===c?o?i+=c:(r=r.trim()).length>0&&(t.push(r),r=""):o?i+=c:r+=c}}catch(d){s.e(d)}finally{s.f()}return r.length>0&&t.push(r),t.map((function(e){return e.replaceAll(/__QS__[0-9]{1,}/gm,(function(e){return a[e]||e}))}))}(e),r=t[0],i={},a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];for(var u=0,d=s;u<d.length;u++){var f=d[u];i=(0,o.Z)((0,o.Z)({},i),f)}var p='Sorry could not find the command "<b>'.concat(r,'</b>"'),m=-1;if(r in i){var h=i[r](n,t.slice(1)),v=(0,l.Z)(h,2);p=v[0],m=v[1]}return{msg:p,code:m,ctx:n}}(r,e,(0,o.Z)({help:pe,run:t},n))}}}var Ee=function(e,n){return'<div style="color: '.concat(n,'">').concat(e,"</div>")},ze=K((function(e){var n=(0,r.useState)("$ > "),t=(0,l.Z)(n,1)[0],i=(0,r.useState)(Ee("Welcome to the B.O.S.S. terminal \n(Type `help` to know the available commands)","lightyellow")),a=(0,l.Z)(i,2),o=a[0],s=a[1],c=(0,r.useState)(t),u=(0,l.Z)(c,2),d=u[0],f=u[1],p=(0,r.useState)([]),m=(0,l.Z)(p,2),v=m[0],_=m[1],I=(0,r.useState)(0),g=(0,l.Z)(I,2),x=g[0],w=g[1],y=(0,r.useRef)(),j=(0,r.useRef)({}),Z=Ae(j.current).process;(0,r.useEffect)((function(){var e=y.current;e.focus(),e.selectionStart=e.selectionEnd=e.value.length}),[]),(0,r.useEffect)((function(){j.current={currentFolderId:"/"}}),[]);return(0,S.jsxs)("div",{className:ue,children:[(0,S.jsx)("div",{className:de,dangerouslySetInnerHTML:{__html:o}}),(0,S.jsx)("textarea",{className:fe,value:d,ref:y,onChange:function(e){var n=e.target.value;n.startsWith(t)&&f(n)},onKeyUp:function(e){var n=e.keyCode;if(13===n){var r=d.substring(t.length).trim();if(0===r.length)return;if("cls"===r||"clear"===r)s("");else{var i=Z(r,j.current),a=o+Ee(d,"lightgreen")+Ee(i.msg,"lightskyblue");s(a)}if(f(t),r!==v[v.length-1]){var l=[].concat((0,h.Z)(v),[r]);_(l),w(l.length)}}else if(38===n){if(0===v.length)return;var c=x>0?x-1:0;w(c),f(t+v[c])}else if(40===n){if(0===v.length)return;var u=x<v.length-1?x+1:v.length-1;w(u),f(t+v[u])}}})]})})),Te="FoldersApp_root__CdN1-",ke="FoldersApp_locationBar__lR9vB",Le="FoldersApp_loc__rXGZe",We="FoldersApp_btns__vQOzO",Oe="FoldersApp_inner__lYEzr",Re="File_file__MMHS5",Be="File_ffIco__5bYlD",Xe="File_fname__-Nx+X",He="File_fileIcoBtnHolder__+srav",Pe=function(e){var n=e.file,t=e.open,i=e.existingFileNames,a=(0,r.useState)(""),o=(0,l.Z)(a,2),s=o[0],c=o[1],u=Fe();(0,r.useEffect)((function(){c(n.name)}),[n.name]);return(0,S.jsxs)("div",{className:Re,onDoubleClick:function(){return t(n.id,n.fileType)},title:n.name,children:[(0,S.jsx)("div",{className:He,children:(0,S.jsx)("button",{type:"button",title:n.name,children:(0,S.jsxs)("span",{className:Be,children:[n.fileType===_e.FILE&&(0,S.jsx)("i",{className:"fa-solid fa-file-lines"}),n.fileType===_e.FOLDER&&(0,S.jsx)("i",{className:"fa-regular fa-folder-open"})]})})}),(0,S.jsx)("input",{className:Xe,type:"text",value:s,onChange:function(e){var n=e.target.value;ge(n)&&c(n)},onBlur:function(){i.includes(s)?c(n.name):u.rename(n.id,s)},title:n.name})]})},Ve="NEW_FILE",Ue="NEW_FOLDER",Ye=K((function(e){var n=e.configMenu,t=e.menuCommand,i=e.useCMDHandler,a=void 0===i?function(){}:i,o=Fe(),s=(0,r.useState)("/"),c=(0,l.Z)(s,2),u=c[0],d=c[1],f=(0,r.useState)(o.getChildren(u)),p=(0,l.Z)(f,2),m=p[0],h=p[1];a(t,(function(e){if(e===Ve){var n=Math.floor(999*Math.random());o.createFile("File_".concat(n),u)}else if(e===Ue){var t=Math.floor(999*Math.random());o.createDir("Folder_".concat(t),u)}_()}));var v=function(e,n){n===_e.FOLDER&&(d(e),h(o.getChildren(e)))},_=function(){h([]),setTimeout((function(){h(o.getChildren(u))}),0)};return(0,r.useEffect)((function(){n({menu:{File:{2:{name:"New File",command:Ve},3:{name:"New Folder",command:Ue}}}})}),[n]),(0,S.jsxs)("div",{className:Te,children:[(0,S.jsxs)("div",{className:ke,children:[(0,S.jsx)("div",{className:Le,children:o.getPathTill(u)}),(0,S.jsxs)("div",{className:We,children:[(0,S.jsx)("i",{className:"fa-solid fa-rotate-right",onClick:_}),(0,S.jsx)("i",{className:"fa-solid fa-arrow-up",onClick:function(){var e=o.getParentId(u);d(e),h(o.getChildren(e))}})]})]}),(0,S.jsx)("div",{children:(0,S.jsx)("div",{className:Oe,children:m&&m.map((function(e){return(0,S.jsx)(Pe,{file:e,open:v,refresh:_,existingFileNames:m.map((function(e){return e.name}))},e.id)}))})})]})})),Ge={appsviewer:le,settings:ce,terminal:ze,folders:Ye,bin:K((function(e){return(0,S.jsx)("div",{children:"The Bin App - Under Development"})})),welcomeapp:$,bcalc:ee,timer:se},Je=function(){var e=Object.values((0,s.v9)((function(e){return e.procs})));return(0,S.jsx)("div",{className:"apps_container",children:e.map((function(e){var n=Ge[e.appId];return n?(0,S.jsx)(n,{runtimeInfo:e},e.runtimeId):null}))})},Qe=function(){return(0,S.jsxs)("div",{className:"App",children:[(0,S.jsx)(Je,{}),(0,S.jsx)(B,{})]})},qe=function(e){e&&e instanceof Function&&t.e(787).then(t.bind(t,787)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),r(e),i(e),a(e),o(e)}))},Ke=(0,_.oM)({name:"apps",initialState:g,reducers:{}}).reducer,$e=(0,_.xC)({reducer:{apps:Ke,procs:F,files:De}});a.createRoot(document.getElementById("root")).render((0,S.jsx)(i().StrictMode,{children:(0,S.jsx)(s.zt,{store:$e,children:(0,S.jsx)(Qe,{})})})),qe()}}]);
//# sourceMappingURL=898.eb8a6db8.chunk.js.map