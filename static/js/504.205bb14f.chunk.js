"use strict";(self.webpackChunkboss=self.webpackChunkboss||[]).push([[504],{296:function(e,n,t){var i=t(769),r=t.n(i),a=t(391),l=t(379),s=t(915),o=t(528),c=t(456),d=t(403),u=t(387),p="DockIcon_root__yRpG+",m="DockIcon_ico__-A3EI",f=t(458),h=t(705),g=t(216),x="app_display_type_window",_={appsviewer:{appId:"appsviewer",name:"Apps",iconClass:"fa-solid fa-cubes-stacked",docked:!0,displayType:x,allowedInstances:1,keywords:"apps, all apps"},folders:{appId:"folders",name:"Folders",iconClass:"fa-regular fa-folder-open",docked:!0,displayType:x,keywords:"finder, files, folders, explorer"},settings:{appId:"settings",name:"Settings",iconClass:"fa-solid fa-gear",docked:!0,displayType:x,allowedInstances:1},welcomeapp:{appId:"welcomeapp",name:"Welcome",iconClass:"fa-solid fa-face-smile",displayType:x},bcalc:{appId:"bcalc",name:"B-Calc",iconClass:"fa-solid fa-calculator",displayType:x,keywords:"bcalc, calc, calculator, math"},terminal:{appId:"terminal",name:"Terminal",iconClass:"fa-solid fa-terminal",docked:!0,displayType:x,keywords:"terminal, cmd, command line, command-line, dos, emulator, shell"},timer:{appId:"timer",name:"Timer",iconClass:"fa-solid fa-stopwatch-20",displayType:x},bin:{appId:"bin",name:"Bin",iconClass:"fa-solid fa-trash",docked:!0,displayType:x},bnotes:{appId:"bnotes",name:"B-Notes",iconClass:"fa-solid fa-file-lines",displayType:x},bchat:{appId:"bchat",name:"B-Chat",iconClass:"fa-solid fa-comments",displayType:x},calendars:{appId:"calendars",name:"Calendar",iconClass:"fa-regular fa-calendar-days",displayType:x}},v={DEFAULT:"default_window",MAXIMIZED:"maxized_window",MINIMIZED:"minimized_window"},j={LEFT:"left",RIGHT:"right"},I=1,A=(0,g.Z0)({name:"runtime",initialState:{1:{appId:"RUNTIME",runtimeId:1,crucial:!0}},reducers:{runApp:function(e,n){var t=n.payload,i=t.appId,r=t.args,a=Object.values(e).filter((function(e){return e.appId===i})).length,s=_[i];if(!s)return r&&"object"===typeof r[0]&&r[0].ctx&&(r[0].ctx.error="Invalid App ID"),e;var o=s.allowedInstances;if(0===a||!o||o>a){var c=++I,d={appId:i,runtimeId:c,args:r,zIndex:S(e)+1};return s.displayType===x&&(d.winSize=v.DEFAULT),(0,l.A)((0,l.A)({},e),{},(0,h.A)({},c,d))}if(1===o){for(var u=null,p=0,m=Object.values(e);p<m.length;p++){var f=m[p];if(f.appId===i){u=f;break}}u&&u.winSize===v.MINIMIZED&&(u.winSize=v.MAXIMIZED)}return e},terminateApp:function(e,n){var t=n.payload;if(e[t]&&!e[t].crucial){var i=(0,l.A)({},e);return delete i[t],i}return e},mizeApp:function(e,n){var t=n.payload,i=t.runtimeId,r=t.winSize,a=e[i];if(_[a.appId].displayType===x&&Object.values(v).includes(r)){var s=(0,l.A)((0,l.A)({},a),{},{winSize:r});return(0,l.A)((0,l.A)({},e),{},(0,h.A)({},i,s))}return e},raiseWindow:function(e,n){var t=n.payload;t in e&&(e[t].zIndex=S(e)+1)}}}),y=A.actions,b=y.runApp,w=y.terminateApp,N=y.mizeApp,C=y.raiseWindow,k=A.reducer;function S(e){return Math.max.apply(Math,(0,f.A)(Object.values(e).map((function(e){return e.zIndex||0}))))}var F,T,M,z=function(){var e=(0,c.wA)(),n=(0,c.d4)((function(e){return e.procs}));return{run:function(n){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return e(b({appId:n,args:i}))},terminate:function(n){return e(w(n))},mize:function(n,t){return e(N({runtimeId:n,winSize:t}))},raiseWindow:function(n){return e(C(n))},getMaxZIndex:function(){return S(n)}}},W=t(579),D=function(e){var n=e.appId,t=e.name,i=e.iconClass,r=z();return(0,W.jsx)("button",{type:"button",className:p,onClick:function(){return r.run(n)},title:t,children:(0,W.jsx)("i",{className:(0,u.A)(i,m)})})},E=d.Ay.div(F||(F=(0,o.A)(["\n    position: absolute;\n    bottom: 75px;\n    right: -12px;\n    background: #000;\n    color: #1b8ffa;\n    border-radius: 9px;\n    user-select: none;\n    overflow: auto;\n\n    &.left {\n        left: 80px;\n        right: auto;\n        bottom: 0;\n    }\n\n    &.right {\n        right: 80px;\n        left: auto;\n        bottom: 0;\n    }\n\n    &.top {\n        top: 75px;\n        bottom: auto;\n    }\n\n    .inner_list {\n        padding: 0;\n        margin: 0;\n        list-style: none;\n        min-width: 200px;\n\n        li {\n            display: grid;\n            grid-template-columns: 1fr 35px;\n\n            .appName {\n                padding: 10px 20px;\n\n                &:hover {\n                    background: rgb(255 255 255 / 12%);\n                }\n            }\n\n            & > * {\n                display: flex;\n                align-items: center;\n            }\n\n            .closeIco {\n                justify-content: center;\n\n                &:hover {\n                    color: red;\n                    background: rgb(255 255 255 / 12%);\n                }\n            }\n        }\n    }\n"]))),B=function(e){var n=e.visible,t=e.setVisible,i=e.minimizedApps,r=e.className,a=z();return(0,W.jsx)(E,{className:(0,u.A)(!n&&"hidden",r),children:(0,W.jsxs)("ul",{className:"inner_list",children:[(!i||0===i.length)&&(0,W.jsx)("li",{className:"p-10",children:"No minimized apps"}),i&&i.map((function(e){return(0,W.jsxs)("li",{children:[(0,W.jsx)("span",{className:"appName",onClick:function(){return n=e.runtimeId,t(!1),a.mize(n,v.MAXIMIZED),void a.raiseWindow(n);var n},children:_[e.appId].name}),(0,W.jsx)("i",{className:"fa-solid fa-xmark closeIco",title:"Close App",onClick:function(){return n=e.runtimeId,void a.terminate(n);var n}})]},e.runtimeId)}))]})})},O=d.Ay.div(T||(T=(0,o.A)(["\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    border-left: 1px solid #555;\n\n    .minimizeCount {\n        background: #ff0;\n        display: inline-flex;\n        font-size: 9px;\n        font-weight: bold;\n        position: absolute;\n        top: 0;\n        right: 0;\n        border-radius: 50%;\n        padding: 1px;\n        min-height: 15px;\n        min-width: 15px;\n        justify-content: center;\n        align-items: center;\n        z-index: 1;\n    }\n\n    &.left,\n    &.right {\n        border-left: none;\n        border-top: 1px solid #555;\n    }\n"]))),P=function(e){var n=e.className,t=void 0===n?"":n,r=(0,i.useState)(!1),a=(0,s.A)(r,2),l=a[0],o=a[1],d=(0,c.d4)((function(e){return e.procs})),f=Object.values(d).filter((function(e){return e.winSize===v.MINIMIZED}));return(0,W.jsxs)(O,{className:t,children:[(0,W.jsx)(B,{visible:l,setVisible:o,minimizedApps:f,className:t}),(0,W.jsxs)("div",{className:(0,u.A)(p),children:[f.length>0&&(0,W.jsx)("span",{className:"minimizeCount",children:f.length}),(0,W.jsx)("button",{type:"button",className:(0,u.A)(p),title:"toggle minimized apps",onClick:function(){return o(!l)},children:(0,W.jsx)("i",{className:(0,u.A)("fa-solid fa-bars",m)})})]})]})},Z=d.Ay.div(M||(M=(0,o.A)(["\n    position: fixed;\n    bottom: 5px;\n    left: 0;\n    right: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    .inner {\n        background: #000;\n        height: 80px;\n        max-width: 80vw;\n        border-radius: 9px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        padding: 0 12px;\n        position: relative;\n\n        .scrollable_holder {\n            display: flex;\n            overflow: auto;\n        }\n    }\n\n    &.top {\n        top: 5px;\n        bottom: auto;\n    }\n\n    &.left, \n    &.right {\n        top: 0;\n        bottom: 0;\n        \n        .inner {\n            height: auto;\n            max-height: 80vh;\n            flex-direction: column;\n            width: 80px;\n            max-width: 80px;\n\n            .scrollable_holder {\n                flex-direction: column;\n            }\n        }\n    }\n\n    &.left {\n        left: 5px;\n        right: auto;\n    }\n\n    &.right {\n        right: 5px;\n        left: auto;\n    }\n"]))),H=function(e){var n=(0,i.useState)(1),t=(0,s.A)(n,2),r=t[0],a=t[1],o=(0,c.d4)((function(e){return e.apps})),d=(0,c.d4)((function(e){return e.settings.dock.position})),u=Object.values(o).filter((function(e){return e.docked})),p=z();return(0,W.jsx)(Z,{id:"thedock",style:{zIndex:r},onClick:function(){a(p.getMaxZIndex()+1)},className:d,children:(0,W.jsxs)("div",{className:"inner",children:[(0,W.jsx)("div",{className:"scrollable_holder",children:u&&u.map((function(e){return(0,W.jsx)(D,(0,l.A)({},e),e.appId)}))}),(0,W.jsx)(P,{className:d})]})})},R="WelcomeApp_root__e1Te1",L={root:"WinFrame_root__7I0Xk",minimized:"WinFrame_minimized__eeQTp",maximized:"WinFrame_maximized__z1iEa",bar:"WinFrame_bar__kl8w-",titlebar:"WinFrame_titlebar__IP5hT",btns:"WinFrame_btns__-rDlS",mizeBtn:"WinFrame_mizeBtn__YwPof",dragHangle:"WinFrame_dragHangle__JYsDj",left:"WinFrame_left__vlN4z",menubar:"WinFrame_menubar__F+ov1",menu:"WinFrame_menu__XVTtb",menuName:"WinFrame_menuName__wE-S3",subMenu:"WinFrame_subMenu__lhnTZ",visible:"WinFrame_visible__D0Kcn",body:"WinFrame_body__RPv4g",loadingComp:"WinFrame_loadingComp__ZRBu7",repositionHandle:"WinFrame_repositionHandle__HI2Yn",statusbar:"WinFrame_statusbar__cPllo"},U=t(936),X=t.n(U);var V=function(e,n){var t=(0,i.useState)(n),r=(0,s.A)(t,2),a=r[0],l=r[1];return e&&X()(e).draggable({listeners:{start:function(e){console.log(e.type,e.target)},move:function(e){l((function(n){return{x:n.x+e.dx,y:n.y+e.dy}}))}}}),[a,l]},G=function(e){var n=e.menu,t=(0,i.useState)(""),r=(0,s.A)(t,2),a=r[0],l=r[1];return(0,W.jsx)("div",{className:(0,u.A)(L.bar,L.menubar),children:n&&Object.entries(n).map((function(e){var n=(0,s.A)(e,2),t=n[0],i=n[1];return(0,W.jsxs)("div",{className:(0,u.A)(L.menu,a===t&&L.visible),children:[(0,W.jsx)("span",{className:L.menuName,onClick:function(){var e;l(a===(e=t)?"":e)},children:t}),(0,W.jsx)("ul",{className:L.subMenu,children:Object.entries(i).map((function(e){var n=(0,s.A)(e,2),t=n[0],i=n[1];return(0,W.jsx)("li",{onClick:function(){return(0,i.handleClick)(),void l("")},children:t},t)}))})]},t)}))})},Q=function(e){var n=e.appName;return(0,W.jsxs)("div",{className:L.loadingComp,children:[n||"The App"," is Loading ..."]})},K=function(e){return(0,W.jsx)(G,{menu:e})},Y=function(e){var n=e.appProps,t=e.AppComponent,r=(0,c.d4)((function(e){return e.settings.window.closeBtnPosition})),a=n.runtimeInfo,o=_[a.appId].name,d=z(),p=(0,i.useRef)({y:10+Math.floor(200*Math.random()),x:10+Math.floor(100*Math.random())}),m=(0,i.useRef)({x:Math.max(window.innerWidth-300,300),y:Math.max(window.innerHeight-200,400)}),f=(0,i.useRef)(),h=(0,i.useRef)(),g=V(f.current,p.current),x=(0,s.A)(g,1)[0],j=V(h.current,m.current),I=(0,s.A)(j,1)[0],A=function(){d.terminate(a.runtimeId)};return(0,W.jsxs)("div",{className:(0,u.A)("WinFrame",L.root,a.winSize===v.MINIMIZED&&L.minimized,a.winSize===v.DEFAULT&&L.defaultSized,a.winSize===v.MAXIMIZED&&L.maximized),style:{height:I.y,width:I.x,zIndex:a.zIndex,transform:"translate(".concat(x.x,"px, ").concat(x.y,"px)")},onClick:function(){return d.raiseWindow(a.runtimeId)},title:o||"Application Window",children:[(0,W.jsxs)("div",{className:(0,u.A)(L.bar,L.titlebar,L[r]),children:[(0,W.jsx)("div",{className:L.apptitle,children:o||"Application"}),(0,W.jsx)("div",{className:L.dragHangle,ref:f}),(0,W.jsxs)("div",{className:L.btns,children:[a.winSize!==v.MAXIMIZED&&(0,W.jsx)("button",{type:"button",onClick:function(){return d.mize(a.runtimeId,v.MAXIMIZED)},title:"Maximize",className:L.mizeBtn,children:(0,W.jsx)("i",{className:"fa-regular fa-square"})}),(a.winSize===v.MAXIMIZED||a.winSize===v.MINIMIZED)&&(0,W.jsx)("button",{type:"button",onClick:function(){return d.mize(a.runtimeId,v.DEFAULT)},title:"Un-Maximize",className:L.mizeBtn,children:(0,W.jsx)("i",{className:"fa-solid fa-down-left-and-up-right-to-center"})}),(0,W.jsx)("button",{type:"button",onClick:function(){return d.mize(a.runtimeId,v.MINIMIZED)},title:"Minimize",className:L.mizeBtn,children:(0,W.jsx)("i",{className:"fa-solid fa-window-minimize"})}),(0,W.jsx)("button",{type:"button",onClick:A,title:"Close",className:L.mizeBtn,children:(0,W.jsx)("i",{className:"fa-solid fa-xmark"})})]})]}),(0,W.jsx)("div",{className:L.body,children:(0,W.jsx)(i.Suspense,{fallback:(0,W.jsx)(Q,{appName:o}),children:(0,W.jsx)(t,(0,l.A)((0,l.A)({},n),{},{renderMenu:K,onClose:A,onNew:function(){d.run(a.appId)}}))})}),(0,W.jsx)("div",{className:L.statusbar,children:(0,W.jsx)("i",{className:(0,u.A)("fa-solid fa-arrow-up-right-dots",L.repositionHandle),ref:h})})]})};var J=function(e){return function(n){return(0,W.jsx)(Y,{appProps:n,AppComponent:e})}},q=J((function(e){return(0,W.jsxs)("div",{className:R,children:[(0,W.jsx)("i",{className:"fa-solid fa-face-smile"}),(0,W.jsx)("h2",{children:"Welcome to B.O.S.S"}),(0,W.jsxs)("div",{children:[(0,W.jsx)("u",{children:"B"}),"asic ",(0,W.jsx)("u",{children:"OS"})," ",(0,W.jsx)("u",{children:"S"}),"imulation"]})]})})),$=J(r().lazy((function(){return t.e(100).then(t.t.bind(t,100,23))}))),ee="AppsViewerApp_root__sHx-3",ne="AppsViewerApp_inner__DgUUp",te="AppsViewerApp_app__NuVJU",ie="AppsViewerApp_figSlot__YDIVw",re="AppsViewerApp_appIco__cX9XG",ae="AppsViewerApp_appName__t4ByG";var le=function(e){var n=e.allItems,t=e.filterKeys,r=e.setFilteredItems,a=e.className,l=void 0===a?"":a,o=function(e,n){var t=(0,i.useState)(e),r=(0,s.A)(t,2),a=r[0],l=r[1],o=(0,i.useState)(""),c=(0,s.A)(o,2),d=c[0],u=c[1];return[a,d,function(t){var i=t.target.value;u(i);var r=e.filter((function(e){return n.some((function(n){return e[n]&&e[n].toLowerCase().includes(i.toLowerCase())}))}));l(r)}]}(n,t),c=(0,s.A)(o,3),d=c[0],u=c[1],p=c[2];return(0,i.useEffect)((function(){r(d)}),[d,r]),(0,W.jsx)("div",{style:{marginBottom:"15px"},className:l,children:(0,W.jsx)("input",{type:"text",value:u,onChange:p,placeholder:"Type to filter",style:{width:"100%",padding:"5px"}})})},se=J((function(e){var n=e.runtimeInfo,t=e.renderMenu,r=e.onClose,a=e.onNew,l=(0,i.useState)(Object.values(_).filter((function(e){return e.appId!==n.appId}))),o=(0,s.A)(l,1)[0],c=z(),d=(0,i.useState)(o),p=(0,s.A)(d,2),m=p[0],f=p[1];return(0,W.jsxs)(W.Fragment,{children:[t({File:{New:{handleClick:a},"SubMenu 2":{handleClick:function(){return console.log("SubMenu 2")}},Quit:{handleClick:r}},Edit:{Copy:{handleClick:function(){return console.log("Copy")}},Cut:{handleClick:function(){return console.log("Cut")}},Paste:{handleClick:function(){return console.log("Paste")}}}}),(0,W.jsxs)("div",{className:ee,children:[(0,W.jsx)(le,{allItems:o,filterKeys:["name","keywords"],setFilteredItems:f}),(0,W.jsx)("div",{className:ne,children:m.map((function(e){return(0,W.jsxs)("div",{className:(0,u.A)(te,"flex-c"),onDoubleClick:function(){return n=e.appId,void window.setTimeout((function(){c.run(n)}),0);var n},title:e.name,children:[(0,W.jsx)("div",{className:(0,u.A)(ie,"flex-c"),children:e.iconClass&&(0,W.jsx)("i",{className:(0,u.A)(e.iconClass,re)})}),(0,W.jsx)("span",{className:(0,u.A)(ae,"flex-c"),children:e.name})]},e.appId)}))})]})]})})),oe=J((function(e){return(0,W.jsx)("div",{children:"The Timer App - Work in Progress"})})),ce={root:"SettingsApp_root__ZTnGO",container:"SettingsApp_container__D3QmF",left:"SettingsApp_left__x+4BW",btn_panel:"SettingsApp_btn_panel__1MCQI",toggle_btn:"SettingsApp_toggle_btn__vvQZo",left_inner:"SettingsApp_left_inner__p8-GU",selected:"SettingsApp_selected__3ikd2",mid:"SettingsApp_mid__Y5J8y",menu_closed:"SettingsApp_menu_closed__yUNlx",filter:"SettingsApp_filter__Kdgzr"},de={root:"/boss/assets/img/wallpapers/",wallpapers:[{path:"ai-generated-8293344_1280.jpg"},{path:"ai-generated-8327632_1280.jpg"},{path:"beach-front-5819728_1280.jpg"},{path:"dog-8008483_1280.jpg"},{path:"fantasy-3077928_1280.jpg"},{path:"hills-2836301_1280.jpg"},{path:"horse-8008038_1280.jpg"},{path:"interior-design-7413418_1280.jpg"},{path:"pier-1467984_1280.jpg"},{path:"plouzane-1758197.jpg"},{path:"rapeseed-7172836_1280.jpg"},{path:"sci-fi-2992797_1280.jpg"},{path:"sports-car-4815234_1280.jpg"},{path:"superbike-930715_1280.jpg"},{path:"toyota-967011_1280.jpg"},{path:"the-fish-3426368_1280.jpg"},{path:"woman-6882242_1280.jpg"}]},ue="ChangeWallpaper_wallpapers_container__I0Wl7",pe={TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right"},me={wallpaper:"/boss/assets/img/wallpapers/ai-generated-8293344_1280.jpg",dock:{position:pe.BOTTOM},window:{closeBtnPosition:j.RIGHT}},fe=(0,g.Z0)({name:"settings",initialState:me,reducers:{changeWallpaper:function(e,n){e.wallpaper=n.payload},changeDockPosition:function(e,n){Object.values(pe).includes(n.payload)&&(e.dock.position=n.payload)},changeWindowCloseBtnPosition:function(e,n){Object.values(j).includes(n.payload)&&(e.window.closeBtnPosition=n.payload)}}}),he=fe.actions,ge=he.changeWallpaper,xe=he.changeDockPosition,_e=he.changeWindowCloseBtnPosition,ve=fe.reducer;var je,Ie=function(){var e=(0,c.wA)();return(0,W.jsx)("div",{children:(0,W.jsx)("ul",{className:ue,children:de.wallpapers.map((function(n){return(0,W.jsx)("li",{children:(0,W.jsx)("img",{src:"".concat(de.root).concat(n.path),alt:"wallpaper",onClick:function(){return function(n){e(ge(n))}("".concat(de.root).concat(n.path))}})},n.path)}))})})},Ae=d.Ay.div(je||(je=(0,o.A)(["\n    padding: 10px;\n\n    .section > h2 {\n        /* font-size: 1.2rem; */\n    }\n\n    .section + .section {\n        margin-top: 30px;\n    }\n\n    ul.choices {\n        display: grid;\n        grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));\n        gap: 10px;\n\n        li input + label {\n            margin-left: 5px;\n        }\n    }\n"]))),ye={menuItems:[{id:1,name:"Wallpaper",component:Ie},{id:2,name:"Look & Feel",component:function(){var e=(0,c.wA)(),n=(0,c.d4)((function(e){return e.settings.dock.position})),t=(0,c.d4)((function(e){return e.settings.window.closeBtnPosition}));return(0,W.jsxs)(Ae,{children:[(0,W.jsxs)("div",{className:"section",children:[(0,W.jsx)("h2",{children:"Dock Position"}),(0,W.jsx)("ul",{className:"choices",children:Object.keys(pe).map((function(t){return(0,W.jsxs)("li",{children:[(0,W.jsx)("input",{type:"radio",name:"dock_position",id:"dock_position_".concat(t),value:pe[t],checked:n===pe[t],onChange:function(){return e(xe(pe[t]))}}),(0,W.jsx)("label",{htmlFor:"dock_position_".concat(t),children:t})]},t)}))})]}),(0,W.jsxs)("div",{className:"section",children:[(0,W.jsx)("h2",{children:"Window Close Button Position"}),(0,W.jsx)("ul",{className:"choices",children:Object.keys(j).map((function(n){return(0,W.jsxs)("li",{children:[(0,W.jsx)("input",{type:"radio",name:"window_closebtn_position",id:"window_closebtn_position_".concat(n),value:j[n],checked:t===j[n],onChange:function(){return e(_e(j[n]))}}),(0,W.jsx)("label",{htmlFor:"window_closebtn_position_".concat(n),children:n})]},n)}))})]})]})}},{id:3,name:"Menu Item 3",component:function(){return(0,W.jsx)("div",{children:"Menu Item 3 Placeholer"})}},{id:4,name:"Menu Item 4",component:function(){return(0,W.jsx)("div",{children:"Menu Item 4 Placeholer"})}},{id:5,name:"Menu Item 5",component:function(){return(0,W.jsx)("div",{children:"Menu Item 5 Placeholer"})}}]},be=J((function(e){var n=ye.menuItems,t=(0,i.useState)(n[0].id),r=(0,s.A)(t,2),a=r[0],l=r[1],o=(0,i.useState)(!1),c=(0,s.A)(o,2),d=c[0],p=c[1],m=(0,i.useState)(n),f=(0,s.A)(m,2),h=f[0],g=f[1];return(0,W.jsx)("div",{className:ce.root,children:(0,W.jsxs)("div",{className:(0,u.A)(ce.container,d&&ce.menu_closed),children:[(0,W.jsx)("div",{className:ce.btn_panel,children:(0,W.jsx)("button",{className:ce.toggle_btn,onClick:function(){return p(!d)},children:(0,W.jsx)("i",{className:"fa-solid fa-arrow-left-long"})})}),(0,W.jsxs)("section",{className:ce.left,children:[(0,W.jsx)(le,{allItems:n,filterKeys:["name"],setFilteredItems:g,className:ce.filter}),(0,W.jsx)("ul",{className:ce.left_inner,children:h.map((function(e){return(0,W.jsx)("li",{className:(0,u.A)(a===e.id&&ce.selected),onClick:function(){return l(e.id)},children:e.name},e.id)}))})]}),(0,W.jsx)("section",{className:ce.mid,children:(0,W.jsx)("section",{className:ce.mid_inner,children:n.map((function(e){return(0,W.jsx)("div",{className:(0,u.A)(a!==e.id&&"hidden"),children:e.component()},e.id)}))})})]})})})),we="TerminalApp_root__hnkgI",Ne="TerminalApp_historyTxt__NdHdn",Ce="TerminalApp_inputArea__6htWV",ke=function(e,n){if("apps"===n[0]){var t="\nHere are the available apps:\n\n";return Object.values(_).forEach((function(e){t+="".concat(e.name," (AppId: ").concat(e.appId,")\n")})),[t+="\nType `run &lt;appId&gt;` to run a app\n\n",0]}return[Se,0]},Se="\nAvailable Commands:\nhelp - Show this help text\nhelp apps - Show available apps\n\nrun &lt;appId&gt; - Run an app\n\nls - List files in the current directory\npwd - Show current directory path\n\ncd &lt;dir&gt; - Change directory\nmd &lt;dir&gt; - Make a new directory\nmkdir - alias for md\ntouch &lt;file&gt; - Create a new file\ncls - Clear the terminal screen\nclear - alias for cls\n\n";var Fe=t(765),Te=t(73),Me="FILE",ze="FOLDER";var We={get:function(e){return JSON.parse(localStorage.getItem(e)||null)},set:function(e,n){return localStorage.setItem(e,JSON.stringify(n))},clear:function(e){return localStorage.setItem(e,"")}},De=function(e){return/^[a-zA-Z0-9-._ ]{1,}$/.test(e)};var Ee="BOSS/FILE-TREE",Be={"/":{id:"/",name:"/",fileType:ze,parentId:null,children:["documents","file0"]},documents:{id:"documents",name:"Documents",fileType:ze,parentId:"/",children:[]},file0:{id:"file0",name:"Hello Boss",fileType:Me,parentId:"/",content:"Hello Boss.\nThis is a text file"}},Oe=We.get(Ee)||Be;We.set(Ee,Oe);var Pe=(0,g.Z0)({name:"fileSystem",initialState:Oe,reducers:{create:function(e,n){var t=n.payload,i=function(e,n,t,i,r){if(!n.trim()||!De(n))return e;if(!(t in e)||e[t].fileType!==ze)return e;if(e[t].children.map((function(n){return e[n].name})).includes(n))return e;var a=function(e,n,t,i){return{id:(0,Te.A)(),name:e,parentId:n,fileType:t,owner:i,date_creation:Date.now(),date_modification:Date.now(),children:t===ze?[]:null}}(n,t,i,r),s=(0,l.A)((0,l.A)({},e),{},(0,h.A)({},a.id,a));t&&(s[t]=(0,l.A)((0,l.A)({},s[t]),{},{children:[].concat((0,f.A)(s[t].children),[a.id])}));return s}(e,t.name,t.parentId,t.fileType,t.owner);return We.set(Ee,i),i},rename:function(e,n){var t=n.payload,i=function(e,n,t){if(!t.trim()||!De(t))return e;if(!(n in e))return e;var i=e[n].parentId;if(e[i].children.map((function(n){return e[n].name})).includes(t))return e;var r=(0,l.A)((0,l.A)({},e),{},(0,h.A)({},n,(0,l.A)((0,l.A)({},e[n]),{},{name:t})));return r}(e,t.fileId,t.newName);return We.set(Ee,i),i}}}),Ze=Pe.actions,He=Ze.create,Re=Ze.rename,Le=Pe.reducer;var Ue=function(){var e=(0,c.d4)((function(e){return e.files})),n=(0,c.wA)(),t=(0,i.useCallback)((function(t,i,r){return Xe(e,n,t,i,Me,r)}),[n,e]),r=function(t,i,r){return Xe(e,n,t,i,ze,r)},a=r,l=(0,i.useCallback)((function(n){return Ge(e,n)}),[e]);return{allFiles:e,createFile:t,createDir:r,createFolder:a,getParentId:function(n){return function(e,n){return"/"===n?"/":e[n].parentId}(e,n)},getChildren:l,getChildrenNames:function(n){return function(e,n){return Ge(e,n).map((function(e){return e.name}))}(e,n)},getPathTill:function(n){return function(e,n){var t=[];for(;n in e;)t.push(e[n].name),n=e[n].parentId;return t.reverse().join("/").replace("//","/")}(e,n)},getFileInfo:function(n){return function(e,n){if(n=function(e){for(var n=e[0],t=1;t<e.length;++t)e[t]===e[t-1]&&"/"===e[t]||(n+=e[t]);return n}(n),"/"===n)return e["/"];var t,i=n.split("/").filter((function(e){return e.trim().length>0})),r=Ge(e,"/"),a=null,l=(0,Fe.A)(i);try{for(l.s();!(t=l.n()).done;){var s,o=t.value,c=!1,d=(0,Fe.A)(r);try{for(d.s();!(s=d.n()).done;){var u=s.value;if(u.name===o){c=!0,a=u,r=Ge(e,u.id);break}}}catch(p){d.e(p)}finally{d.f()}if(!c)return null}}catch(p){l.e(p)}finally{l.f()}return a}(e,n)},rename:function(t,i){return Ve(e,n,i,t)}}};function Xe(e,n,t,i,r,a){return t.trim()&&De(t)?i in e&&e[i].fileType===ze?e[i].children.map((function(n){return e[n].name})).includes(t)?'File/folder name "'.concat(t,'" already exists'):(n(He({name:t,parentId:i,fileType:r,owner:a})),""):"Can not create file/folder in the given location":"Invalid name ".concat(t)}function Ve(e,n,t,i){if(!t.trim()||!De(t))return"Invalid name ".concat(t);if(!(i in e))return"File ID (".concat(i,") not valid");var r=e[i].parentId;return e[r].children.map((function(n){return e[n].name})).includes(t)?'File/folder name "'.concat(t,'" already exists'):(n(Re({fileId:i,newName:t})),"")}function Ge(e,n){var t=[];if(""===n)t=Object.values(e).filter((function(e){return e.parentId===n}));else if(n in e){t=(e[n].children||[]).map((function(n){return e[n]}))}return t}function Qe(e){var n=function(){var e=Ue();return{ls:function(n,t){return[e.getChildrenNames(n.currentFolderId).join(", "),0]},pwd:n,touch:function(n,t){var i,r="",a=(0,Fe.A)(t);try{for(a.s();!(i=a.n()).done;){var l=i.value,s=e.createFile(l,n.currentFolderId);s&&(r+=s+"\n")}}catch(o){a.e(o)}finally{a.f()}return[r,0]},mkdir:t,md:t,cd:function(t,i){var r=i[0];if(!r)return["",0];"."!==r[0]&&"/"!==r[0]&&(r=n(t)[0]+"/"+r);var a=e.getFileInfo(r);return a&&a.fileType===ze?(t.currentFolderId=a.id,["",0]):['"'.concat(r,'" is not a folder to move into')]}};function n(n,t){return[e.getPathTill(n.currentFolderId),0]}function t(n,t){var i,r="",a=(0,Fe.A)(t);try{for(a.s();!(i=a.n()).done;){var l=i.value,s=e.createDir(l,n.currentFolderId);s&&(r+=s+"\n")}}catch(o){a.e(o)}finally{a.f()}return[r,0]}}(),t=function(){var e=z().run;return function(n,t){try{return e.apply(void 0,[t[0],{ctx:n}].concat((0,f.A)(t.slice(1)))),n.error?[n.error,99]:["Attempting to run "+t,0]}catch(i){return["Failed to run the App"]}}}();return{process:function(i){return function(e,n){for(var t=function(e){e=e.trim();var n,t=[],i="",r="",a={},l=!1,s=0,o=(0,Fe.A)(e);try{for(o.s();!(n=o.n()).done;){var c=n.value;if('"'===c)if(l){if((r=r.trim()).length>0){var d="".concat("__QS__").concat(++s);i+=d,a[d]=r,r=""}l=!1}else l=!0;else" "===c?l?r+=c:(i=i.trim()).length>0&&(t.push(i),i=""):l?r+=c:i+=c}}catch(u){o.e(u)}finally{o.f()}return i.length>0&&t.push(i),t.map((function(e){return e.replaceAll(/__QS__[0-9]{1,}/gm,(function(e){return a[e]||e}))}))}(e),i=t[0],r={},a=arguments.length,o=new Array(a>2?a-2:0),c=2;c<a;c++)o[c-2]=arguments[c];for(var d=0,u=o;d<u.length;d++){var p=u[d];r=(0,l.A)((0,l.A)({},r),p)}var m='Sorry could not find the command "<b>'.concat(i,'</b>"'),f=-1;if(i in r){var h=r[i](n,t.slice(1)),g=(0,s.A)(h,2);m=g[0],f=g[1]}return{msg:m,code:f,ctx:n}}(i,e,(0,l.A)({help:ke,run:t},n))}}}var Ke=function(e,n){return'<div style="color: '.concat(n,'">').concat(e,"</div>")},Ye=J((function(e){var n=(0,i.useState)("$ > "),t=(0,s.A)(n,1)[0],r=(0,i.useState)(Ke("Welcome to the B.O.S.S. terminal \n(Type `help` to know the available commands)","lightyellow")),a=(0,s.A)(r,2),l=a[0],o=a[1],c=(0,i.useState)(t),d=(0,s.A)(c,2),u=d[0],p=d[1],m=(0,i.useState)([]),h=(0,s.A)(m,2),g=h[0],x=h[1],_=(0,i.useState)(0),v=(0,s.A)(_,2),j=v[0],I=v[1],A=(0,i.useRef)(),y=(0,i.useRef)({}),b=Qe(y.current).process;(0,i.useEffect)((function(){var e=A.current;e.focus(),e.selectionStart=e.selectionEnd=e.value.length}),[]),(0,i.useEffect)((function(){y.current={currentFolderId:"/"}}),[]);return(0,W.jsxs)("div",{className:we,children:[(0,W.jsx)("div",{className:Ne,dangerouslySetInnerHTML:{__html:l}}),(0,W.jsx)("textarea",{className:Ce,value:u,ref:A,onChange:function(e){var n=e.target.value;n.startsWith(t)&&p(n)},onKeyUp:function(e){var n=e.keyCode;if(13===n){var i=u.substring(t.length).trim();if(0===i.length)return;if("cls"===i||"clear"===i)o("");else{var r=b(i,y.current),a=l+Ke(u,"lightgreen")+Ke(r.msg,"white");o(a)}if(p(t),i!==g[g.length-1]){var s=[].concat((0,f.A)(g),[i]);x(s),I(s.length)}}else if(38===n){if(0===g.length)return;var c=j>0?j-1:0;I(c),p(t+g[c])}else if(40===n){if(0===g.length)return;var d=j<g.length-1?j+1:g.length-1;I(d),p(t+g[d])}}})]})})),Je="FoldersApp_root__CdN1-",qe="FoldersApp_locationBar__lR9vB",$e="FoldersApp_loc__rXGZe",en="FoldersApp_btns__vQOzO",nn="FoldersApp_inner__lYEzr",tn="File_file__MMHS5",rn="File_ffIco__5bYlD",an="File_fname__-Nx+X",ln="File_fileIcoBtnHolder__+srav",sn=function(e){var n=e.file,t=e.open,r=e.existingFileNames,a=(0,i.useState)(""),l=(0,s.A)(a,2),o=l[0],c=l[1],d=Ue();(0,i.useEffect)((function(){c(n.name)}),[n.name]);return(0,W.jsxs)("div",{className:tn,onDoubleClick:function(){return t(n.id,n.fileType)},title:n.name,children:[(0,W.jsx)("div",{className:ln,children:(0,W.jsx)("button",{type:"button",title:n.name,children:(0,W.jsxs)("span",{className:rn,children:[n.fileType===Me&&(0,W.jsx)("i",{className:"fa-solid fa-file-lines"}),n.fileType===ze&&(0,W.jsx)("i",{className:"fa-regular fa-folder-open"})]})})}),(0,W.jsx)("input",{className:an,type:"text",value:o,onChange:function(e){var n=e.target.value;De(n)&&c(n)},onBlur:function(){r.includes(o)?c(n.name):d.rename(n.id,o)},title:n.name})]})},on=J((function(e){var n=e.renderMenu,t=e.onClose,r=e.onNew,a=Ue(),l=a.allFiles,o=a.getChildren,c=(0,i.useState)("/"),d=(0,s.A)(c,2),u=d[0],p=d[1],m=(0,i.useState)(a.getChildren(u)),f=(0,s.A)(m,2),h=f[0],g=f[1];(0,i.useEffect)((function(){g(o(u))}),[l,u,o]);var x=(0,i.useCallback)((function(){var e=o(u);g(e)}),[l,u,o]),_=function(){var e=Math.floor(999*Math.random());a.createFile("File_".concat(e),u),x()},v=function(){var e=Math.floor(999*Math.random());a.createDir("Folder_".concat(e),u),x()},j=function(e,n){n===ze&&(p(e),g(a.getChildren(e)))};return(0,W.jsxs)(W.Fragment,{children:[n({File:{"New Window":{handleClick:r},"New File":{handleClick:_},"New Folder":{handleClick:v},Quit:{handleClick:t}}}),(0,W.jsxs)("div",{className:Je,children:[(0,W.jsxs)("div",{className:qe,children:[(0,W.jsx)("div",{className:$e,children:a.getPathTill(u)}),(0,W.jsxs)("div",{className:en,children:[(0,W.jsx)("i",{className:"fa-solid fa-rotate-right",onClick:x}),(0,W.jsx)("i",{className:"fa-solid fa-arrow-up",onClick:function(){var e=a.getParentId(u);p(e),g(a.getChildren(e))}})]})]}),(0,W.jsx)("div",{children:(0,W.jsx)("div",{className:nn,children:h&&h.map((function(e){return(0,W.jsx)(sn,{file:e,open:j,refresh:x,existingFileNames:h.map((function(e){return e.name}))},e.id)}))})})]})]})})),cn={appsviewer:se,settings:be,terminal:Ye,folders:on,bin:J((function(e){return(0,W.jsx)("div",{children:"The Bin App - Under Development"})})),welcomeapp:q,bcalc:$,timer:oe},dn=function(){var e=Object.values((0,c.d4)((function(e){return e.procs})));return(0,W.jsx)("div",{className:"apps_container",children:e.map((function(e){var n=cn[e.appId];return n?(0,W.jsx)(n,{runtimeInfo:e},e.runtimeId):null}))})},un=function(){var e=(0,c.d4)((function(e){return e.settings}));return(0,W.jsxs)("div",{className:"App",style:{backgroundImage:"url(".concat(e.wallpaper,")")},children:[(0,W.jsx)(dn,{}),(0,W.jsx)(H,{})]})},pn=function(e){e&&e instanceof Function&&t.e(453).then(t.bind(t,453)).then((function(n){var t=n.getCLS,i=n.getFID,r=n.getFCP,a=n.getLCP,l=n.getTTFB;t(e),i(e),r(e),a(e),l(e)}))},mn=(0,g.Z0)({name:"apps",initialState:_,reducers:{}}).reducer,fn=(0,g.U1)({reducer:{apps:mn,procs:k,files:Le,settings:ve}});a.createRoot(document.getElementById("root")).render((0,W.jsx)(r().StrictMode,{children:(0,W.jsx)(c.Kq,{store:fn,children:(0,W.jsx)(un,{})})})),pn()}}]);
//# sourceMappingURL=504.205bb14f.chunk.js.map